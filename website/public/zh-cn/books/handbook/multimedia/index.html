<!DOCTYPE html>
<html class="theme-light" lang="zh-cn">
  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content=""/>
  <meta name="keywords" content=""/>
  <meta name="copyright" content="1995-2023 The FreeBSD Foundation" />
  <link rel="canonical" href="http://127.0.0.1:5500/zh-cn/books/handbook/multimedia/" />

  <title>第 8 章 多媒体 |  FreeBSD Documentation Portal</title>

  <meta name="theme-color" content="#790000">
  <meta name="color-scheme" content="system light dark high-contrast">

    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="stylesheet" href="/styles/main.min.css">
    <link rel="stylesheet" href="/css/font-awesome-min.css">
    <script defer src="/js/theme-chooser.min.js"></script>
    <script defer src="/js/copy-clipboard.min.js"></script>
    <script defer src="/js/search.min.js"></script>

  
  
    <meta name="twitter:card" content="summary"/>
    <meta name="twitter:domain" content="docs.FreeBSD.org"/>
    <meta name="twitter:site" content="@freebsd"/>
    <meta name="twitter:url" content="https://twitter.com/freebsd"/>
    <meta property="og:title" content="第 8 章 多媒体" />
    <meta property="og:description" content="" />
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="http://127.0.0.1:5500favicon.ico"/>
    <meta property="og:image:alt" content="FreeBSD Logo">
    <meta property="og:locale" content="zh-cn" />
    <meta property="og:url" content="http://127.0.0.1:5500/zh-cn/books/handbook/multimedia/" />
    <meta property="og:site_name" content="FreeBSD Documentation Portal" />
    <script type="application/ld+json">
      {
        "@context": "http://schema.org",
        "@type": "Article",
        "url": "http:\/\/127.0.0.1:5500\/zh-cn\/books\/handbook\/multimedia\/",
        "name": "FreeBSD Documentation Portal",
        "headline": "FreeBSD Documentation Portal",
        "description": "FreeBSD Documentation Portal"
      }
    </script>
    

  
</head>


  <body>
    <header>
  <div class="header-container">
    <div class="logo-menu-bars-container">
      <a href="http://127.0.0.1:5500" class="logo">
        <img src="/images/FreeBSD-monochromatic.svg" width="160" height="50" alt="FreeBSD logo" />
      </a>
      <label class="menu-bars" for="menu-bars">
        <i class="fa fa-bars" aria-hidden="true"></i>
      </label>
    </div>
    <input id="menu-bars" type="checkbox" />
    
    <div class="search-donate-container">
      
      
    </div>
  </div>
</header>

    
<input type="checkbox" class="hidden toggle" id="menu-control">
<main class="main-wrapper-book">
  <a id="top"></a>
  
  <aside class="book-menu">
    <div class="book-menu-content">
      <input id="search-book" type="text" placeholder="Search" aria-label="Search" maxlength="128" />
      <nav id="MenuContents">
        
  <ul>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-8ada319c45e780947f82b569049480cc" class="toggle"  />
          <label  class="icon cursor"  for="chapter-8ada319c45e780947f82b569049480cc"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/preface/">
              前言
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/preface/#preface-audience">预期的读者</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/preface/#preface-changes-from3">相对于第三版的改动</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/preface/#preface-changes-from2">相对于第二版的改动 (2004)</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/preface/#preface-changes">相对于第一版的改变 (2001)</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/preface/#preface-overview">本手册的组织</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/preface/#preface-conv">本书中使用的一些约定</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/preface/#preface-acknowledgements">致谢</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-32a83d18a326852a8d9ae2582360bbc8" class="toggle"  />
          <label  for="chapter-32a83d18a326852a8d9ae2582360bbc8"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/parti/">
              部分 I. 起步
            </a>
            
            
          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-a4909db05d872d16d5be86a57cbc2dc7" class="toggle"  />
          <label  class="icon cursor"  for="chapter-a4909db05d872d16d5be86a57cbc2dc7"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/introduction/">
              第 1 章 介绍
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/introduction/#introduction-synopsis">1. 概述</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/introduction/#nutshell">2. 欢迎来到 FreeBSD 的世界!</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/introduction/#history">3. 关于 FreeBSD 项目</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-6655173739803bf0920b92a7fe8a363d" class="toggle"  />
          <label  class="icon cursor"  for="chapter-6655173739803bf0920b92a7fe8a363d"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/install/">
              第 2 章 安装 FreeBSD
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/install/#install-synopsis">1. 概述</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/install/#install-hardware">2. 硬件需求</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/install/#install-pre">3. 安装前的准备工作</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/install/#install-start">4. 开始安装</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/install/#using-sysinstall">5. 介绍 Sysinstall</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/install/#install-steps">6. 分配磁盘空间</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/install/#install-choosing">7. 选择要安装的软件包</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/install/#install-media">8. 选择您要使用的安装介质</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/install/#install-final-warning">9. 安装确认</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/install/#install-post">10. 安装后的配置</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/install/#install-trouble">11. 常见问题</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/install/#install-advanced">12. 高级安装指南</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/install/#install-diff-media">13. 准备您自己的安装介质</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-3c2455cadf89eadd3f6e77461085d5e9" class="toggle"  />
          <label  class="icon cursor"  for="chapter-3c2455cadf89eadd3f6e77461085d5e9"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/bsdinstall/">
              第 3 章 安装 FreeBSD（适用于 9.x 及以后版本）
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/bsdinstall/#bsdinstall-synopsis">1. 概述</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/bsdinstall/#bsdinstall-hardware">2. 硬件需求</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/bsdinstall/#bsdinstall-pre">3. 安装前的准备工作</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/bsdinstall/#bsdinstall-start">4. 开始安装</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/bsdinstall/#using-bsdinstall">5. 介绍 bsdinstall</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/bsdinstall/#bsdinstall-netinstall">6. 通过网络安装</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/bsdinstall/#bsdinstall-partitioning">7. 分配磁盘空间</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/bsdinstall/#bsdinstall-final-warning">8. 安装确认</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/bsdinstall/#bsdinstall-post">9. 安装后的配置</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/bsdinstall/#bsdinstall-install-trouble">10. 故障排除</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-709481b75d22ad36960f7ac166b3306c" class="toggle"  />
          <label  class="icon cursor"  for="chapter-709481b75d22ad36960f7ac166b3306c"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/basics/">
              第 4 章 UNIX 基础
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/basics/#basics-synopsis">1. 概述</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/basics/#consoles">2. 虚拟控制台和终端</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/basics/#permissions">3. 权限</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/basics/#dirstructure">4. 目录架构</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/basics/#disk-organization">5. 磁盘组织</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/basics/#mount-unmount">6. 文件系统的挂接和卸下</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/basics/#basics-processes">7. 进程</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/basics/#basics-daemons">8. 守护进程，信号和杀死进程</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/basics/#shells">9. Shells</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/basics/#editors">10. 文本编辑器</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/basics/#basics-devices">11. 设备和设备节点</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/basics/#binary-formats">12. 二进制文件格式</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/basics/#basics-more-information">13. 取得更多的资讯</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-58c050d31a1fbecd859248dacefeb567" class="toggle"  />
          <label  class="icon cursor"  for="chapter-58c050d31a1fbecd859248dacefeb567"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/ports/">
              第 5 章 安装应用程序: Packages 和 Ports
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/ports/#ports-synopsis">1. 概述</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/ports/#ports-overview">2. 软件安装预览</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/ports/#ports-finding-applications">3. 寻找您要的应用程序</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/ports/#packages-using">4. 使用 Package 系统</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/ports/#ports-using">5. 使用Ports Collection</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/ports/#ports-nextsteps">6. 安装之后还要做点什么？</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/ports/#ports-broken">7. 如何处理坏掉的 Ports</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-e5a000ce7f50680a180e2c1b83c121bc" class="toggle"  />
          <label  class="icon cursor"  for="chapter-e5a000ce7f50680a180e2c1b83c121bc"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/x11/">
              第 6 章 X Window 系统
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/x11/#x11-synopsis">1. 概述</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/x11/#x-understanding">2. 理解 X</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/x11/#x-install">3. 安装 X11</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/x11/#x-config">4. 配置 X11</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/x11/#x-fonts">5. 在 X11 中使用字体</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/x11/#x-xdm">6. X 显示管理器</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/x11/#x11-wm">7. 桌面环境</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-5eb30759c3a2873e716dc31d7760054c" class="toggle"  />
          <label  for="chapter-5eb30759c3a2873e716dc31d7760054c"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/partii/">
              部分 II. 常见的任务
            </a>
            
            
          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-c96504f017c56f4bc7f71548cccf5382" class="toggle"  />
          <label  class="icon cursor"  for="chapter-c96504f017c56f4bc7f71548cccf5382"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/desktop/">
              第 7 章 桌面应用
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/desktop/#desktop-synopsis">1. 概述</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/desktop/#desktop-browsers">2. 浏览器</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/desktop/#desktop-productivity">3. 办公、图象处理</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/desktop/#desktop-viewers">4. 文档查看器</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/desktop/#desktop-finance">5. 财务</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/desktop/#desktop-summary">6. 总结</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-e1898af36aaacc168e13b673d25b908f" class="toggle"  checked  />
          <label  class="icon cursor"  for="chapter-e1898af36aaacc168e13b673d25b908f"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/multimedia/">
              第 8 章 多媒体
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/multimedia/#multimedia-synopsis">1. 概述</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/multimedia/#sound-setup">2. 安装声卡</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/multimedia/#sound-mp3">3. MP3音频</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/multimedia/#video-playback">4. 视频回放</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/multimedia/#tvcard">5. 安装电视卡</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/multimedia/#scanners">6. 图象扫描仪</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-6926664836e63c5cae4b2fa60855f91d" class="toggle"  />
          <label  class="icon cursor"  for="chapter-6926664836e63c5cae4b2fa60855f91d"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/kernelconfig/">
              第 9 章 配置FreeBSD的内核
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/kernelconfig/#kernelconfig-synopsis">1. 概述</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/kernelconfig/#kernelconfig-custom-kernel">2. 为什么需要建立定制的内核?</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/kernelconfig/#kernelconfig-devices">3. 发现系统硬件</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/kernelconfig/#kernelconfig-modules">4. 内核驱动，子系统和模块</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/kernelconfig/#kernelconfig-building">5. 建立并安装一个定制的内核</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/kernelconfig/#kernelconfig-config">6. 配置文件</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/kernelconfig/#kernelconfig-trouble">7. 如果出现问题怎么办</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-19d36bd70a320268f0ea1f66e4f3e224" class="toggle"  />
          <label  class="icon cursor"  for="chapter-19d36bd70a320268f0ea1f66e4f3e224"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/printing/">
              第 10 章 打印
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/printing/#printing-synopsis">1. 概述</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/printing/#printing-intro-spooler">2. 介绍</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/printing/#printing-intro-setup">3. 基本设置</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/printing/#printing-advanced">4. 高级设置</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/printing/#printing-using">5. 使用打印机</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/printing/#printing-lpd-alternatives">6. 替换标准后台打印</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/printing/#printing-troubleshooting">7. 疑难问题</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-a07f539e6c18f2db4da5dbb2b5bb1e79" class="toggle"  />
          <label  class="icon cursor"  for="chapter-a07f539e6c18f2db4da5dbb2b5bb1e79"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/linuxemu/">
              第 11 章 Linux® 二进制兼容模式
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/linuxemu/#linuxemu-synopsis">1. 概述</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/linuxemu/#linuxemu-lbc-install">2. 配置 Linux® 二进制兼容模式</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/linuxemu/#linuxemu-advanced">3. 高级主题</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-51416fdea9d5a1dfa1c2718cd825213a" class="toggle"  />
          <label  for="chapter-51416fdea9d5a1dfa1c2718cd825213a"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/partiii/">
              部分 III. 系统管理
            </a>
            
            
          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-532d0380ba66d66e033765a0b6930ee7" class="toggle"  />
          <label  class="icon cursor"  for="chapter-532d0380ba66d66e033765a0b6930ee7"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/config/">
              第 12 章 设置和调整
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/config/#config-synopsis">1. 概述</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/config/#configtuning-initial">2. 初步配置</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/config/#configtuning-core-configuration">3. 核心配置</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/config/#configtuning-appconfig">4. 应用程序配置</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/config/#configtuning-starting-services">5. 启动服务</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/config/#configtuning-cron">6. 配置 <code>cron</code></a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/config/#configtuning-rcd">7. 在 FreeBSD 中使用 rc</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/config/#config-network-setup">8. 设置网卡</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/config/#configtuning-virtual-hosts">9. 虚拟主机</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/config/#configtuning-configfiles">10. 配置文件</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/config/#configtuning-sysctl">11. 用 sysctl 进行调整</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/config/#configtuning-disk">12. 调整磁盘</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/config/#configtuning-kernel-limits">13. 调整内核限制</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/config/#adding-swap-space">14. 添加交换空间</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/config/#acpi-overview">15. 电源和资源管理</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/config/#ACPI-debug">16. 使用和调试 FreeBSD ACPI</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-d05f41680fb7e3d68b354ae03de368b1" class="toggle"  />
          <label  class="icon cursor"  for="chapter-d05f41680fb7e3d68b354ae03de368b1"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/boot/">
              第 13 章 FreeBSD 引导过程
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/boot/#boot-synopsis">1. 概述</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/boot/#boot-introduction">2. 引导问题</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/boot/#boot-blocks">3. 引导管理器和各引导阶段</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/boot/#boot-kernel">4. 内核在引导时的交互</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/boot/#device-hints">5. Device Hints</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/boot/#boot-init">6. Init：进程控制及初始化</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/boot/#boot-shutdown">7. 关机 (shutdown) 过程</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-17a53b356b407d9ed656b7babd2efa34" class="toggle"  />
          <label  class="icon cursor"  for="chapter-17a53b356b407d9ed656b7babd2efa34"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/users/">
              第 14 章 用户和基本的帐户管理
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/users/#users-synopsis">1. 概述</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/users/#users-introduction">2. 介绍</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/users/#users-superuser">3. 超级用户帐户</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/users/#users-system">4. 系统帐户</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/users/#users-user">5. 用户帐户</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/users/#users-modifying">6. 修改帐户</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/users/#users-limiting">7. 限制用户使用系统资源</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/users/#users-groups">8. 组</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-513e8e407c57354df334059688e9b60a" class="toggle"  />
          <label  class="icon cursor"  for="chapter-513e8e407c57354df334059688e9b60a"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/security/">
              第 15 章 安全
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/security/#security-synopsis">1. 概述</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/security/#security-intro">2. 介绍</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/security/#securing-freebsd">3. 确保 FreeBSD 的安全</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/security/#crypt">4. DES、 Blowfish、 MD5， 以及 Crypt</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/security/#one-time-passwords">5. 一次性口令</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/security/#tcpwrappers">6. TCP Wrappers</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/security/#kerberos5">7. Kerberos5</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/security/#openssl">8. OpenSSL</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/security/#ipsec">9. IPsec 上的 VPN</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/security/#openssh">10. OpenSSH</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/security/#fs-acl">11. 文件系统访问控制表</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/security/#security-portaudit">12. 监视第三方安全问题</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/security/#security-advisories">13. FreeBSD 安全公告</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/security/#security-accounting">14. 进程记帐</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-0f7d2858504c83a029928c048d394e2a" class="toggle"  />
          <label  class="icon cursor"  for="chapter-0f7d2858504c83a029928c048d394e2a"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/jails/">
              第 16 章 Jails
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/jails/#jails-synopsis">1. 概述</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/jails/#jails-terms">2. 与 Jail 相关的一些术语</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/jails/#jails-intro">3. 介绍</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/jails/#jails-build">4. 建立和控制 jail</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/jails/#jails-tuning">5. 微调和管理</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/jails/#jails-application">6. Jail 的应用</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-15be125ce5997f51c5499e3a0dee6c2c" class="toggle"  />
          <label  class="icon cursor"  for="chapter-15be125ce5997f51c5499e3a0dee6c2c"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/mac/">
              第 17 章 强制访问控制
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mac/#mac-synopsis">1. 概要</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mac/#mac-inline-glossary">2. 本章出现的重要术语</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mac/#mac-initial">3. 关于 MAC 的说明</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mac/#mac-understandlabel">4. 理解 MAC 标签</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mac/#mac-planning">5. 规划安全配置</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mac/#mac-modules">6. 模块配置</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mac/#mac-seeotheruids">7. MAC seeotheruids 模块</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mac/#mac-bsdextended">8. MAC bsdextended 模块</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mac/#mac-ifoff">9. MAC ifoff 模块</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mac/#mac-portacl">10. MAC portacl 模块</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mac/#mac-partition">11. MAC partition (分区) 模块</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mac/#mac-mls">12. MAC 多级 (Multi-Level) 安全模块</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mac/#mac-biba">13. MAC Biba 模块</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mac/#mac-lomac">14. MAC LOMAC 模块</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mac/#mac-implementing">15. MAC Jail 中的 Nagios</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mac/#mac-userlocked">16. User Lock Down</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mac/#mac-troubleshoot">17. MAC 框架的故障排除</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-3f7e8d763b17c7d0c44c60505cf0feea" class="toggle"  />
          <label  class="icon cursor"  for="chapter-3f7e8d763b17c7d0c44c60505cf0feea"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/audit/">
              第 18 章 安全事件审计
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/audit/#audit-synopsis">1. 概述</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/audit/#audit-inline-glossary">2. 本章中的一些关键术语</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/audit/#audit-install">3. 安装审计支持</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/audit/#audit-config">4. 对审计进行配置</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/audit/#audit-administration">5. 管理审计子系统</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-7bb1cb2287cd08a3672cc878e604f0d0" class="toggle"  />
          <label  class="icon cursor"  for="chapter-7bb1cb2287cd08a3672cc878e604f0d0"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/disks/">
              第 19 章 存储
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/disks/#disks-synopsis">1. 概述</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/disks/#disks-naming">2. 设备命名</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/disks/#disks-adding">3. 添加磁盘</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/disks/#raid">4. RAID</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/disks/#usb-disks">5. USB 存储设备</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/disks/#creating-cds">6. 创建和使用光学介质(CD)</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/disks/#creating-dvds">7. 创建和使用光学介质(DVD)</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/disks/#floppies">8. 创建和使用软盘</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/disks/#backups-tapebackups">9. 用磁带机备份</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/disks/#backups-floppybackups">10. 用软盘备份</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/disks/#backup-strategies">11. 备份策略</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/disks/#backup-basics">12. 备份程序</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/disks/#disks-virtual">13. 网络、内存和 和以及映像文件为介质的虚拟文件系统</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/disks/#snapshots">14. 文件系统快照</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/disks/#quotas">15. 文件系统配额</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/disks/#disks-encrypting">16. 加密磁盘分区</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/disks/#swap-encrypting">17. 对交换区进行加密</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/disks/#disks-hast">18. 高可用性存储 (HAST)</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-dec5fc4f0100e5030db0fb188d8d4b2f" class="toggle"  />
          <label  class="icon cursor"  for="chapter-dec5fc4f0100e5030db0fb188d8d4b2f"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/geom/">
              第 20 章 GEOM: 模块化磁盘变换框架
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/geom/#GEOM-synopsis">1. 概述</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/geom/#GEOM-intro">2. GEOM 介绍</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/geom/#GEOM-striping">3. RAID0 - 条带</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/geom/#GEOM-mirror">4. RAID1 - 镜像</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/geom/#GEOM-raid3">5. RAID3 - 使用专用校验设备的字节级条带</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/geom/#geom-ggate">6. GEOM Gate 网络设备</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/geom/#geom-glabel">7. 为磁盘设备添加卷标</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/geom/#geom-gjournal">8. 通过 GEOM 实现 UFS 日志</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-4c6bf6828e601b79edb2813329ac6604" class="toggle"  />
          <label  class="icon cursor"  for="chapter-4c6bf6828e601b79edb2813329ac6604"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/filesystems/">
              第 21 章 文件系统 Support
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/filesystems/#filesystems-synopsis">1. 概述</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/filesystems/#filesystems-zfs">2. Z 文件系统 (ZFS)</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-11d260f2685c0b17137e64887e1b1989" class="toggle"  />
          <label  class="icon cursor"  for="chapter-11d260f2685c0b17137e64887e1b1989"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/vinum/">
              第 22 章 Vinum 卷管理程序
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/vinum/#vinum-synopsis">1. 概述</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/vinum/#vinum-intro">2. 磁盘容量太小</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/vinum/#vinum-access-bottlenecks">3. 访问瓶颈</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/vinum/#vinum-data-integrity">4. 数据的完整性</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/vinum/#vinum-objects">5. Vinum 目标</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/vinum/#vinum-examples">6. 一些例子</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/vinum/#vinum-object-naming">7. 对象命名</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/vinum/#vinum-config">8. 配置 Vinum</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/vinum/#vinum-root">9. 使用 Vinum 作为根文件系统</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-ae23289d4b6415f3f878893f9d3ef9b8" class="toggle"  />
          <label  class="icon cursor"  for="chapter-ae23289d4b6415f3f878893f9d3ef9b8"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/virtualization/">
              第 23 章 虚拟化
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/virtualization/#virtualization-synopsis">1. 概述</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/virtualization/#virtualization-guest">2. 作为客户 OS 的 FreeBSD</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/virtualization/#virtualization-host">3. 作为宿主 OS 的 FreeBSD</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-b279d2b738963a45a059268d2fae00d5" class="toggle"  />
          <label  class="icon cursor"  for="chapter-b279d2b738963a45a059268d2fae00d5"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/l10n/">
              第 24 章 本地化－I18N/L10N使用和设置
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/l10n/#l10n-synopsis">1. 概述</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/l10n/#l10n-basics">2. 基础知识</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/l10n/#using-localization">3. 使用本地化语言</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/l10n/#l10n-compiling">4. 编译I18N程序</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/l10n/#lang-setup">5. 本地化FreeBSD</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-9e3f99bd76c861ab2e9a5f31ac421842" class="toggle"  />
          <label  class="icon cursor"  for="chapter-9e3f99bd76c861ab2e9a5f31ac421842"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/cutting-edge/">
              第 25 章 更新与升级 FreeBSD
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/cutting-edge/#updating-upgrading-synopsis">1. 概述</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/cutting-edge/#updating-upgrading-freebsdupdate">2. FreeBSD 更新</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/cutting-edge/#updating-upgrading-portsnap">3. Portsnap： 一个 Ports Collection 更新工具</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/cutting-edge/#updating-upgrading-documentation">4. 更新系统附带的文档</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/cutting-edge/#current-stable">5. 追踪开发分支</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/cutting-edge/#synching">6. 同步您的源码</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/cutting-edge/#makeworld">7. 重新编译 "world"</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/cutting-edge/#make-delete-old">8. 删除过时的文件、 目录和函数库</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/cutting-edge/#small-lan">9. 跟踪多台机器</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-3ba999091575eb04ae88235cd0fb1afa" class="toggle"  />
          <label  class="icon cursor"  for="chapter-3ba999091575eb04ae88235cd0fb1afa"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/dtrace/">
              第 26 章 DTrace
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/dtrace/#dtrace-synopsis">1. 概述</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/dtrace/#dtrace-implementation">2. 实现上的差异</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/dtrace/#dtrace-enable">3. 启用 DTrace 支持</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/dtrace/#dtrace-using">4. 使用 DTrace</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/dtrace/#dtrace-language">5. D 语言</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-6d4439926bb106ac084ecc88cfd3cfa4" class="toggle"  />
          <label  for="chapter-6d4439926bb106ac084ecc88cfd3cfa4"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/partiv/">
              部分 IV. 网络通讯
            </a>
            
            
          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-05a353fcb61d8e035f7c43e14725766e" class="toggle"  />
          <label  class="icon cursor"  for="chapter-05a353fcb61d8e035f7c43e14725766e"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/serialcomms/">
              第 27 章 串口通讯
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/serialcomms/#serial-synopsis">1. 概述</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/serialcomms/#serial">2. 介绍</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/serialcomms/#term">3. 终端</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/serialcomms/#dialup">4. 拨入服务</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/serialcomms/#dialout">5. 拨出设备</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/serialcomms/#serialconsole-setup">6. 设置串口控制台</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-7f0cbcbf6701b86eba3bbd6fc829f1b8" class="toggle"  />
          <label  class="icon cursor"  for="chapter-7f0cbcbf6701b86eba3bbd6fc829f1b8"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/ppp-and-slip/">
              第 28 章 PPP 和 SLIP
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/ppp-and-slip/#ppp-and-slip-synopsis">1. 概述</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/ppp-and-slip/#userppp">2. 使用用户级 PPP</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/ppp-and-slip/#ppp">3. 使用内核级PPP</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/ppp-and-slip/#ppp-troubleshoot">4. PPP 连接故障排除</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/ppp-and-slip/#pppoe">5. 使用基于以太网的PPP(PPPoE)</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/ppp-and-slip/#pppoa">6. 使用 ATM 上的 PPP (PPPoA)</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/ppp-and-slip/#slip">7. 使用SLIP</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-9d023b545804f197d195dd9412749943" class="toggle"  />
          <label  class="icon cursor"  for="chapter-9d023b545804f197d195dd9412749943"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/mail/">
              第 29 章 电子邮件
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mail/#mail-synopsis">1. 概述</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mail/#mail-using">2. 使用电子邮件</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mail/#sendmail">3. sendmail 配置</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mail/#mail-changingmta">4. 改变您的邮件传输代理程序</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mail/#mail-trouble">5. 疑难解答</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mail/#mail-advanced">6. 高级主题</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mail/#SMTP-UUCP">7. SMTP 与 UUCP</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mail/#outgoing-only">8. 只发送邮件的配置</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mail/#SMTP-dialup">9. 拨号连接时使用邮件传送</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mail/#SMTP-Auth">10. SMTP 验证</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mail/#mail-agents">11. 邮件用户代理</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mail/#mail-fetchmail">12. 使用 fetchmail</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mail/#mail-procmail">13. 使用 procmail</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-42b19e05d30c4135c74b9878818747a9" class="toggle"  />
          <label  class="icon cursor"  for="chapter-42b19e05d30c4135c74b9878818747a9"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/network-servers/">
              第 30 章 网络服务器
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/network-servers/#network-servers-synopsis">1. 概要</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/network-servers/#network-inetd">2. inetd"超级服务器"</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/network-servers/#network-nfs">3. 网络文件系统（NFS）</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/network-servers/#network-nis">4. 网络信息服务 (NIS/YP)</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/network-servers/#network-dhcp">5. 网络自动配置 (DHCP)</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/network-servers/#network-dns">6. 域名系统 (DNS)</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/network-servers/#network-apache">7. Apache HTTP 服务器</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/network-servers/#network-ftp">8. 文件传输协议 (FTP)</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/network-servers/#network-samba">9. 为 Microsoft® Windows® 客户机提供文件和打印服务 (Samba)</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/network-servers/#network-ntp">10. 通过 NTP 进行时钟同步</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/network-servers/#network-syslogd">11. 使用 <code>syslogd</code> 记录远程主机的日志</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-9554a5177d00d0e87ada408809a1fc67" class="toggle"  />
          <label  class="icon cursor"  for="chapter-9554a5177d00d0e87ada408809a1fc67"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/firewalls/">
              第 31 章 防火墙
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/firewalls/#firewalls-intro">1. 入门</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/firewalls/#firewalls-concepts">2. 防火墙的概念</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/firewalls/#firewalls-apps">3. 防火墙软件包</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/firewalls/#firewalls-pf">4. OpenBSD Packet Filter (PF) 和 ALTQ</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/firewalls/#firewalls-ipf">5. IPFILTER (IPF) 防火墙</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/firewalls/#firewalls-ipfw">6. IPFW</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-9903a1d844ed803a436595e93ec33572" class="toggle"  />
          <label  class="icon cursor"  for="chapter-9903a1d844ed803a436595e93ec33572"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/advanced-networking/">
              第 32 章 高级网络
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/advanced-networking/#advanced-networking-synopsis">1. 概述</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/advanced-networking/#network-routing">2. 网关和路由</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/advanced-networking/#network-wireless">3. 无线网络</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/advanced-networking/#network-bluetooth">4. 蓝牙</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/advanced-networking/#network-bridging">5. 桥接</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/advanced-networking/#network-aggregation">6. 链路聚合与故障转移</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/advanced-networking/#network-diskless">7. 无盘操作</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/advanced-networking/#network-pxe-nfs">8. 从 PXE 启动一个 NFS 根文件系统</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/advanced-networking/#network-isdn">9. ISDN</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/advanced-networking/#network-natd">10. 网络地址转换</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/advanced-networking/#network-plip">11. 并口电缆 IP (PLIP)</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/advanced-networking/#network-ipv6">12. IPv6</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/advanced-networking/#network-atm">13. 异步传输模式 (ATM)</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/advanced-networking/#carp">14. Common Address Redundancy Protocol (CARP， 共用地址冗余协议)</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-8ca29f99c249993ee9234cb4632af7a5" class="toggle"  />
          <label  for="chapter-8ca29f99c249993ee9234cb4632af7a5"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/partv/">
              部分 V. 附录
            </a>
            
            
          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-0229d553ebf23ffeb945be6f32836221" class="toggle"  />
          <label  class="icon cursor"  for="chapter-0229d553ebf23ffeb945be6f32836221"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/mirrors/">
              附录 A. 获取 FreeBSD
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mirrors/#mirrors-cdrom">1. CDROM 和 DVD 发行商</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mirrors/#mirrors-ftp">2. FTP 站点</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mirrors/#anoncvs">3. 匿名 CVS</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mirrors/#ctm">4. 使用 CTM</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mirrors/#cvsup">5. 使用 CVSup</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mirrors/#cvs-tags">6. CVS 标签</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mirrors/#mirrors-afs">7. AFS 站点</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mirrors/#mirrors-rsync">8. rsync 站点</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-743c99fa278b8138914ff018e40c9231" class="toggle"  />
          <label  class="icon cursor"  for="chapter-743c99fa278b8138914ff018e40c9231"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/bibliography/">
              附录 B. 参考文献
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/bibliography/#bibliography-freebsd">1. 关于 FreeBSD 的专业书籍与杂志</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/bibliography/#bibliography-userguides">2. 用户指南</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/bibliography/#bibliography-adminguides">3. 管理员指南</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/bibliography/#bibliography-programmers">4. 开发指南</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/bibliography/#bibliography-osinternals">5. 操作系统原理</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/bibliography/#bibliography-security">6. 安全方面的参考文献</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/bibliography/#bibliography-hardware">7. 硬件参考</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/bibliography/#bibliography-history">8. UNIX® 历史</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/bibliography/#bibliography-journals">9. 各种期刊</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-de7eade4b8b64f298c0cbac44c2278da" class="toggle"  />
          <label  class="icon cursor"  for="chapter-de7eade4b8b64f298c0cbac44c2278da"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/eresources/">
              附录 C. Internet上的资源
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/eresources/#eresources-mail">1. 邮件列表</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/eresources/#eresources-news">2. Usenet新闻组</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/eresources/#eresources-web">3. World Wide Web服务器</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/eresources/#eresources-email">4. Email地址</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-bfb0d4e71c3c1a18a8b75e03f4b48e26" class="toggle"  />
          <label  class="icon cursor"  for="chapter-bfb0d4e71c3c1a18a8b75e03f4b48e26"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/pgpkeys/">
              附录 D. PGP公钥
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/pgpkeys/#pgpkeys-officers">1. Officers</a></li>
  </ul>

          

        
      </li>
    
      <li>
        
      </li>
    
  </ul>


      </nav>
    </div>
  </aside>
  
  <div class="book">
    
    <div class="book-menu-mobile">
      <label for="menu-control">
        <span class="menu-control-button">
          <i class="fa fa-list" aria-hidden="true" title="Book menu"></i>
          Book menu
        </span>
      </label>
    </div>
    
    <h1 class="title">第 8 章 多媒体</h1>
    
    
      <div class="admonitionblock note">
        <p>
          <i class="fa fa-exclamation-circle" aria-hidden="true"></i>
          This translation may be out of date. To help with the translations please access the <a href="https://translate-dev.freebsd.org/" target="_blank">FreeBSD translations instance</a>.
        </p>
      </div>
    
    
    
    <div class="toc-mobile">
      <h3>Table of Contents</h3>
      <nav id="TableOfContents">
  <ul>
    <li><a href="#multimedia-synopsis">1. 概述</a></li>
    <li><a href="#sound-setup">2. 安装声卡</a></li>
    <li><a href="#sound-mp3">3. MP3音频</a></li>
    <li><a href="#video-playback">4. 视频回放</a></li>
    <li><a href="#tvcard">5. 安装电视卡</a></li>
    <li><a href="#scanners">6. 图象扫描仪</a></li>
  </ul>
</nav>
    </div>
    
      
      
    
    <div class="book-content">
      <div id="preamble">
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="multimedia-synopsis">1. 概述<a class="anchor" href="#multimedia-synopsis"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>FreeBSD 广泛地支持各种声卡， 让您可以从容地享受来自您的计算机的高保真输出。 这包括了录制和播放 MPEG Audio Layer 3 (MP3)、 WAV、 以及 Ogg Vorbis 等许多种格式声音的能力。 FreeBSD 同时也包括了许多的应用程序，让您可以录音、 增加声音效果以及控制附加的MIDI设备。</p>
</div>
<div class="paragraph">
<p>要是乐于动手， FreeBSD 也能支持播放一般的视频文件和 DVD。 对各种视频媒体进行编码、 转换和播放的应用程序比起处理声音的应用程序略少一些。 例如， 在撰写这章时， FreeBSD Ports Collection 中还没有类似 package:audio/sox[] 那样好的重编码工具能够用来在不同的格式之间转换。 不过， 这个领域的软件研发进展是很快的。</p>
</div>
<div class="paragraph">
<p>本章将介绍配置声卡的必要步骤。 X11 的安装和配置 (crossref:x11[x11,X Window 系统]) 里已经考虑到了您显卡的问题， 但要想有更好的播放效果， 仍需要调整一些东西。</p>
</div>
<div class="paragraph">
<p>读了本章后，您将知道：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>如何配置系统识别声卡。</p>
</li>
<li>
<p>测试声卡是否正常工作的方法。</p>
</li>
<li>
<p>如何排除声卡安装中的问题。</p>
</li>
<li>
<p>如何播放和编码MP3以及其它格式的音频。</p>
</li>
<li>
<p>X 服务器如何支持视频。</p>
</li>
<li>
<p>哪些好的视频播放/压缩&#34;ports&#34;。</p>
</li>
<li>
<p>如何播放 DVD、 <span class="filename">.mpg</span> 以及 <span class="filename">.avi</span> 文件。</p>
</li>
<li>
<p>如何从 CD 和 DVD 中提取文件。</p>
</li>
<li>
<p>怎样配置电视卡。</p>
</li>
<li>
<p>如何配置图像扫描仪。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>在读本章这前，您应该：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>知道如何配置、安装一个新的内核 (crossref:kernelconfig[kernelconfig,配置FreeBSD的内核])</p>
</li>
</ul>
</div>
<div class="admonitionblock warning">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>用man:mount[8] 命令去装载CD光盘，至少会产生一个错误， 更糟的情况下会产生 <em>kernel panic</em>。 这种媒体所用的编码与通常的ISO文件系统是不同的。</p>
</div>
</td>
</tr>
</tbody></table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sound-setup">2. 安装声卡<a class="anchor" href="#sound-setup"></a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="sound-device">2.1. 配置系统<a class="anchor" href="#sound-device"></a></h3>
<div class="paragraph">
<p>在开始之前，您应该清楚声卡类型、所用的芯片以及它是 PCI 还是 ISA 卡。 FreeBSD 支持种类繁多的 PCI 和 ISA 卡。检查 <a href="https://www.FreeBSD.org/releases/12.0R/hardware/">硬件兼容说明</a> 中支持的音频设备列表看看是否支持您的声卡， 硬件兼容说明也会说明支持您声卡的是哪个驱动程序。</p>
</div>
<div class="paragraph">
<p>要使用声卡， 就应装载正确的驱动程序。完成的方式有两种： 最简单的是使用命令 man:kldload[8] 来装载一个内核模块，在命令行输入</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># kldload snd_emu10k1</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>或者在文件 <span class="filename">/boot/loader.conf</span> 里加入一行，内容如下</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>snd_emu10k1_load=&#34;YES&#34;</pre>
</div>
</div>
<div class="paragraph">
<p>上边实例用于 Creative SoundBlaster® Live! 声卡。 其它可装载的模块列在文件 <span class="filename">/boot/defaults/loader.conf</span> 里边。 如果不知道应该使用哪个驱动， 您可以尝试加载 <span class="filename">snd_driver</span> module:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># kldload snd_driver</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>这是个 meta 驱动，一次加载了最常见的设备驱动。 这会提高搜索正确驱动的速度。也可以通过 <span class="filename">/boot/loader.conf</span> 工具来加载所有的声卡驱动。</p>
</div>
<div class="paragraph">
<p>如果希望在加载了 <span class="filename">snd_driver</span> meta 驱动之后了解到底选择了哪种声卡， 可以通过使用 <code>cat /dev/sndstat</code> 来查询 <span class="filename">/dev/sndstat</span> 文件。</p>
</div>
<div class="paragraph">
<p>另外，您也可以把支持您声卡的代码静态地编译到内核里去。 下一节就采用这种方式支持硬件给出提示。 关于重新编译内核，请参考 crossref:kernelconfig[kernelconfig,配置FreeBSD的内核]。</p>
</div>
<div class="sect3">
<h4 id="_定制内核使其支持声卡">2.1.1. 定制内核使其支持声卡<a class="anchor" href="#_定制内核使其支持声卡"></a></h4>
<div class="paragraph">
<p>要做的第一件事情就是添加通用音频框架驱动 man:sound[4] 到内核中， 您需要添加下面这行到内核配置文件中：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>device sound</pre>
</div>
</div>
<div class="paragraph">
<p>接下来就是加入对我们所用声卡的支持了。 首先需要确定我们的声卡需要使用哪一个驱动。 您可以参考 <a href="https://www.FreeBSD.org/releases/12.0R/hardware/">硬件兼容列表</a> 所列出的音频设备， 以确定您声卡的驱动。 例如， Creative SoundBlaster® Live! 声卡由 man:snd_emu10k1[4] 驱动来支持。 要添加它， 需要在内核编译配置文件中加入下面一行：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>device snd_emu10k1</pre>
</div>
</div>
<div class="paragraph">
<p>一定要阅读驱动的联机手册了解如何使用它们。 关于内核配置文件中声卡驱动的具体写法， 也可以在 <span class="filename">/usr/src/sys/conf/NOTES</span> 文件中找到。</p>
</div>
<div class="paragraph">
<p>非即插即用的 ISA 卡可能需要您为内核提供一些关于声卡配置的信息 (IRQ、 I/O 端口， 等等)， 这一点与其他不支持即插即用的 ISA 卡类似。 这项工作可以通过 <span class="filename">/boot/device.hints</span> 文件来完成。 系统启动时， man:loader[8] 将读取这个文件， 并将其中的配置传给内核。 例如， 旧式的 Creative SoundBlaster® 16 ISA 非即插即用卡需要使用 man:snd_sbc[4] 驱动并配合 snd_sb16(4)。 您可以在内核编译配置文件中增加如下配置：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>device snd_sbc
device snd_sb16</pre>
</div>
</div>
<div class="paragraph">
<p>还有下面这些到 <span class="filename">/boot/device.hints</span>中：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>hint.sbc.0.at=&#34;isa&#34;
hint.sbc.0.port=&#34;0x220&#34;
hint.sbc.0.irq=&#34;5&#34;
hint.sbc.0.drq=&#34;1&#34;
hint.sbc.0.flags=&#34;0x15&#34;</pre>
</div>
</div>
<div class="paragraph">
<p>这样，声卡使用 <code>0x220</code> I/O 端口和 IRQ <code>5</code>。</p>
</div>
<div class="paragraph">
<p>在 <span class="filename">/boot/device.hints</span> 文件中所使用的语法， 在 man:sound[4] 联机手册中以及所用的具体声卡驱动的联机手册中， 会进行进一步的讲解。</p>
</div>
<div class="paragraph">
<p>上面所展示的是默认的配置。 有时候， 您可能需要更改 IRQ 或其他配置， 以适应声卡的实际情况。 查看 man:snd_sbc[4] 联机手册了解更多信息。</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="sound-testing">2.2. 测试声卡<a class="anchor" href="#sound-testing"></a></h3>
<div class="paragraph">
<p>用修改过的内核重起，或者加载了需要的模块之后， 声卡将会出现在您的系统消息缓存中 (man:dmesg[8])，就像这样：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">pcm0: &lt;Intel ICH3 <span class="o">(</span>82801CA<span class="o">)&gt;</span> port 0xdc80-0xdcbf,0xd800-0xd8ff irq 5 at device 31.5 on pci0
pcm0: <span class="o">[</span>GIANT-LOCKED]
pcm0: &lt;Cirrus Logic CS4205 AC97 Codec&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>声卡的状态可以通过 <span class="filename">/dev/sndstat</span> 文件来查询：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># cat /dev/sndstat</span>
FreeBSD Audio Driver <span class="o">(</span>newpcm<span class="o">)</span>
Installed devices:
pcm0: &lt;Intel ICH3 <span class="o">(</span>82801CA<span class="o">)&gt;</span> at io 0xd800, 0xdc80 irq 5 bufsz 16384
kld snd_ich <span class="o">(</span>1p/2r/0v channels duplex default<span class="o">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>您系统的输出可能与此不同。如果没有看到 <span class="filename">pcm</span> 设备，回顾并检查一下前面做的。 重新检查您的内核配置文件并保证选择了正确的设备。 常见问题列在 <a href="#troubleshooting">常见问题</a> 一节。</p>
</div>
<div class="paragraph">
<p>如果一切正常，您现在应该拥有一个多功能声卡了。 如果您的 CD-ROM 或者 DVD-ROM 驱动器的音频输出线已经与声卡连在一起， 您可以把 CD 放入驱动器并用 man:cdcontrol[1] 来播放：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">% cdcontrol <span class="nt">-f</span> /dev/acd0 play 1</code></pre>
</div>
</div>
<div class="paragraph">
<p>许多应用程序，比如 package:audio/workman[] 可以提供一个友好的界面。 您可能想要安装一个应用程序比如 package:audio/mpg123[] 来听 MP3 音频文件。</p>
</div>
<div class="paragraph">
<p>另一种快速测试声卡的方法， 是将数据发送到 <span class="filename">/dev/dsp</span>， 像这样做：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">% <span class="nb">cat </span>filename <span class="o">&gt;</span> /dev/dsp</code></pre>
</div>
</div>
<div class="paragraph">
<p>这里 <span class="filename">filename</span> 可以是任意文件。 这行命令会产生一些噪音，证明声卡果真在工作。</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>设备节点 <span class="filename">/dev/dsp*</span> 会在需要的时候自动产生。 如果没有使用它们， 则它们不会出现在 man:ls[1] 的输出中。</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>声卡混音级别可以通过 man:mixer[8] 命令更改。 更多细节可以在 man:mixer[8] 联机手册中找到。</p>
</div>
<div class="sect3">
<h4 id="troubleshooting">2.2.1. 常见问题<a class="anchor" href="#troubleshooting"></a></h4>
<table class="tableblock frame-none grid-all stretch informaltable">
<colgroup>
<col style="width: 50%;"/>
<col style="width: 50%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">错误信息</th>
<th class="tableblock halign-left valign-top">解决方法</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sb_dspwr(XX) timed out</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">I/O端口没有设置正确。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bad irq XX</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IRQ设置不正确。确信设定的IRQ和声卡的IRQ是一样的。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>xxx: gus pcm not attached, out of memory</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">没有足够的内存空间供设置使用。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>xxx: can’t open /dev/dsp!</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">使用命令 `fstat</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>另一个问题是许多新式的显卡本身包含它们自己的声音驱动， 用以配合 HDMI 这样的设备使用。 这个声音设备有时会在真正的声卡之前被探测到， 从而成为默认的回放设备， 而使真正的声卡无法发声。 要检查这种情况， 运行 dmesg 并观察 <code>pcm</code>。 其输出类似下面这样：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>...
hdac0: HDA Driver Revision: 20100226_0142
hdac1: HDA Driver Revision: 20100226_0142
hdac0: HDA Codec #0: NVidia (Unknown)
hdac0: HDA Codec #1: NVidia (Unknown)
hdac0: HDA Codec #2: NVidia (Unknown)
hdac0: HDA Codec #3: NVidia (Unknown)
pcm0: &lt;HDA NVidia (Unknown) PCM #0 DisplayPort&gt; at cad 0 nid 1 on hdac0
pcm1: &lt;HDA NVidia (Unknown) PCM #0 DisplayPort&gt; at cad 1 nid 1 on hdac0
pcm2: &lt;HDA NVidia (Unknown) PCM #0 DisplayPort&gt; at cad 2 nid 1 on hdac0
pcm3: &lt;HDA NVidia (Unknown) PCM #0 DisplayPort&gt; at cad 3 nid 1 on hdac0
hdac1: HDA Codec #2: Realtek ALC889
pcm4: &lt;HDA Realtek ALC889 PCM #0 Analog&gt; at cad 2 nid 1 on hdac1
pcm5: &lt;HDA Realtek ALC889 PCM #1 Analog&gt; at cad 2 nid 1 on hdac1
pcm6: &lt;HDA Realtek ALC889 PCM #2 Digital&gt; at cad 2 nid 1 on hdac1
pcm7: &lt;HDA Realtek ALC889 PCM #3 Digital&gt; at cad 2 nid 1 on hdac1
...</pre>
</div>
</div>
<div class="paragraph">
<p>此处显卡 (<code>NVidia</code>) 先于真正的声卡 (<code>Realtek ALC889</code>) 被探测到。 要使用声卡作为默认的回放设备， 将 <code>hw.snd.default_unit</code> 改为对应的设备编号：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># sysctl hw.snd.default_unit=n</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>这里的 <code>n</code> 是希望使用的声音设备编号， 在这个例子中是 <code>4</code>。 您可以在 <span class="filename">/etc/sysctl.conf</span> 中写上这个配置来令其永久性生效：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>hw.snd.default_unit=4</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="sound-multiple-sources">2.3. 利用多个声源<a class="anchor" href="#sound-multiple-sources"></a></h3>
<div class="paragraph">
<p>通常而言， 会希望多个音源能够同时播放， 例如， esound 或者 artsd 就可能不支持与其它程序共享音频设备。</p>
</div>
<div class="paragraph">
<p>FreeBSD 可以通过 <em>虚拟声道(Virtual Sound Channels)</em> 来达到这样的效果， 它可以用 man:sysctl[8] 来启用。 虚拟的声道可以能过在内核里混合声音来混合声卡里播放的声道。</p>
</div>
<div class="paragraph">
<p>使用三条sysctl命令来设置虚拟声道的数目。 如果您是 <code>root</code> 用户， 执行下面的操作：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># sysctl dev.pcm.0.play.vchans=4</span>
<span class="c"># sysctl dev.pcm.0.rec.vchans=4</span>
<span class="c"># sysctl hw.snd.maxautovchans=4</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>上面的实例设定了4个虚拟声道，这也是实际上所使用的数目。 <code>dev.pcm.0.play.vchans=4</code> 和 <code>dev.pcm.0.rec.vchans=4</code> 是 <span class="filename">pcm0</span> 用来播放与录音的虚拟声道数， 一当链接上一个设备它就可配置了。 <code>hw.snd.maxautovchans</code> 是分配给新的音频设备的虚拟声道数， 此时这个设备要用 man:kldload[8] 来链接。 因为 <span class="filename">pcm</span> 模块可以独立装载许多硬件驱动程序， 因此 <code>hw.snd.maxautovchans</code> 也就可以存储分配给以后链接到的设备的虚拟声道数。 可参阅 man:pcm[4] 手册页义获取更多细节。</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>您不能在使用某个设备的时候改变其虚拟通道数。 首先需要关闭所有使用该设备的程序， 如音乐播放器或声音服务。</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>当应用程序请求 <span class="filename">/dev/dsp0</span> 时， 系统会自动为其分配正确的 <span class="filename">pcm</span> 设备。</p>
</div>
</div>
<div class="sect2">
<h3 id="_如何设置混音器通道值">2.4. 如何设置混音器通道值<a class="anchor" href="#_如何设置混音器通道值"></a></h3>
<div class="paragraph">
<p>不同的混音通道的默认音量是硬编码进 man:pcm[4] 驱动程序的。 同时， 也有很多应用或服务程序提供了允许用户直接设置并记住这些值的功能。 不过这并不是一个很好的解决方案， 您可能希望在驱动一级有一个可以设置的默认值。 这可以通过在 <span class="filename">/boot/device.hints</span> 定义适当的值来实现。 例如：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>hint.pcm.0.vol=&#34;50&#34;</pre>
</div>
</div>
<div class="paragraph">
<p>这将在 man:pcm[4] 模块加载时， 将通道音量设置为默认的 50。</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sound-mp3">3. MP3音频<a class="anchor" href="#sound-mp3"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>MP3 (MPEG Layer 3 Audio)达到过CD音质的效果，FreeBSD工作站没理由会缺少这样的好东东。</p>
</div>
<div class="sect2">
<h3 id="mp3-players">3.1. MP3播放器<a class="anchor" href="#mp3-players"></a></h3>
<div class="paragraph">
<p>目前为止， 最为流行的 X11 MP3 播放器是 XMMS (X 多媒体系统)。 Winamp 的肤面可以直接用于 XMMS， 因为它的 GUI 几乎和 Nullsoft 的 Winamp 完全一样。 另外， XMMS 也提供了内建的插件支持。</p>
</div>
<div class="paragraph">
<p>XMMS 可以通过 package:multimedia/xmms[] port 或 package 来安装。</p>
</div>
<div class="paragraph">
<p>XMMS 的界面很直观， 它提供了播放列表、 图形化均衡器等等。 如果您熟悉 Winamp， 就会感觉 XMMS 很容易使用。</p>
</div>
<div class="paragraph">
<p>package:audio/mpg123[] port 提供了一个命令行界面的 MP3 播放器。</p>
</div>
<div class="paragraph">
<p>mpg123 可以在执行时通过命令行指定声音设备和要播放的 MP3 文件， 假设你的声音设备是 <span class="filename">/dev/dsp1.0</span> 并且你想要播放的 MP3 文件为 <em>Foobar-GreatestHits.mp3</em> 你可以键入以下的命令：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># mpg123 -a /dev/dsp1.0 Foobar-GreatestHits.mp3</span>
High Performance MPEG 1.0/2.0/2.5 Audio Player <span class="k">for </span>Layer 1, 2 and 3.
Version 0.59r <span class="o">(</span>1999/Jun/15<span class="o">)</span><span class="nb">.</span> Written and copyrights by Michael Hipp.
Uses code from various people. See <span class="s1">&#39;README&#39;</span> <span class="k">for </span>more!
THIS SOFTWARE COMES WITH ABSOLUTELY NO WARRANTY! USE AT YOUR OWN RISK!

Playing MPEG stream from Foobar-GreatestHits.mp3 ...
MPEG 1.0 layer III, 128 kbit/s, 44100 Hz joint-stereo</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="rip-cd">3.2. 抓取CD音轨<a class="anchor" href="#rip-cd"></a></h3>
<div class="paragraph">
<p>在对CD或CD音轨编码成MP3之前， CD上的音频数据应先抓到硬盘里。 这个可以通过复制原始的CDDA(CD数字音频)数据成为波形(WAV)文件。</p>
</div>
<div class="paragraph">
<p>工具 <code>cdda2wav</code> 是 package:sysutils/cdrtools[] 套件的一部份，可用来从CD中获取音频及其相关信息。</p>
</div>
<div class="paragraph">
<p>把CD放到光驱里，下面的命令可以完成 (作为 `root`用户) 把整张 CD 分割成单个 (每个音轨) 的WAV文件：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># cdda2wav -D 0,1,0 -B</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>cdda2wav 支持 ATAPI (IDE)光驱。 从IDE光驱中抓取音轨， 需要用设备名称代替SCSI的单元号。 例如， 想从 IDE 光驱中抓取第7道音轨：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># cdda2wav -D /dev/acd0 -t 7</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>参数 <code>-D <em>0,1,0</em></code> 表示 SCSI 设备 <span class="filename">0,1,0</span>， 与命令 <code>cdrecord -scanbus</code> 的输出相对应。</p>
</div>
<div class="paragraph">
<p>抓取单轨，要使用选项 <code>-t</code>，如下所示：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># cdda2wav -D 0,1,0 -t 7</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>这个实例用于抓取第七个音轨。要抓取一定范围的音轨，如从1到7：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># cdda2wav -D 0,1,0 -t 1+7</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>利用man:dd[1]也可以从ATAPI光驱中抓取音轨，从 crossref:disks[duplicating-audiocds,复制音频 CD] 可以了解更多。</p>
</div>
</div>
<div class="sect2">
<h3 id="mp3-encoding">3.3. MP3 编码<a class="anchor" href="#mp3-encoding"></a></h3>
<div class="paragraph">
<p>现今，可选的MP3编码器是 lame。 Lame 可以从ports树里的 package:audio/lame[] 处找到。</p>
</div>
<div class="paragraph">
<p>利用抓取的WAV文件，下边的命令就可以把 <span class="filename">audio01.wav</span> 转换成 <span class="filename">audio01.mp3</span>：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># lame -h -b 128 \</span>
<span class="nt">--tt</span> <span class="s2">&#34;Foo Song Title&#34;</span> <span class="se">\</span>
<span class="nt">--ta</span> <span class="s2">&#34;FooBar Artist&#34;</span> <span class="se">\</span>
<span class="nt">--tl</span> <span class="s2">&#34;FooBar Album&#34;</span> <span class="se">\</span>
<span class="nt">--ty</span> <span class="s2">&#34;2001&#34;</span> <span class="se">\</span>
<span class="nt">--tc</span> <span class="s2">&#34;Ripped and encoded by Foo&#34;</span> <span class="se">\</span>
<span class="nt">--tg</span> <span class="s2">&#34;Genre&#34;</span> <span class="se">\</span>
audio01.wav audio01.mp3</code></pre>
</div>
</div>
<div class="paragraph">
<p>128 kbits 是标准的MP3位率(bitrate)。 许多人可能喜欢更高的品质例如 160 或 192。 更高的位率， 会使 MP3 占用更多的磁盘空间—​但音质会更高。选项 <code>-h</code> 控制 &#34;高品质但低速度 (higher quality but a little slower)&#34; 模式的开关。 选项 <code>--t</code> 表示把 ID3 标签—​通常包含了歌曲的信息， 植入到MP3文件里。 其它的编码选项可以查询 lame 的联机手册。</p>
</div>
</div>
<div class="sect2">
<h3 id="mp3-decoding">3.4. MP3 解码<a class="anchor" href="#mp3-decoding"></a></h3>
<div class="paragraph">
<p>要把MP3歌曲刻录成音乐CD，就需要把它转换成非压缩的波形(WAV)格式。 XMMS 和 mpg123 都支持把MP3输出成非压缩格式文件。</p>
</div>
<div class="paragraph">
<p>在 XMMS 中输出到磁盘：</p>
</div>
<div class="exampleblock procedure">
<div class="content">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>启动 XMMS.</p>
</li>
<li>
<p>在窗口里右击鼠标，弹出 XMMS 菜单。</p>
</li>
<li>
<p>在 <code>选项(Options)</code> 里选择 <code>设定(Preference)</code>。</p>
</li>
<li>
<p>改变输出插件成 &#34;写磁盘插件(Disk Writer Plugin)&#34;。</p>
</li>
<li>
<p>按 <code>配置(Configure)</code>。</p>
</li>
<li>
<p>输入或选择一个目录用于存放解压的文件。</p>
</li>
<li>
<p>象平常一样，把MP3文件装入到 XMMS 里边， 把音量调节到100%并且关掉EQ设定。</p>
</li>
<li>
<p>按一下 <code>播放(Play)</code> - XMMS 如同在播放mp3一样，只是听不到声音。 实际上是在播放mp3到一个文件里。</p>
</li>
<li>
<p>要想再听MP3歌曲，记得把默认的输出插件设回原来的值。</p>
</li>
</ol>
</div>
</div>
</div>
<div class="paragraph">
<p>用 mpg123 进行标准输出：</p>
</div>
<div class="exampleblock procedure">
<div class="content">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>执行 ` mpg123 -s audio01.mp3 &gt; audio01.pcm`</p>
</li>
</ol>
</div>
</div>
</div>
<div class="paragraph">
<p>XMMS 输出的文件是波形(WAV)格式， 而 mpg123 则把MP3转换成无压缩的PCM 音频数据。两种格式都支持用 cdrecord 刻录成音乐CD。 使用 man:burncd[8] 您就必须使用无压缩的PCM。 如果选择波形格式， 就要注意在每道开始时的一小点杂音， 这段声音是波形文件的头部份。 可以使用工具 SoX 来轻松去除。 SoX 可从 package:audio/sox[] port 或包(package)中安装得到：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">% sox <span class="nt">-t</span> wav <span class="nt">-r</span> 44100 <span class="nt">-s</span> <span class="nt">-w</span> <span class="nt">-c</span> 2 track.wav track.raw</code></pre>
</div>
</div>
<div class="paragraph">
<p>阅读 crossref:disks[creating-cds,创建和使用光学介质(CD)] 这部份可以了解到更多在 FreeBSD 里刻盘的信息。</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="video-playback">4. 视频回放<a class="anchor" href="#video-playback"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>视频回放是个很新并且迅速发展中的应用领域。 一定要有耐心，因为不是所有的事情都象处音频那么顺利。</p>
</div>
<div class="paragraph">
<p>在开始之前，您要了解显卡的类型以及它所用的芯片的类型。 尽管 Xorg 支持大量的显卡， 但能达到好的回放效果的却寥寥无几。 在X11运行时，您可以使用命令 man:xdpyinfo[1] 获得使用您的显卡的X服务器所支持的扩展列表。</p>
</div>
<div class="paragraph">
<p>为了评估各种播放器和设置，您需要有一小段用作测试的MPEG文件。 由于一些DVD播放器会默认地在 <span class="filename">/dev/dvd</span> 里去找DVD文件， 因此， 您会发现建立符号链接到恰当的设备会很有用：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># ln -sf /dev/acd0 /dev/dvd</span>
<span class="c"># ln -sf /dev/acd0 /dev/rdvd</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>注意：由于 man:devfs[5] 本身的原因， 像这样手工建立的链接在重启后将不会存在。 想要无论什么时候您启动系统都能自动建立符号链接， 那就把下边这行加到 <span class="filename">/etc/devfs.conf</span> 里边：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>link acd0 dvd
link acd0 rdvd</pre>
</div>
</div>
<div class="paragraph">
<p>另外，DVD解密要求调用专用的DVD-ROM函数，要求把许可定到DVD设备里。</p>
</div>
<div class="paragraph">
<p>为了改善 X11 界面使用共享内存的能力， 建议提高一些 man:sysctl[8] 变量的值：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>kern.ipc.shmmax=67108864
kern.ipc.shmall=32768</pre>
</div>
</div>
<div class="sect2">
<h3 id="video-interface">4.1. 测定视频的性能<a class="anchor" href="#video-interface"></a></h3>
<div class="paragraph">
<p>在X11下有几种可以显示图像的方式。 到底哪个能工作很大程度上依赖于硬件。 首先， 下边描述的每一种方法在不同的硬件上都会有不同的品质。 其次， 在X11里的图像显示近来引起普遍的关注， 随着 Xorg 的每一个版本， 都会有很大的突破。</p>
</div>
<div class="paragraph">
<p>常见图像接口列表：</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>X11: 一般性的使用共享内存的X11输出。</p>
</li>
<li>
<p>XVideo: 一种X11接口扩展，支持任何X11图像的可拖拉。</p>
</li>
<li>
<p>SDL: 简单直接媒体层。</p>
</li>
<li>
<p>DGA: 直接图片存取。</p>
</li>
<li>
<p>SVGAlib: 低层次掌控图片层。</p>
</li>
</ol>
</div>
<div class="sect3">
<h4 id="video-interface-xvideo">4.1.1. XVideo<a class="anchor" href="#video-interface-xvideo"></a></h4>
<div class="paragraph">
<p>Xorg 有种扩展叫做 <em>XVideo</em> (或称Xvideo, Xv, xv)， 它可以通过一个特殊的加速器直接把图像显示在可拖拉的对象里。 即使在低端的计算机 (例如我的PIII 400 Mhz膝上电脑)， 这个扩展也提供了很好的播放质量。</p>
</div>
<div class="paragraph">
<p>要了解这一扩展是否在正常工作， 使用 <code>xvinfo</code> 命令：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">% xvinfo</code></pre>
</div>
</div>
<div class="paragraph">
<p>如果显示结果如下，那您的显卡就支持XVideo：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">X-Video Extension version 2.2
screen <span class="c">#0</span>
  Adaptor <span class="c">#0: &#34;Savage Streams Engine&#34;</span>
    number of ports: 1
    port base: 43
    operations supported: PutImage
    supported visuals:
      depth 16, visualID 0x22
      depth 16, visualID 0x23
    number of attributes: 5
      <span class="s2">&#34;XV_COLORKEY&#34;</span> <span class="o">(</span>range 0 to 16777215<span class="o">)</span>
              client settable attribute
              client gettable attribute <span class="o">(</span>current value is 2110<span class="o">)</span>
      <span class="s2">&#34;XV_BRIGHTNESS&#34;</span> <span class="o">(</span>range <span class="nt">-128</span> to 127<span class="o">)</span>
              client settable attribute
              client gettable attribute <span class="o">(</span>current value is 0<span class="o">)</span>
      <span class="s2">&#34;XV_CONTRAST&#34;</span> <span class="o">(</span>range 0 to 255<span class="o">)</span>
              client settable attribute
              client gettable attribute <span class="o">(</span>current value is 128<span class="o">)</span>
      <span class="s2">&#34;XV_SATURATION&#34;</span> <span class="o">(</span>range 0 to 255<span class="o">)</span>
              client settable attribute
              client gettable attribute <span class="o">(</span>current value is 128<span class="o">)</span>
      <span class="s2">&#34;XV_HUE&#34;</span> <span class="o">(</span>range <span class="nt">-180</span> to 180<span class="o">)</span>
              client settable attribute
              client gettable attribute <span class="o">(</span>current value is 0<span class="o">)</span>
    maximum XvImage size: 1024 x 1024
    Number of image formats: 7
      <span class="nb">id</span>: 0x32595559 <span class="o">(</span>YUY2<span class="o">)</span>
        guid: 59555932-0000-0010-8000-00aa00389b71
        bits per pixel: 16
        number of planes: 1
        <span class="nb">type</span>: YUV <span class="o">(</span>packed<span class="o">)</span>
      <span class="nb">id</span>: 0x32315659 <span class="o">(</span>YV12<span class="o">)</span>
        guid: 59563132-0000-0010-8000-00aa00389b71
        bits per pixel: 12
        number of planes: 3
        <span class="nb">type</span>: YUV <span class="o">(</span>planar<span class="o">)</span>
      <span class="nb">id</span>: 0x30323449 <span class="o">(</span>I420<span class="o">)</span>
        guid: 49343230-0000-0010-8000-00aa00389b71
        bits per pixel: 12
        number of planes: 3
        <span class="nb">type</span>: YUV <span class="o">(</span>planar<span class="o">)</span>
      <span class="nb">id</span>: 0x36315652 <span class="o">(</span>RV16<span class="o">)</span>
        guid: 52563135-0000-0000-0000-000000000000
        bits per pixel: 16
        number of planes: 1
        <span class="nb">type</span>: RGB <span class="o">(</span>packed<span class="o">)</span>
        depth: 0
        red, green, blue masks: 0x1f, 0x3e0, 0x7c00
      <span class="nb">id</span>: 0x35315652 <span class="o">(</span>RV15<span class="o">)</span>
        guid: 52563136-0000-0000-0000-000000000000
        bits per pixel: 16
        number of planes: 1
        <span class="nb">type</span>: RGB <span class="o">(</span>packed<span class="o">)</span>
        depth: 0
        red, green, blue masks: 0x1f, 0x7e0, 0xf800
      <span class="nb">id</span>: 0x31313259 <span class="o">(</span>Y211<span class="o">)</span>
        guid: 59323131-0000-0010-8000-00aa00389b71
        bits per pixel: 6
        number of planes: 3
        <span class="nb">type</span>: YUV <span class="o">(</span>packed<span class="o">)</span>
      <span class="nb">id</span>: 0x0
        guid: 00000000-0000-0000-0000-000000000000
        bits per pixel: 0
        number of planes: 0
        <span class="nb">type</span>: RGB <span class="o">(</span>packed<span class="o">)</span>
        depth: 1
        red, green, blue masks: 0x0, 0x0, 0x0</code></pre>
</div>
</div>
<div class="paragraph">
<p>同时注意：列出来的格式(YUV2, YUV12, 等等) 并不总是随着 XVdieo的每一次执行而存在。没有它们可能会迷惑某些人。</p>
</div>
<div class="paragraph">
<p>如果结果看起来是这样：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">X-Video Extension version 2.2
screen <span class="c">#0</span>
no adaptors present</code></pre>
</div>
</div>
<div class="paragraph">
<p>那么您的显卡可以就不支持XVideo功能。</p>
</div>
<div class="paragraph">
<p>如果您的卡不支持XVideo， 则只是说明您的显示器在满足刷新图像的计算要求上存在更大的困难。 尽管显卡和处理器很重要，您仍然会有个不错的显示效果。 此外， 您也可以参考我们提供的文献， 在 <a href="#video-further-reading">进一步了解</a> 中有所介绍。</p>
</div>
</div>
<div class="sect3">
<h4 id="video-interface-SDL">4.1.2. 简单直接媒体层<a class="anchor" href="#video-interface-SDL"></a></h4>
<div class="paragraph">
<p>简单直接媒体层(SDL)，原意是做为 Microsoft® Windows®、BeOS 以及 UNIX® 之间的端口层，允许跨平台应用发展，更高效地利用声卡和图形卡。SDL 层可以在低层访问硬件， 有时这样做就比 X11 接口层更为高效。</p>
</div>
<div class="paragraph">
<p>关于 SDL， 可以参考 package:devel/sdl12[]。</p>
</div>
</div>
<div class="sect3">
<h4 id="video-interface-DGA">4.1.3. 直接图形存取<a class="anchor" href="#video-interface-DGA"></a></h4>
<div class="paragraph">
<p>直接图形存取 (Direct Graphics Access) 是一种 X11 扩展， 通过它， 应用程序能够绕过 X 服务， 并直接修改画面缓存 (framebuffer)。 由于它依赖一种底层的内存映射来实现其功能， 因此使用它的程序必须以 <code>root</code> 身份来执行。</p>
</div>
<div class="paragraph">
<p>DGA 扩展可以通过 man:dga[1] 来完成测试和性能测量。 运行 <code>dga</code> 时， 它将随按键改变现实的颜色。 按 <kbd>q</kbd> 退出这个程序。</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="video-ports">4.2. Ports 和 包(Packages) 对视频的解决<a class="anchor" href="#video-ports"></a></h3>
<div class="paragraph">
<p>这部份主要讨论在 FreeBSD Ports 集中提供的可用于视频回放的软件。 视频回放在软件发展中是个很活跃的领域， 并且各种不同程序的功能可能与这里的描述不尽相同。</p>
</div>
<div class="paragraph">
<p>首先要弄清楚的重要一点是在 FreeBSD 上使用的视频程序其发展与在 Linux 里使用的是一样的。 大部份程序都还处在β阶段。使用 FreeBSD 的包可能面对的问题：</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>一个应用程序不能播放其它程序制作的文件。</p>
</li>
<li>
<p>一个应用程序不能播放其自已制作的文件。</p>
</li>
<li>
<p>不同机上的同样的程序，各自重新建立(rebuild)了一次， 播放同一个文件结果也会有不同。</p>
</li>
<li>
<p>一个看起来没什么的过滤器， 如图像尺寸的调整， 也有可能因为一个调整例程的问题变得很不象样。</p>
</li>
<li>
<p>应用程序频繁地留下垃圾(dumps core)。</p>
</li>
<li>
<p>没有随 port 一起安装的文档可以在网上或者 port 的 <span class="filename">work</span> 目录中找到。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>这些程序中许多也体现了 &#34;Linux主义&#34;。即， 有些问题来自于(程序)使用的标准库存在于Linux的发行版中， 或者有些是 Linux 内核的功能， 而该程序的作者事先所假定了的是 Linux内核。这些问题并不总是被 port 编护人员注意到或处理过， 这也就可能导致如下问题：</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>使用<span class="filename">/proc/cpuinfo</span>去检测处理器的特性。</p>
</li>
<li>
<p>滥用线程可能导致一个程序悬挂完成，而不是完全中止。</p>
</li>
<li>
<p>软件还不属于FreeBSD Ports集，而又与其它程序经常地一起使用。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>现在，这些程序的开发人员也已同 port 的维护人员进行了联合， 以减少制作port时出错。</p>
</div>
<div class="sect3">
<h4 id="video-mplayer">4.2.1. MPlayer<a class="anchor" href="#video-mplayer"></a></h4>
<div class="paragraph">
<p>MPlayer 是近来开发的同时也正迅速发展着的一个视频播放器。 MPlayer 团队的目标是在 Linux 和其它 UNIX 系统中的速度和机动性能。 在团队的创始人实在受不了当时可用的播放器的性能时， 这个计划就开始了。 有人也许会说图形接口已经成为新型设计的牺牲品。 但是一旦您习惯了命令行选项和按键控制方式，它就能表现得很好。</p>
</div>
<div class="sect4">
<h5 id="video-mplayer-building">4.2.1.1. 创建MPlayer<a class="anchor" href="#video-mplayer-building"></a></h5>
<div class="paragraph">
<p>MPlayer 可以从 package:multimedia/mplayer[] 找到。 MPlayer 在联编过程中会进行许多硬件检测， 而得到的可执行文件因此将无法移植到其他系统中使用。 因此， 从 ports 完成联编而不是安装预编译的包就很重要。 另外， 在 <code>make</code> 命令行还可以指定许多选项， 在 <span class="filename">Makefile</span> 中有所描述， 接下来我们开始联编：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># cd /usr/ports/multimedia/mplayer</span>
<span class="c"># make</span>
N - O - T - E

Take a careful look into the Makefile <span class="k">in </span>order
to learn how to tune mplayer towards you personal preferences!
For example,
make WITH_GTK1
builds MPlayer with GTK1-GUI support.
If you want to use the GUI, you can either <span class="nb">install</span>
/usr/ports/multimedia/mplayer-skins
or download official skin collections from
http://www.mplayerhq.hu/homepage/dload.html</code></pre>
</div>
</div>
<div class="paragraph">
<p>默认的 port 选项对于绝大多数用户来说是够用了。 不过， 如果您需要 XviD 编解码器， 则必须指定 <code>WITH_XVID</code> 这个命令行选项。 默认的 DVD 设备也可以用 <code>WITH_DVD_DEVICE</code> 选项来定义， 其默认值是 <span class="filename">/dev/acd0</span>。</p>
</div>
<div class="paragraph">
<p>撰写这一章的时候， MPlayer port 的联编过程包括了 HTML 文档和两个可执行文件， <code>mplayer</code> 和 <code>mencoder</code>， 后者是一个视频再编码工具。</p>
</div>
<div class="paragraph">
<p>MPlayer 的 HTML 文档提供了丰富的内容。 如果读者发现本章中缺少关于视频硬件的一些信息， 则 MPlayer 的文档将是十分详尽的补充。 如果您正在找关于 UNIX® 中的视频支持的资料， 您绝对应该花一些时间来阅读 MPlayer 的文档。</p>
</div>
</div>
<div class="sect4">
<h5 id="video-mplayer-using">4.2.1.2. 使用MPlayer<a class="anchor" href="#video-mplayer-using"></a></h5>
<div class="paragraph">
<p>任何 MPlayer 用户必须在其用户主目录下建立一个叫 <span class="filename">.mplayer</span> 的子目录。 输入下边的内容来建立这个必须的子目录：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">% <span class="nb">cd</span> /usr/ports/multimedia/mplayer
% make install-user</code></pre>
</div>
</div>
<div class="paragraph">
<p>在 <code>mplayer</code> 的手册里列出了它的命令选项。 HTML文档里有更为详细的信息。 这部份里， 我们只是描述了很少的常见应用。</p>
</div>
<div class="paragraph">
<p>要播放一个文件，如 <span class="filename">testfile.avi</span>， 可以通过各种视频接口当中的某一个去设置 <code>-vo</code> 选项：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">% mplayer <span class="nt">-vo</span> xv testfile.avi</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">% mplayer <span class="nt">-vo</span> sdl testfile.avi</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">% mplayer <span class="nt">-vo</span> x11 testfile.avi</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># mplayer -vo dga testfile.avi</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># mplayer -vo &#39;sdl:dga&#39; testfile.avi</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>所有这些选项都是值得一试的， 因为它们的性能依赖很多因素，并且都与硬件密切相关。</p>
</div>
<div class="paragraph">
<p>要播放 DVD， 需要把 <span class="filename">testfile.avi</span> 改为 <code>dvd://<em>N</em> -dvd-device <em>DEVICE</em></code>。 这里 <em>N</em> 是要播放的节目编号， 而 <span class="filename">DEVICE</span> 则是 DVD-ROM 的设备节点。 例如， 要播放 <span class="filename">/dev/dvd</span> 的第三个节目：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># mplayer -vo xv dvd://3 -dvd-device /dev/dvd</span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>可以在编译 MPlayer 时， 通过 <code>WITH_DVD_DEVICE</code> 来指定默认的 DVD 设备。 系统内定的默认设备是 <span class="filename">/dev/acd0</span>。 更多细节， 请参考 port 的 <span class="filename">Makefile</span>。</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>要停止、暂停、前进等等，可以参考设定的按键---这些可以通过 <code>mplayer -h</code> 得到或查看手册。</p>
</div>
<div class="paragraph">
<p>另外，回放的重要选项是：用于全屏模式的 <code>-fs -zoom</code> 和起辅助完成作用的`-framedrop`。</p>
</div>
<div class="paragraph">
<p>为了让 mplayer 的命令行不是太长，使用者可以通过建立一个文件 <span class="filename">.mplayer/config</span> 来设定如下默认选项：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>vo=xv
fs=yes
zoom=yes</pre>
</div>
</div>
<div class="paragraph">
<p>最后，<code>mplayer</code> 可以把DVD题目(title)抓取成为 <span class="filename">.vob</span> 文件。为了从DVD中导出第二个题目，请输入：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># mplayer -dumpstream -dumpfile out.vob dvd://2 -dvd-device /dev/dvd</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>输出文件 <span class="filename">out.vob</span> 将是 MPEG 并且可以被这部份描述的其它 &#34;包&#34; 利用。</p>
</div>
</div>
<div class="sect4">
<h5 id="video-mencoder">4.2.1.3. mencoder<a class="anchor" href="#video-mencoder"></a></h5>
<div class="paragraph">
<p>在使用 <code>mencoder</code> 之前， 首先熟悉其 HTML 文档中所介绍的选项是一个不错的主意。 它提供了联机手册， 但如果没有 HTML 文档则帮助不大。 有无数种方法来提高视频品质、 降低比特率、 修改格式， 而这些技巧可能会影响性能。 下面是几个例子， 第一个是简单地复制：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">% mencoder input.avi <span class="nt">-oac</span> copy <span class="nt">-ovc</span> copy <span class="nt">-o</span> output.avi</code></pre>
</div>
</div>
<div class="paragraph">
<p>不正确的命令选项组合可能使生成的文件不能被 <code>mplayer</code> 播放。因此，如果您只是想抓取文件， 一定在 <code>mplayer</code> 里使用 “-dumpfile”。</p>
</div>
<div class="paragraph">
<p>转换 <span class="filename">input.avi</span> 成为带有MPEG3音频编码 (要求 package:audio/lame[] ) 的MPEG4编码：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">% mencoder input.avi <span class="nt">-oac</span> mp3lame <span class="nt">-lameopts</span> <span class="nv">br</span><span class="o">=</span>192 <span class="se">\</span>
	 <span class="nt">-ovc</span> lavc <span class="nt">-lavcopts</span> <span class="nv">vcodec</span><span class="o">=</span>mpeg4:vhq <span class="nt">-o</span> output.avi</code></pre>
</div>
</div>
<div class="paragraph">
<p>这样就产生了可被 <code>mplayer</code> 和 `xine`播放的输出。</p>
</div>
<div class="paragraph">
<p><span class="filename">input.avi</span> 可以换成 <code>dvd://1 -dvd-device /dev/dvd</code> 并以 <code>root</code> 的身份来执行， 以重新对 DVD 节目进行编码。 由于您第一次做这样的工作时很可能会对结果不太满意， 建议您首先把节目复制成文件， 然后对它进行操作。</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="video-xine">4.2.2. xine视频播放器<a class="anchor" href="#video-xine"></a></h4>
<div class="paragraph">
<p>xine 视频播放器是一个关注范围很广的项目， 它不仅看准多合一的视频解决， 而且出品了一个可再用的基本库和一个可扩展插件的可执行模块。 发行有 &#34;包&#34; 和port版本-- package:multimedia/xine[]。</p>
</div>
<div class="paragraph">
<p>xine 播放器仍然很粗糙， 但这很显然与好开头无关。实际上 xine 要求你有快速的 CPU 和快速的显卡来运行，或者需要支持 XVideo 扩展。 图形界面(GUI)可以使用，但很勉强。</p>
</div>
<div class="paragraph">
<p>到写这章时，还没有可用于播放CSS编码的DVD文件的输入模块随同 xine 一起发行。 第三方的建造(builds)里内建有这样的模块， 但都不属于FreeBSD Ports 集。</p>
</div>
<div class="paragraph">
<p>与MPlayer 相比， xine 为用户考虑得更多， 但同时，对用户来说也少了很多有条理的控制方式。 xine 播放器在XVideo接口上做得不错。</p>
</div>
<div class="paragraph">
<p>默认情况下，播放器 xine 启动的时候会使用图形界面。那么就可以使用菜单打开指定的文件：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">% xine</code></pre>
</div>
</div>
<div class="paragraph">
<p>另外，没有图形界面也可以使用如下命令立即打开播放文件：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">% xine <span class="nt">-g</span> <span class="nt">-p</span> mymovie.avi</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="video-ports-transcode">4.2.3. 使用transcode<a class="anchor" href="#video-ports-transcode"></a></h4>
<div class="paragraph">
<p>transcode 这个软件并不是播放器， 而是一系列用于对视频和音频文件进行重新编码的工具。 通过使用 transcode， 就可以拥有使用带 <span class="filename">stdin/stdout</span> 接口的命令行工具来合并视频文件， 以及修复坏损文件的能力。</p>
</div>
<div class="paragraph">
<p>在联编 package:multimedia/transcode[] port 时可以指定大量选项， 我们建议使用下面的命令行来构建 transcode：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># make WITH_OPTIMIZED_CFLAGS=yes WITH_LIBA52=yes WITH_LAME=yes WITH_OGG=yes \</span>
<span class="nv">WITH_MJPEG</span><span class="o">=</span><span class="nb">yes</span> <span class="nt">-DWITH_XVID</span><span class="o">=</span><span class="nb">yes</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>对于多数用户而言， 前述配置已经足够了。</p>
</div>
<div class="paragraph">
<p>为了说明 <code>transcode</code> 的功能， 下面的例子展示了如何将 DivX 转换为 PAL MPEG-1 文件 (PAL VCD)：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">% transcode <span class="nt">-i</span> input.avi <span class="nt">-V</span> <span class="nt">--export_prof</span> vcd-pal <span class="nt">-o</span> output_vcd
% mplex <span class="nt">-f</span> 1 <span class="nt">-o</span> output_vcd.mpg output_vcd.m1v output_vcd.mpa</code></pre>
</div>
</div>
<div class="paragraph">
<p>生成的 MPEG 文件， <span class="filename">output_vcd.mpg</span>， 可以通过 MPlayer 来播放。 您甚至可以直接将这个文件刻录到 CD-R 介质上来创建 Video CD， 如果希望这样做的话， 需要安装 package:multimedia/vcdimager[] 和 package:sysutils/cdrdao[] 这两个程序。</p>
</div>
<div class="paragraph">
<p><code>transcode</code> 提供了联机手册， 但您仍应参考 <a href="http://www.transcoding.org/cgi-bin/transcode">transcode wiki</a> 以了解更多信息和例子。</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="video-further-reading">4.3. 进一步了解<a class="anchor" href="#video-further-reading"></a></h3>
<div class="paragraph">
<p>FreeBSD里不同的视频软件包正迅速发展中。 很可能在不久的将来，这里所谈到的问题都将得到解决。 同时，有些人想超越FreeBSD的音/像(A/V)能力， 那他们就不得不从一些FAQ和指南里学知识， 并使用一些不同的应用程序。 这里就给这些读者指出一些补充信息。</p>
</div>
<div class="paragraph">
<p><a href="http://www.mplayerhq.hu/DOCS/">MPlayer 文档 </a> 是很技术性的。 这些文档可以给那些希望获得关于UNIX®视频高级技术的人们提供参考。 MPlayer 邮件列表很不喜欢没耐心阅读文档的人， 如果您发现什么问题想报告给他们，请首先RTFM。</p>
</div>
<div class="paragraph">
<p><a href="http://dvd.sourceforge.net/xine-howto/en_GB/html/howto.html">xine HOWTO</a> 里边有一章是关于提高性能的，对所有的播放器都很适应。</p>
</div>
<div class="paragraph">
<p>最后是一些很有前途的程序，读者可以试一下：</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://avifile.sourceforge.net/">Avifile</a>，它就是 package:multimedia/avifile[] port。</p>
</li>
<li>
<p><a href="http://www.dtek.chalmers.se/groups/dvd/">Ogle</a> 它就是 package:multimedia/ogle[] port。</p>
</li>
<li>
<p><a href="http://xtheater.sourceforge.net/">Xtheater</a></p>
</li>
<li>
<p>package:multimedia/dvdauthor[]， 一个制作 DVD 节目的源码开放包。</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tvcard">5. 安装电视卡<a class="anchor" href="#tvcard"></a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_介绍">5.1. 介绍<a class="anchor" href="#_介绍"></a></h3>
<div class="paragraph">
<p>电视卡可以让您在您的计算机里观看到无线或有线电视。 许多卡是通过RCA或S-video输入接收复合视频， 而且有些卡还带有调频广播接收器。</p>
</div>
<div class="paragraph">
<p>FreeBSD 通过man:bktr[4]驱动程序，提供了对基于PCI的电视卡的支持， 要求这些卡使用的是Brooktree Bt848/849/878/879 或 Conexant CN-878/Fusion 878a视频采集芯片。 您还要确保这个板上带的有被支持的调谐器， 参考man:bktr[4]手册查看所支持的调谐器列表。</p>
</div>
</div>
<div class="sect2">
<h3 id="_增加驱动程序">5.2. 增加驱动程序<a class="anchor" href="#_增加驱动程序"></a></h3>
<div class="paragraph">
<p>要使用您的卡，您就要装载man:bktr[4]驱动程序。 这个可以通过往 <span class="filename">/boot/loader.conf</span> 里边添加下边一行来实现。象这样：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>bktr_load=&#34;YES&#34;</pre>
</div>
</div>
<div class="paragraph">
<p>另外，您也可以把这个驱动编译进内核， 要是这样的话，就把下边几行加到内核配置里去：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>device	 bktr
device	iicbus
device	iicbb
device	smbus</pre>
</div>
</div>
<div class="paragraph">
<p>这些附加的设备驱动程序是必须的， 因为卡的各组成部分是能过一根I2C总线相互连接在一起的。 然后建立安装新的内核。</p>
</div>
<div class="paragraph">
<p>一旦这个支持被加到了您的系统里，您须要重启系统。 在启动过程中，您的电视卡应该显示为up(启动)，象这样：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>bktr0: &lt;BrookTree 848A&gt; mem 0xd7000000-0xd7000fff irq 10 at device 10.0 on pci0
iicbb0: &lt;I2C bit-banging driver&gt; on bti2c0
iicbus0: &lt;Philips I2C bus&gt; on iicbb0 master-only
iicbus1: &lt;Philips I2C bus&gt; on iicbb0 master-only
smbus0: &lt;System Management Bus&gt; on bti2c0
bktr0: Pinnacle/Miro TV, Philips SECAM tuner.</pre>
</div>
</div>
<div class="paragraph">
<p>当然，这些信息可能因您的硬件不同而有所区别。 但是您应该能检查那个调制器是否被正确检测到了， 可能要忽略一些检测到的同man:sysctl[8] MIB（管理系统库）和内核配置文件选项一起的参数。 例如，如果您想强制使用Philips(飞利浦) SECAM制式的调谐器 ， 您就应把下列行加到内核配置文件里：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>options OVERRIDE_TUNER=6</pre>
</div>
</div>
<div class="paragraph">
<p>或者，您直接使用man:sysctl[8]：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># sysctl hw.bt848.tuner=6</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>请参见 man:bktr[4] 手册和 <span class="filename">/usr/src/sys/conf/NOTES</span> 文件， 以了解更多详细关于可用选项的资料。</p>
</div>
</div>
<div class="sect2">
<h3 id="_有用的应用程序">5.3. 有用的应用程序<a class="anchor" href="#_有用的应用程序"></a></h3>
<div class="paragraph">
<p>要使用您的电视卡，您需要安装下列应用程序之一：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>package:multimedia/fxtv[] 提供 &#34;窗口电视(TV-in-a-window)&#34; 功能和图像/声音/图像采集功能。</p>
</li>
<li>
<p>package:multimedia/xawtv[] 也是一款电视应用程序，功能同 fxtv 一样。</p>
</li>
<li>
<p>package:misc/alevt[] 解码和显示Videotext/Teletext。</p>
</li>
<li>
<p>package:audio/xmradio[]， 一款用于一些电视卡的调频电台调谐器的程序。</p>
</li>
<li>
<p>package:audio/wmtune[]， 一款用于电台调谐器的便捷的桌面程序。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>更多的程序在FreeBSD Ports Collection(Ports 集)里。</p>
</div>
</div>
<div class="sect2">
<h3 id="_问题解决">5.4. 问题解决<a class="anchor" href="#_问题解决"></a></h3>
<div class="paragraph">
<p>如果您的电视卡遇到了什么问题， 您应该首先检查一下您的视频采集芯片和调谐器是不是真正的被man:bktr[4] 驱动程序支持，并且是不是使用了正确的配置选项。 想得到更多支持和关于您的电视卡的各种问题， 您可以接触和使用<a href="https://lists.FreeBSD.org/subscription/freebsd-multimedia">FreeBSD 多媒体应用邮件列表</a> 邮件列表的压缩包。</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="scanners">6. 图象扫描仪<a class="anchor" href="#scanners"></a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_介绍_2">6.1. 介绍<a class="anchor" href="#_介绍_2"></a></h3>
<div class="paragraph">
<p>在 FreeBSD 中， 访问扫描仪的能力， 是通过 SANE (Scanner Access Now Easy) API 提供的。 SANE 也会使用一些 FreeBSD 设备驱动来访问扫描仪硬件。</p>
</div>
<div class="paragraph">
<p>FreeBSD 支持 SCSI 和 USB 扫描仪。 在做任何配置之前请确保您的扫描仪被 SANE 支持。 SANE 有一个 <a href="http://www.sane-project.org/sane-supported-devices.html"> 支持的设备</a> 列表， 可以为您提供有关扫描仪的支持情况和状态的信息。 在 FreeBSD 8.X 之前版本的系统中， man:uscanner[4] 手册页也提供了系统支持的 USB 扫描仪列表。</p>
</div>
</div>
<div class="sect2">
<h3 id="_内核配置">6.2. 内核配置<a class="anchor" href="#_内核配置"></a></h3>
<div class="paragraph">
<p>上面提到 SCSI 和 USB 接口都是支持的。 取决于您的扫描仪接口， 需要不同的设备驱动程序。</p>
</div>
<div class="sect3">
<h4 id="scanners-kernel-usb">6.2.1. USB 接口<a class="anchor" href="#scanners-kernel-usb"></a></h4>
<div class="paragraph">
<p>默认的 <span class="filename">GENERIC</span> 内核包含了支持 USB 扫描仪需要的设备驱动。 如果您决定使用一个定制的内核， 确保下面在您的内核配置文件中存在下面这些行：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>device usb
device uhci
device ohci
device ehci</pre>
</div>
</div>
<div class="paragraph">
<p>在 FreeBSD 8.X 之前的版本中， 还需要下面这行配置：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>device uscanner</pre>
</div>
</div>
<div class="paragraph">
<p>在这些 FreeBSD 版本中， 是通过设备驱动程序 man:uscanner[4] 来提供对 USB 扫描仪的支持的。 从 FreeBSD 8.0 开始， 这些支持则直接由 man:libusb[3] 函数库提供。</p>
</div>
<div class="paragraph">
<p>使用正确的内核重新引导系统之后， 插入 USB 扫描仪。 系统消息缓冲区 (使用 man:dmesg[8] 查看) 中会出现下面的信息， 表示检测到了扫描仪：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">ugen0.2: &lt;EPSON&gt; at usbus0</code></pre>
</div>
</div>
<div class="paragraph">
<p>或者， 对于 FreeBSD 7.X 系统而言：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">uscanner0: EPSON EPSON Scanner, rev 1.10/3.02, addr 2</code></pre>
</div>
</div>
<div class="paragraph">
<p>随 FreeBSD 版本不同， 这些信息表示扫描仪设备位于设备节点 <span class="filename">/dev/ugen0.2</span> 或 <span class="filename">/dev/uscanner0</span>。 在这个例子中， 我们使用的是 EPSON Perfection® 1650 USB 扫描仪。</p>
</div>
</div>
<div class="sect3">
<h4 id="_scsi_接口">6.2.2. SCSI 接口<a class="anchor" href="#_scsi_接口"></a></h4>
<div class="paragraph">
<p>如果您的扫描仪是 SCSI 接口的， 重要的是要知道您使用哪种 SCSI 控制器。 取决于所使用的 SCSI 芯片， 您需要调整内核配置文件。 <span class="filename">GENERIC</span> 的内核支持最常用的 SCSI 控制器。 请阅读 <span class="filename">NOTES</span> 文件并在您的内核配置文件中添加正确的行。 除了 SCSI 适配器驱动之外， 您还需要在内核配置文件中增加下述配置：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>device scbus
device pass</pre>
</div>
</div>
<div class="paragraph">
<p>在正确地联编并安装了内核之后， 就应该可以在系统启动时， 从系统消息缓冲中看到这些设备：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">pass2 at aic0 bus 0 target 2 lun 0
pass2: &lt;AGFA SNAPSCAN 600 1.10&gt; Fixed Scanner SCSI-2 device
pass2: 3.300MB/s transfers</code></pre>
</div>
</div>
<div class="paragraph">
<p>如果您的扫描仪没有在系统启动的时候加电， 很可能还需要强制手动检测一下，用 man:camcontrol[8] 命令执行一次 SCSI 总线扫描：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># camcontrol rescan all</span>
Re-scan of bus 0 was successful
Re-scan of bus 1 was successful
Re-scan of bus 2 was successful
Re-scan of bus 3 was successful</code></pre>
</div>
</div>
<div class="paragraph">
<p>然后扫描仪就会出现在 SCSI 设备列表里：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># camcontrol devlist</span>
&lt;IBM DDRS-34560 S97B&gt;              at scbus0 target 5 lun 0 <span class="o">(</span>pass0,da0<span class="o">)</span>
&lt;IBM DDRS-34560 S97B&gt;              at scbus0 target 6 lun 0 <span class="o">(</span>pass1,da1<span class="o">)</span>
&lt;AGFA SNAPSCAN 600 1.10&gt;           at scbus1 target 2 lun 0 <span class="o">(</span>pass3<span class="o">)</span>
&lt;PHILIPS CDD3610 CD-R/RW 1.00&gt;     at scbus2 target 0 lun 0 <span class="o">(</span>pass2,cd0<span class="o">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>有关 SCSI 设备的更多细节， 可查看 man:scsi[4] 和 man:camcontrol[8] 手册页。</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_sane_配置">6.3. SANE 配置<a class="anchor" href="#_sane_配置"></a></h3>
<div class="paragraph">
<p>SANE 系统分为两部分： 后端 (package:graphics/sane-backends[]) 和前端 (package:graphics/sane-frontends[])。 后端部分提供到扫描仪自身的访问。 SANE 的<a href="http://www.sane-project.org/sane-supported-devices.html"> 支持设备</a>列表详细说明了哪一个后端可以支持您的图象扫描仪。 如果您想使用您的设备，就必须为您的扫描仪选定正确的后端。 前端部分提供图形化的扫描界面 (xscanimage)。</p>
</div>
<div class="paragraph">
<p>要做的第一步就是安装 package:graphics/sane-backends[] port 或者 package。然后，使用 <code>sane-find-scanner</code> 命令来检查 SANE 系统做的扫描仪检测：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># sane-find-scanner -q</span>
found SCSI scanner <span class="s2">&#34;AGFA SNAPSCAN 600 1.10&#34;</span> at /dev/pass3</code></pre>
</div>
</div>
<div class="paragraph">
<p>输出显示了扫描仪的接口类型和扫描仪连接到系统上的设备节点。 生产厂家和产品型号可能没有显示，不过不重要。</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>一些 USB 扫描仪需要您加载固件，后端的手册页中有这方面的解释。 您也应该阅读 man:sane-find-scanner[1] 和 man:linprocfs[7] 手册页。</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>现在我们需要检查扫描仪是否可以被扫描前端识别。 默认情况下， SANE 后端自带一个叫做 man:sane[1] 的命令行工具。 这个命令允许您列出设备以及从命令行执行图片扫描。 <code>-L</code> 选项用来列出扫描仪设备：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># scanimage -L</span>
device <span class="sb">`</span>snapscan:/dev/pass3<span class="s1">&#39; is a AGFA SNAPSCAN 600 flatbed scanner</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>或者， 如果使用的是 <a href="#scanners-kernel-usb">USB 接口</a> 中的 USB 扫描仪：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># scanimage -L</span>
device <span class="s1">&#39;epson2:libusb:/dev/usb:/dev/ugen0.2&#39;</span> is a Epson GT-8200 flatbed scanner</code></pre>
</div>
</div>
<div class="paragraph">
<p>上述输出来自于 FreeBSD 8.X 系统。 <code>&#39;epson2:libusb:/dev/usb:/dev/ugen0.2&#39;</code> 给出了扫描仪所使用的后台名字 (<code>epson2</code>) 和设备节点 (<code>/dev/ugen0.2</code>)。</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>如果没有输出任何信息， 或提示没有识别到扫描仪， 则说明 man:sane[1] 无法识别它。 如果发生这种情况， 您就需要修改扫描仪支持后端的配置文件， 并定义所使用的扫描设备。 <span class="filename">/usr/local/etc/sane.d/</span> 目录中包含了所有的后端配置文件。 这类识别问题经常会在某些 USB 扫描仪上发生。</p>
</div>
<div class="literalblock">
<div class="content">
<pre>linkend=&#34;scanners-kernel-usb&#34;&gt; 中所使用的 USB 扫描仪， `sane-find-scanner` 会给出下面的信息：</pre>
</div>
</div>
<div class="paragraph">
<p>例如， 对于在 <a href="#scanners-kernel-usb">USB 接口</a>， 在 FreeBSD 8.X 中， 扫描仪已经被很好地识别并能够正常工作了； 而对于更早版本的 FreeBSD 而言 (使用 man:uscanner[4] 驱动程序) <code>sane-find-scanner</code> 则会给出这样的信息：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># sane-find-scanner -q</span>
found USB scanner <span class="o">(</span>UNKNOWN vendor and product<span class="o">)</span> at device /dev/uscanner0</code></pre>
</div>
</div>
<div class="paragraph">
<p>扫描仪被正确的探测到了，它使用 USB 接口，连接在 <span class="filename">/dev/uscanner0</span> 设备节点上。 我们现在可以检查看看扫描仪是否被正确的识别：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># scanimage -L</span>
No scanners were identified. If you were expecting something different,
check that the scanner is plugged <span class="k">in</span>, turned on and detected by the
sane-find-scanner tool <span class="o">(</span><span class="k">if </span>appropriate<span class="o">)</span><span class="nb">.</span> Please <span class="nb">read </span>the documentation
which came with this software <span class="o">(</span>README, FAQ, manpages<span class="o">)</span>.</code></pre>
</div>
</div>
<div class="paragraph">
<p>由于扫描仪没有识别成功， 我们就需要编辑 <span class="filename">/usr/local/etc/sane.d/epson2.conf</span> 文件。 所用的扫描仪型号是 EPSON Perfection® 1650， 这样我们知道扫描仪应使用 <code>epson</code> 后端。确保阅读后端配置文件中的帮助注释。 改动非常简单：注释掉导致您的扫描仪使用错误接口的所有行 (在我们这种情况下，我们将注释掉从 <code>scsi</code> 开始的所有行，因为我们的扫描仪使用 USB 接口)，然后在文件的结尾添加指定的接口和所用的设备节点。 这种情况下， 添加下面这行：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>usb /dev/uscanner0</pre>
</div>
</div>
<div class="paragraph">
<p>请确保阅读后端配置文件提供的注释以及后端手册页了解更多细节， 并使用正确的语法。我们现在可以检验扫描仪是否被识别到了：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># scanimage -L</span>
device <span class="sb">`</span>epson:/dev/uscanner0<span class="s1">&#39; is a Epson GT-8200 flatbed scanner</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>我们的 USB 扫描仪被识别到了。 此时如果商标和型号与扫描仪的实际情况不符， 并不会带来太大的麻烦。 您需要关注的是 <code>`epson:/dev/uscanner0&#39;</code> 字段， 这个给了我们正确地后端名称和正确的设备节点。</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>一旦 <code>scanimage -L</code> 命令可以看到扫描仪， 配置就完成了。设备现在准备好等待扫描了。</p>
</div>
<div class="paragraph">
<p>man:sane[1] 允许我们从命令行执行图片扫描， 相比之下使用图形用户界面来执行图片扫描会更好。 SANE 提供了一个简单但实用的图形界面： xscanimage (package:graphics/sane-frontends[])。</p>
</div>
<div class="paragraph">
<p>Xsane (package:graphics/xsane[])是另一个流行的图形扫描前端。 这个前端提供了一些高级特性， 比如多样的扫描模式(photocopy，fax，等。)， 色彩校正，批量扫描，等等。这两个程序都可以作为 GIMP 的插件使用。</p>
</div>
</div>
<div class="sect2">
<h3 id="_授权其他用户访问扫描仪">6.4. 授权其他用户访问扫描仪<a class="anchor" href="#_授权其他用户访问扫描仪"></a></h3>
<div class="paragraph">
<p>前面所有的操作都是用 <code>root</code> 权限来完成的。 然而您可能需要让其他的用户也可以访问扫描仪。 用户需要有扫描仪所用的设备节点的读和写权限。 比如，我们的 USB 扫描仪使用设备节点 <span class="filename">/dev/ugen0.2</span> 实际上只是到实际设备节点 <span class="filename">/dev/usb/0.2.0</span> 的符号连接 (可以通过查看 <span class="filename">/dev</span> 目录的内容来确认这一点)。 设备节点本身和这个符号连接分别属于 <code>wheel</code> 和 <code>operator</code> 组。 将用户 <code><em>joe</em></code> 添加到 这些组中， 就可以允许他使用扫描仪了， 不过， 出于显而易见的安全方面的原因， 在将用户加到特定的用户组， 特别是 <code>wheel</code> 组时， 无疑需三思而后行。 更好的解决方法是创建一个专门用于访问 USB 设备的组， 并让这个组的成员能够访问 USB 设备。</p>
</div>
<div class="paragraph">
<p>这里作为示例， 我们将会使用名为 <code><em>usb</em></code> 的组。 第一步是借助 man:pw[8] 命令来创建它：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># pw groupadd usb</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>接下来， 令 <span class="filename">/dev/ugen0.2</span> 符号连接和 <span class="filename">/dev/usb/0.2.0</span> 设备节点能够以 <code>usb</code> 组的身份来访问， 具体而言是配置正确的写权限 (<code>0660</code> 或 <code>0664</code>)， 因为默认情况下只有属主 (<code>root</code>) 才能写这些设备。 这些配置是通过在 <span class="filename">/etc/devfs.rules</span> 文件中添加如下的设置来实现的：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>[system=5]
add path ugen0.2 mode 0660 group usb
add path usb/0.2.0 mode 0666 group usb</pre>
</div>
</div>
<div class="paragraph">
<p>FreeBSD 7.X 用户需要将上面的配置改为使用与之对应的 <span class="filename">/dev/uscanner0</span>：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>[system=5]
add path uscanner0 mode 660 group usb</pre>
</div>
</div>
<div class="paragraph">
<p>随后您还需要在 <span class="filename">/etc/rc.conf</span> 中添加下面的内容并重新启动：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>devfs_system_ruleset=&#34;system&#34;</pre>
</div>
</div>
<div class="paragraph">
<p>关于这些配置的进一步细节请参考联机手册 man:devfs[8]。</p>
</div>
<div class="paragraph">
<p>现在， 只需将用户添加到 <code><em>usb</em></code> 组， 就可以使用扫描仪了：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># pw groupmod usb -m joe</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>更多详情， 请参见联机手册 man:pw[8]。</p>
</div>
</div>
</div>
</div>

    </div>
    
    <div class="buttons">
      
      <div class="prev">
        <i class="fa fa-angle-left" aria-hidden="true" title="Prev"></i>
        <div class="container">
          
            <a href=http://127.0.0.1:5500/zh-cn/books/handbook/desktop class="direction">Prev</a>
          
        </div>
      </div>
      
      <div class="home">
        <i class="fa fa-home" aria-hidden="true" title="Home"></i>
        <div class="container">
          
            <a href="../" class="direction">Home</a>
          
        </div>
      </div>
      
      <div class="next">
        <div class="container">
          
            <a href=http://127.0.0.1:5500/zh-cn/books/handbook/kernelconfig  class="direction">Next</a>
          
        </div>
        <i class="fa fa-angle-right" aria-hidden="true" title="Next"></i>
      </div>
      
    </div>
    <label class="hidden book-menu-overlay" for="menu-control"></label>
  </div>
  <aside class="toc">
    <div class="toc-content">
      <h3>Table of Contents</h3>
      <nav id="TableOfContents">
  <ul>
    <li><a href="#multimedia-synopsis">1. 概述</a></li>
    <li><a href="#sound-setup">2. 安装声卡</a></li>
    <li><a href="#sound-mp3">3. MP3音频</a></li>
    <li><a href="#video-playback">4. 视频回放</a></li>
    <li><a href="#tvcard">5. 安装电视卡</a></li>
    <li><a href="#scanners">6. 图象扫描仪</a></li>
  </ul>
</nav>
      <hr />
      
    </div>
  </aside>
  <a class="to-top" href="#top">
    <i class="fa fa-arrow-circle-up" aria-hidden="true"></i>
  </a>
</main>

    <footer>
  <div class="footer-container">
    <section class="logo-column">
          <img src="/images/FreeBSD-colors.svg" width="160" height="50" alt="FreeBSD logo" />
        <div class="options-container">
          
            <div class="language-container">
              <a id="languages" href="http://127.0.0.1:5500/zh-cn/languages">
                
                <img src="/images/language.png" class="language-image" alt="Choose language">
                <span>简体中文</span>
              </a>
            </div>
          
          <div class="theme-container">
            <select id="theme-chooser">
	      <option value="theme-system">System</option>
              <option value="theme-light">Light</option>
              <option value="theme-dark">Dark</option>
              <option value="theme-high-contrast">High contrast</option>
            </select>
          </div>
        </div>
      </section>
      
      <section class="copyright-column">
        <p>&copy; 1994-2023 The FreeBSD Project. All rights reserved</p>
        <span>Made with <span class="heart">♥</span> by the FreeBSD Community</span>
      </section>
  </div>
</footer>

  </body>
</html>
