<!DOCTYPE html>
<html class="theme-light" lang="zh-cn">
  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content=""/>
  <meta name="keywords" content=""/>
  <meta name="copyright" content="1995-2023 The FreeBSD Foundation" />
  <link rel="canonical" href="http://127.0.0.1:5500/zh-cn/books/handbook/install/" />

  <title>第 2 章 安装 FreeBSD |  FreeBSD Documentation Portal</title>

  <meta name="theme-color" content="#790000">
  <meta name="color-scheme" content="system light dark high-contrast">

    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="stylesheet" href="/styles/main.min.css">
    <link rel="stylesheet" href="/css/font-awesome-min.css">
    <script defer src="/js/theme-chooser.min.js"></script>
    <script defer src="/js/copy-clipboard.min.js"></script>
    <script defer src="/js/search.min.js"></script>

  
  
    <meta name="twitter:card" content="summary"/>
    <meta name="twitter:domain" content="docs.FreeBSD.org"/>
    <meta name="twitter:site" content="@freebsd"/>
    <meta name="twitter:url" content="https://twitter.com/freebsd"/>
    <meta property="og:title" content="第 2 章 安装 FreeBSD" />
    <meta property="og:description" content="" />
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="http://127.0.0.1:5500favicon.ico"/>
    <meta property="og:image:alt" content="FreeBSD Logo">
    <meta property="og:locale" content="zh-cn" />
    <meta property="og:url" content="http://127.0.0.1:5500/zh-cn/books/handbook/install/" />
    <meta property="og:site_name" content="FreeBSD Documentation Portal" />
    <script type="application/ld+json">
      {
        "@context": "http://schema.org",
        "@type": "Article",
        "url": "http:\/\/127.0.0.1:5500\/zh-cn\/books\/handbook\/install\/",
        "name": "FreeBSD Documentation Portal",
        "headline": "FreeBSD Documentation Portal",
        "description": "FreeBSD Documentation Portal"
      }
    </script>
    

  
</head>


  <body>
    <header>
  <div class="header-container">
    <div class="logo-menu-bars-container">
      <a href="http://127.0.0.1:5500" class="logo">
        <img src="/images/FreeBSD-monochromatic.svg" width="160" height="50" alt="FreeBSD logo" />
      </a>
      <label class="menu-bars" for="menu-bars">
        <i class="fa fa-bars" aria-hidden="true"></i>
      </label>
    </div>
    <input id="menu-bars" type="checkbox" />
    
    <div class="search-donate-container">
      
      
    </div>
  </div>
</header>

    
<input type="checkbox" class="hidden toggle" id="menu-control">
<main class="main-wrapper-book">
  <a id="top"></a>
  
  <aside class="book-menu">
    <div class="book-menu-content">
      <input id="search-book" type="text" placeholder="Search" aria-label="Search" maxlength="128" />
      <nav id="MenuContents">
        
  <ul>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-8ada319c45e780947f82b569049480cc" class="toggle"  />
          <label  class="icon cursor"  for="chapter-8ada319c45e780947f82b569049480cc"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/preface/">
              前言
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/preface/#preface-audience">预期的读者</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/preface/#preface-changes-from3">相对于第三版的改动</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/preface/#preface-changes-from2">相对于第二版的改动 (2004)</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/preface/#preface-changes">相对于第一版的改变 (2001)</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/preface/#preface-overview">本手册的组织</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/preface/#preface-conv">本书中使用的一些约定</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/preface/#preface-acknowledgements">致谢</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-32a83d18a326852a8d9ae2582360bbc8" class="toggle"  />
          <label  for="chapter-32a83d18a326852a8d9ae2582360bbc8"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/parti/">
              部分 I. 起步
            </a>
            
            
          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-a4909db05d872d16d5be86a57cbc2dc7" class="toggle"  />
          <label  class="icon cursor"  for="chapter-a4909db05d872d16d5be86a57cbc2dc7"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/introduction/">
              第 1 章 介绍
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/introduction/#introduction-synopsis">1. 概述</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/introduction/#nutshell">2. 欢迎来到 FreeBSD 的世界!</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/introduction/#history">3. 关于 FreeBSD 项目</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-6655173739803bf0920b92a7fe8a363d" class="toggle"  checked  />
          <label  class="icon cursor"  for="chapter-6655173739803bf0920b92a7fe8a363d"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/install/">
              第 2 章 安装 FreeBSD
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/install/#install-synopsis">1. 概述</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/install/#install-hardware">2. 硬件需求</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/install/#install-pre">3. 安装前的准备工作</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/install/#install-start">4. 开始安装</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/install/#using-sysinstall">5. 介绍 Sysinstall</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/install/#install-steps">6. 分配磁盘空间</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/install/#install-choosing">7. 选择要安装的软件包</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/install/#install-media">8. 选择您要使用的安装介质</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/install/#install-final-warning">9. 安装确认</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/install/#install-post">10. 安装后的配置</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/install/#install-trouble">11. 常见问题</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/install/#install-advanced">12. 高级安装指南</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/install/#install-diff-media">13. 准备您自己的安装介质</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-3c2455cadf89eadd3f6e77461085d5e9" class="toggle"  />
          <label  class="icon cursor"  for="chapter-3c2455cadf89eadd3f6e77461085d5e9"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/bsdinstall/">
              第 3 章 安装 FreeBSD（适用于 9.x 及以后版本）
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/bsdinstall/#bsdinstall-synopsis">1. 概述</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/bsdinstall/#bsdinstall-hardware">2. 硬件需求</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/bsdinstall/#bsdinstall-pre">3. 安装前的准备工作</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/bsdinstall/#bsdinstall-start">4. 开始安装</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/bsdinstall/#using-bsdinstall">5. 介绍 bsdinstall</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/bsdinstall/#bsdinstall-netinstall">6. 通过网络安装</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/bsdinstall/#bsdinstall-partitioning">7. 分配磁盘空间</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/bsdinstall/#bsdinstall-final-warning">8. 安装确认</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/bsdinstall/#bsdinstall-post">9. 安装后的配置</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/bsdinstall/#bsdinstall-install-trouble">10. 故障排除</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-709481b75d22ad36960f7ac166b3306c" class="toggle"  />
          <label  class="icon cursor"  for="chapter-709481b75d22ad36960f7ac166b3306c"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/basics/">
              第 4 章 UNIX 基础
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/basics/#basics-synopsis">1. 概述</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/basics/#consoles">2. 虚拟控制台和终端</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/basics/#permissions">3. 权限</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/basics/#dirstructure">4. 目录架构</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/basics/#disk-organization">5. 磁盘组织</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/basics/#mount-unmount">6. 文件系统的挂接和卸下</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/basics/#basics-processes">7. 进程</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/basics/#basics-daemons">8. 守护进程，信号和杀死进程</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/basics/#shells">9. Shells</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/basics/#editors">10. 文本编辑器</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/basics/#basics-devices">11. 设备和设备节点</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/basics/#binary-formats">12. 二进制文件格式</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/basics/#basics-more-information">13. 取得更多的资讯</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-58c050d31a1fbecd859248dacefeb567" class="toggle"  />
          <label  class="icon cursor"  for="chapter-58c050d31a1fbecd859248dacefeb567"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/ports/">
              第 5 章 安装应用程序: Packages 和 Ports
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/ports/#ports-synopsis">1. 概述</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/ports/#ports-overview">2. 软件安装预览</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/ports/#ports-finding-applications">3. 寻找您要的应用程序</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/ports/#packages-using">4. 使用 Package 系统</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/ports/#ports-using">5. 使用Ports Collection</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/ports/#ports-nextsteps">6. 安装之后还要做点什么？</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/ports/#ports-broken">7. 如何处理坏掉的 Ports</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-e5a000ce7f50680a180e2c1b83c121bc" class="toggle"  />
          <label  class="icon cursor"  for="chapter-e5a000ce7f50680a180e2c1b83c121bc"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/x11/">
              第 6 章 X Window 系统
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/x11/#x11-synopsis">1. 概述</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/x11/#x-understanding">2. 理解 X</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/x11/#x-install">3. 安装 X11</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/x11/#x-config">4. 配置 X11</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/x11/#x-fonts">5. 在 X11 中使用字体</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/x11/#x-xdm">6. X 显示管理器</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/x11/#x11-wm">7. 桌面环境</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-5eb30759c3a2873e716dc31d7760054c" class="toggle"  />
          <label  for="chapter-5eb30759c3a2873e716dc31d7760054c"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/partii/">
              部分 II. 常见的任务
            </a>
            
            
          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-c96504f017c56f4bc7f71548cccf5382" class="toggle"  />
          <label  class="icon cursor"  for="chapter-c96504f017c56f4bc7f71548cccf5382"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/desktop/">
              第 7 章 桌面应用
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/desktop/#desktop-synopsis">1. 概述</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/desktop/#desktop-browsers">2. 浏览器</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/desktop/#desktop-productivity">3. 办公、图象处理</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/desktop/#desktop-viewers">4. 文档查看器</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/desktop/#desktop-finance">5. 财务</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/desktop/#desktop-summary">6. 总结</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-e1898af36aaacc168e13b673d25b908f" class="toggle"  />
          <label  class="icon cursor"  for="chapter-e1898af36aaacc168e13b673d25b908f"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/multimedia/">
              第 8 章 多媒体
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/multimedia/#multimedia-synopsis">1. 概述</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/multimedia/#sound-setup">2. 安装声卡</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/multimedia/#sound-mp3">3. MP3音频</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/multimedia/#video-playback">4. 视频回放</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/multimedia/#tvcard">5. 安装电视卡</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/multimedia/#scanners">6. 图象扫描仪</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-6926664836e63c5cae4b2fa60855f91d" class="toggle"  />
          <label  class="icon cursor"  for="chapter-6926664836e63c5cae4b2fa60855f91d"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/kernelconfig/">
              第 9 章 配置FreeBSD的内核
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/kernelconfig/#kernelconfig-synopsis">1. 概述</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/kernelconfig/#kernelconfig-custom-kernel">2. 为什么需要建立定制的内核?</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/kernelconfig/#kernelconfig-devices">3. 发现系统硬件</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/kernelconfig/#kernelconfig-modules">4. 内核驱动，子系统和模块</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/kernelconfig/#kernelconfig-building">5. 建立并安装一个定制的内核</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/kernelconfig/#kernelconfig-config">6. 配置文件</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/kernelconfig/#kernelconfig-trouble">7. 如果出现问题怎么办</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-19d36bd70a320268f0ea1f66e4f3e224" class="toggle"  />
          <label  class="icon cursor"  for="chapter-19d36bd70a320268f0ea1f66e4f3e224"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/printing/">
              第 10 章 打印
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/printing/#printing-synopsis">1. 概述</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/printing/#printing-intro-spooler">2. 介绍</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/printing/#printing-intro-setup">3. 基本设置</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/printing/#printing-advanced">4. 高级设置</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/printing/#printing-using">5. 使用打印机</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/printing/#printing-lpd-alternatives">6. 替换标准后台打印</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/printing/#printing-troubleshooting">7. 疑难问题</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-a07f539e6c18f2db4da5dbb2b5bb1e79" class="toggle"  />
          <label  class="icon cursor"  for="chapter-a07f539e6c18f2db4da5dbb2b5bb1e79"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/linuxemu/">
              第 11 章 Linux® 二进制兼容模式
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/linuxemu/#linuxemu-synopsis">1. 概述</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/linuxemu/#linuxemu-lbc-install">2. 配置 Linux® 二进制兼容模式</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/linuxemu/#linuxemu-advanced">3. 高级主题</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-51416fdea9d5a1dfa1c2718cd825213a" class="toggle"  />
          <label  for="chapter-51416fdea9d5a1dfa1c2718cd825213a"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/partiii/">
              部分 III. 系统管理
            </a>
            
            
          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-532d0380ba66d66e033765a0b6930ee7" class="toggle"  />
          <label  class="icon cursor"  for="chapter-532d0380ba66d66e033765a0b6930ee7"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/config/">
              第 12 章 设置和调整
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/config/#config-synopsis">1. 概述</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/config/#configtuning-initial">2. 初步配置</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/config/#configtuning-core-configuration">3. 核心配置</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/config/#configtuning-appconfig">4. 应用程序配置</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/config/#configtuning-starting-services">5. 启动服务</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/config/#configtuning-cron">6. 配置 <code>cron</code></a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/config/#configtuning-rcd">7. 在 FreeBSD 中使用 rc</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/config/#config-network-setup">8. 设置网卡</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/config/#configtuning-virtual-hosts">9. 虚拟主机</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/config/#configtuning-configfiles">10. 配置文件</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/config/#configtuning-sysctl">11. 用 sysctl 进行调整</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/config/#configtuning-disk">12. 调整磁盘</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/config/#configtuning-kernel-limits">13. 调整内核限制</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/config/#adding-swap-space">14. 添加交换空间</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/config/#acpi-overview">15. 电源和资源管理</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/config/#ACPI-debug">16. 使用和调试 FreeBSD ACPI</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-d05f41680fb7e3d68b354ae03de368b1" class="toggle"  />
          <label  class="icon cursor"  for="chapter-d05f41680fb7e3d68b354ae03de368b1"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/boot/">
              第 13 章 FreeBSD 引导过程
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/boot/#boot-synopsis">1. 概述</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/boot/#boot-introduction">2. 引导问题</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/boot/#boot-blocks">3. 引导管理器和各引导阶段</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/boot/#boot-kernel">4. 内核在引导时的交互</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/boot/#device-hints">5. Device Hints</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/boot/#boot-init">6. Init：进程控制及初始化</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/boot/#boot-shutdown">7. 关机 (shutdown) 过程</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-17a53b356b407d9ed656b7babd2efa34" class="toggle"  />
          <label  class="icon cursor"  for="chapter-17a53b356b407d9ed656b7babd2efa34"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/users/">
              第 14 章 用户和基本的帐户管理
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/users/#users-synopsis">1. 概述</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/users/#users-introduction">2. 介绍</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/users/#users-superuser">3. 超级用户帐户</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/users/#users-system">4. 系统帐户</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/users/#users-user">5. 用户帐户</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/users/#users-modifying">6. 修改帐户</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/users/#users-limiting">7. 限制用户使用系统资源</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/users/#users-groups">8. 组</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-513e8e407c57354df334059688e9b60a" class="toggle"  />
          <label  class="icon cursor"  for="chapter-513e8e407c57354df334059688e9b60a"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/security/">
              第 15 章 安全
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/security/#security-synopsis">1. 概述</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/security/#security-intro">2. 介绍</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/security/#securing-freebsd">3. 确保 FreeBSD 的安全</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/security/#crypt">4. DES、 Blowfish、 MD5， 以及 Crypt</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/security/#one-time-passwords">5. 一次性口令</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/security/#tcpwrappers">6. TCP Wrappers</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/security/#kerberos5">7. Kerberos5</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/security/#openssl">8. OpenSSL</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/security/#ipsec">9. IPsec 上的 VPN</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/security/#openssh">10. OpenSSH</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/security/#fs-acl">11. 文件系统访问控制表</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/security/#security-portaudit">12. 监视第三方安全问题</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/security/#security-advisories">13. FreeBSD 安全公告</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/security/#security-accounting">14. 进程记帐</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-0f7d2858504c83a029928c048d394e2a" class="toggle"  />
          <label  class="icon cursor"  for="chapter-0f7d2858504c83a029928c048d394e2a"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/jails/">
              第 16 章 Jails
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/jails/#jails-synopsis">1. 概述</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/jails/#jails-terms">2. 与 Jail 相关的一些术语</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/jails/#jails-intro">3. 介绍</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/jails/#jails-build">4. 建立和控制 jail</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/jails/#jails-tuning">5. 微调和管理</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/jails/#jails-application">6. Jail 的应用</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-15be125ce5997f51c5499e3a0dee6c2c" class="toggle"  />
          <label  class="icon cursor"  for="chapter-15be125ce5997f51c5499e3a0dee6c2c"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/mac/">
              第 17 章 强制访问控制
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mac/#mac-synopsis">1. 概要</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mac/#mac-inline-glossary">2. 本章出现的重要术语</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mac/#mac-initial">3. 关于 MAC 的说明</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mac/#mac-understandlabel">4. 理解 MAC 标签</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mac/#mac-planning">5. 规划安全配置</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mac/#mac-modules">6. 模块配置</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mac/#mac-seeotheruids">7. MAC seeotheruids 模块</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mac/#mac-bsdextended">8. MAC bsdextended 模块</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mac/#mac-ifoff">9. MAC ifoff 模块</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mac/#mac-portacl">10. MAC portacl 模块</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mac/#mac-partition">11. MAC partition (分区) 模块</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mac/#mac-mls">12. MAC 多级 (Multi-Level) 安全模块</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mac/#mac-biba">13. MAC Biba 模块</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mac/#mac-lomac">14. MAC LOMAC 模块</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mac/#mac-implementing">15. MAC Jail 中的 Nagios</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mac/#mac-userlocked">16. User Lock Down</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mac/#mac-troubleshoot">17. MAC 框架的故障排除</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-3f7e8d763b17c7d0c44c60505cf0feea" class="toggle"  />
          <label  class="icon cursor"  for="chapter-3f7e8d763b17c7d0c44c60505cf0feea"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/audit/">
              第 18 章 安全事件审计
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/audit/#audit-synopsis">1. 概述</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/audit/#audit-inline-glossary">2. 本章中的一些关键术语</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/audit/#audit-install">3. 安装审计支持</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/audit/#audit-config">4. 对审计进行配置</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/audit/#audit-administration">5. 管理审计子系统</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-7bb1cb2287cd08a3672cc878e604f0d0" class="toggle"  />
          <label  class="icon cursor"  for="chapter-7bb1cb2287cd08a3672cc878e604f0d0"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/disks/">
              第 19 章 存储
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/disks/#disks-synopsis">1. 概述</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/disks/#disks-naming">2. 设备命名</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/disks/#disks-adding">3. 添加磁盘</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/disks/#raid">4. RAID</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/disks/#usb-disks">5. USB 存储设备</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/disks/#creating-cds">6. 创建和使用光学介质(CD)</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/disks/#creating-dvds">7. 创建和使用光学介质(DVD)</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/disks/#floppies">8. 创建和使用软盘</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/disks/#backups-tapebackups">9. 用磁带机备份</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/disks/#backups-floppybackups">10. 用软盘备份</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/disks/#backup-strategies">11. 备份策略</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/disks/#backup-basics">12. 备份程序</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/disks/#disks-virtual">13. 网络、内存和 和以及映像文件为介质的虚拟文件系统</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/disks/#snapshots">14. 文件系统快照</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/disks/#quotas">15. 文件系统配额</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/disks/#disks-encrypting">16. 加密磁盘分区</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/disks/#swap-encrypting">17. 对交换区进行加密</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/disks/#disks-hast">18. 高可用性存储 (HAST)</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-dec5fc4f0100e5030db0fb188d8d4b2f" class="toggle"  />
          <label  class="icon cursor"  for="chapter-dec5fc4f0100e5030db0fb188d8d4b2f"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/geom/">
              第 20 章 GEOM: 模块化磁盘变换框架
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/geom/#GEOM-synopsis">1. 概述</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/geom/#GEOM-intro">2. GEOM 介绍</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/geom/#GEOM-striping">3. RAID0 - 条带</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/geom/#GEOM-mirror">4. RAID1 - 镜像</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/geom/#GEOM-raid3">5. RAID3 - 使用专用校验设备的字节级条带</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/geom/#geom-ggate">6. GEOM Gate 网络设备</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/geom/#geom-glabel">7. 为磁盘设备添加卷标</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/geom/#geom-gjournal">8. 通过 GEOM 实现 UFS 日志</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-4c6bf6828e601b79edb2813329ac6604" class="toggle"  />
          <label  class="icon cursor"  for="chapter-4c6bf6828e601b79edb2813329ac6604"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/filesystems/">
              第 21 章 文件系统 Support
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/filesystems/#filesystems-synopsis">1. 概述</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/filesystems/#filesystems-zfs">2. Z 文件系统 (ZFS)</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-11d260f2685c0b17137e64887e1b1989" class="toggle"  />
          <label  class="icon cursor"  for="chapter-11d260f2685c0b17137e64887e1b1989"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/vinum/">
              第 22 章 Vinum 卷管理程序
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/vinum/#vinum-synopsis">1. 概述</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/vinum/#vinum-intro">2. 磁盘容量太小</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/vinum/#vinum-access-bottlenecks">3. 访问瓶颈</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/vinum/#vinum-data-integrity">4. 数据的完整性</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/vinum/#vinum-objects">5. Vinum 目标</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/vinum/#vinum-examples">6. 一些例子</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/vinum/#vinum-object-naming">7. 对象命名</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/vinum/#vinum-config">8. 配置 Vinum</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/vinum/#vinum-root">9. 使用 Vinum 作为根文件系统</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-ae23289d4b6415f3f878893f9d3ef9b8" class="toggle"  />
          <label  class="icon cursor"  for="chapter-ae23289d4b6415f3f878893f9d3ef9b8"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/virtualization/">
              第 23 章 虚拟化
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/virtualization/#virtualization-synopsis">1. 概述</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/virtualization/#virtualization-guest">2. 作为客户 OS 的 FreeBSD</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/virtualization/#virtualization-host">3. 作为宿主 OS 的 FreeBSD</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-b279d2b738963a45a059268d2fae00d5" class="toggle"  />
          <label  class="icon cursor"  for="chapter-b279d2b738963a45a059268d2fae00d5"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/l10n/">
              第 24 章 本地化－I18N/L10N使用和设置
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/l10n/#l10n-synopsis">1. 概述</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/l10n/#l10n-basics">2. 基础知识</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/l10n/#using-localization">3. 使用本地化语言</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/l10n/#l10n-compiling">4. 编译I18N程序</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/l10n/#lang-setup">5. 本地化FreeBSD</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-9e3f99bd76c861ab2e9a5f31ac421842" class="toggle"  />
          <label  class="icon cursor"  for="chapter-9e3f99bd76c861ab2e9a5f31ac421842"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/cutting-edge/">
              第 25 章 更新与升级 FreeBSD
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/cutting-edge/#updating-upgrading-synopsis">1. 概述</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/cutting-edge/#updating-upgrading-freebsdupdate">2. FreeBSD 更新</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/cutting-edge/#updating-upgrading-portsnap">3. Portsnap： 一个 Ports Collection 更新工具</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/cutting-edge/#updating-upgrading-documentation">4. 更新系统附带的文档</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/cutting-edge/#current-stable">5. 追踪开发分支</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/cutting-edge/#synching">6. 同步您的源码</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/cutting-edge/#makeworld">7. 重新编译 "world"</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/cutting-edge/#make-delete-old">8. 删除过时的文件、 目录和函数库</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/cutting-edge/#small-lan">9. 跟踪多台机器</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-3ba999091575eb04ae88235cd0fb1afa" class="toggle"  />
          <label  class="icon cursor"  for="chapter-3ba999091575eb04ae88235cd0fb1afa"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/dtrace/">
              第 26 章 DTrace
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/dtrace/#dtrace-synopsis">1. 概述</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/dtrace/#dtrace-implementation">2. 实现上的差异</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/dtrace/#dtrace-enable">3. 启用 DTrace 支持</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/dtrace/#dtrace-using">4. 使用 DTrace</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/dtrace/#dtrace-language">5. D 语言</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-6d4439926bb106ac084ecc88cfd3cfa4" class="toggle"  />
          <label  for="chapter-6d4439926bb106ac084ecc88cfd3cfa4"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/partiv/">
              部分 IV. 网络通讯
            </a>
            
            
          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-05a353fcb61d8e035f7c43e14725766e" class="toggle"  />
          <label  class="icon cursor"  for="chapter-05a353fcb61d8e035f7c43e14725766e"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/serialcomms/">
              第 27 章 串口通讯
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/serialcomms/#serial-synopsis">1. 概述</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/serialcomms/#serial">2. 介绍</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/serialcomms/#term">3. 终端</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/serialcomms/#dialup">4. 拨入服务</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/serialcomms/#dialout">5. 拨出设备</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/serialcomms/#serialconsole-setup">6. 设置串口控制台</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-7f0cbcbf6701b86eba3bbd6fc829f1b8" class="toggle"  />
          <label  class="icon cursor"  for="chapter-7f0cbcbf6701b86eba3bbd6fc829f1b8"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/ppp-and-slip/">
              第 28 章 PPP 和 SLIP
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/ppp-and-slip/#ppp-and-slip-synopsis">1. 概述</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/ppp-and-slip/#userppp">2. 使用用户级 PPP</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/ppp-and-slip/#ppp">3. 使用内核级PPP</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/ppp-and-slip/#ppp-troubleshoot">4. PPP 连接故障排除</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/ppp-and-slip/#pppoe">5. 使用基于以太网的PPP(PPPoE)</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/ppp-and-slip/#pppoa">6. 使用 ATM 上的 PPP (PPPoA)</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/ppp-and-slip/#slip">7. 使用SLIP</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-9d023b545804f197d195dd9412749943" class="toggle"  />
          <label  class="icon cursor"  for="chapter-9d023b545804f197d195dd9412749943"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/mail/">
              第 29 章 电子邮件
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mail/#mail-synopsis">1. 概述</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mail/#mail-using">2. 使用电子邮件</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mail/#sendmail">3. sendmail 配置</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mail/#mail-changingmta">4. 改变您的邮件传输代理程序</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mail/#mail-trouble">5. 疑难解答</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mail/#mail-advanced">6. 高级主题</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mail/#SMTP-UUCP">7. SMTP 与 UUCP</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mail/#outgoing-only">8. 只发送邮件的配置</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mail/#SMTP-dialup">9. 拨号连接时使用邮件传送</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mail/#SMTP-Auth">10. SMTP 验证</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mail/#mail-agents">11. 邮件用户代理</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mail/#mail-fetchmail">12. 使用 fetchmail</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mail/#mail-procmail">13. 使用 procmail</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-42b19e05d30c4135c74b9878818747a9" class="toggle"  />
          <label  class="icon cursor"  for="chapter-42b19e05d30c4135c74b9878818747a9"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/network-servers/">
              第 30 章 网络服务器
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/network-servers/#network-servers-synopsis">1. 概要</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/network-servers/#network-inetd">2. inetd"超级服务器"</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/network-servers/#network-nfs">3. 网络文件系统（NFS）</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/network-servers/#network-nis">4. 网络信息服务 (NIS/YP)</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/network-servers/#network-dhcp">5. 网络自动配置 (DHCP)</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/network-servers/#network-dns">6. 域名系统 (DNS)</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/network-servers/#network-apache">7. Apache HTTP 服务器</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/network-servers/#network-ftp">8. 文件传输协议 (FTP)</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/network-servers/#network-samba">9. 为 Microsoft® Windows® 客户机提供文件和打印服务 (Samba)</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/network-servers/#network-ntp">10. 通过 NTP 进行时钟同步</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/network-servers/#network-syslogd">11. 使用 <code>syslogd</code> 记录远程主机的日志</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-9554a5177d00d0e87ada408809a1fc67" class="toggle"  />
          <label  class="icon cursor"  for="chapter-9554a5177d00d0e87ada408809a1fc67"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/firewalls/">
              第 31 章 防火墙
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/firewalls/#firewalls-intro">1. 入门</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/firewalls/#firewalls-concepts">2. 防火墙的概念</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/firewalls/#firewalls-apps">3. 防火墙软件包</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/firewalls/#firewalls-pf">4. OpenBSD Packet Filter (PF) 和 ALTQ</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/firewalls/#firewalls-ipf">5. IPFILTER (IPF) 防火墙</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/firewalls/#firewalls-ipfw">6. IPFW</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-9903a1d844ed803a436595e93ec33572" class="toggle"  />
          <label  class="icon cursor"  for="chapter-9903a1d844ed803a436595e93ec33572"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/advanced-networking/">
              第 32 章 高级网络
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/advanced-networking/#advanced-networking-synopsis">1. 概述</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/advanced-networking/#network-routing">2. 网关和路由</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/advanced-networking/#network-wireless">3. 无线网络</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/advanced-networking/#network-bluetooth">4. 蓝牙</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/advanced-networking/#network-bridging">5. 桥接</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/advanced-networking/#network-aggregation">6. 链路聚合与故障转移</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/advanced-networking/#network-diskless">7. 无盘操作</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/advanced-networking/#network-pxe-nfs">8. 从 PXE 启动一个 NFS 根文件系统</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/advanced-networking/#network-isdn">9. ISDN</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/advanced-networking/#network-natd">10. 网络地址转换</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/advanced-networking/#network-plip">11. 并口电缆 IP (PLIP)</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/advanced-networking/#network-ipv6">12. IPv6</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/advanced-networking/#network-atm">13. 异步传输模式 (ATM)</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/advanced-networking/#carp">14. Common Address Redundancy Protocol (CARP， 共用地址冗余协议)</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-8ca29f99c249993ee9234cb4632af7a5" class="toggle"  />
          <label  for="chapter-8ca29f99c249993ee9234cb4632af7a5"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/partv/">
              部分 V. 附录
            </a>
            
            
          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-0229d553ebf23ffeb945be6f32836221" class="toggle"  />
          <label  class="icon cursor"  for="chapter-0229d553ebf23ffeb945be6f32836221"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/mirrors/">
              附录 A. 获取 FreeBSD
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mirrors/#mirrors-cdrom">1. CDROM 和 DVD 发行商</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mirrors/#mirrors-ftp">2. FTP 站点</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mirrors/#anoncvs">3. 匿名 CVS</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mirrors/#ctm">4. 使用 CTM</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mirrors/#cvsup">5. 使用 CVSup</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mirrors/#cvs-tags">6. CVS 标签</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mirrors/#mirrors-afs">7. AFS 站点</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/mirrors/#mirrors-rsync">8. rsync 站点</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-743c99fa278b8138914ff018e40c9231" class="toggle"  />
          <label  class="icon cursor"  for="chapter-743c99fa278b8138914ff018e40c9231"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/bibliography/">
              附录 B. 参考文献
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/bibliography/#bibliography-freebsd">1. 关于 FreeBSD 的专业书籍与杂志</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/bibliography/#bibliography-userguides">2. 用户指南</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/bibliography/#bibliography-adminguides">3. 管理员指南</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/bibliography/#bibliography-programmers">4. 开发指南</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/bibliography/#bibliography-osinternals">5. 操作系统原理</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/bibliography/#bibliography-security">6. 安全方面的参考文献</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/bibliography/#bibliography-hardware">7. 硬件参考</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/bibliography/#bibliography-history">8. UNIX® 历史</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/bibliography/#bibliography-journals">9. 各种期刊</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-de7eade4b8b64f298c0cbac44c2278da" class="toggle"  />
          <label  class="icon cursor"  for="chapter-de7eade4b8b64f298c0cbac44c2278da"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/eresources/">
              附录 C. Internet上的资源
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/eresources/#eresources-mail">1. 邮件列表</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/eresources/#eresources-news">2. Usenet新闻组</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/eresources/#eresources-web">3. World Wide Web服务器</a></li>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/eresources/#eresources-email">4. Email地址</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-bfb0d4e71c3c1a18a8b75e03f4b48e26" class="toggle"  />
          <label  class="icon cursor"  for="chapter-bfb0d4e71c3c1a18a8b75e03f4b48e26"><a role="button"></a></label>

          
            
            <a href="http://127.0.0.1:5500/zh-cn/books/handbook/pgpkeys/">
              附录 D. PGP公钥
            </a>
            
            
  <ul>
    <li><a href="http://127.0.0.1:5500/zh-cn/books/handbook/pgpkeys/#pgpkeys-officers">1. Officers</a></li>
  </ul>

          

        
      </li>
    
      <li>
        
      </li>
    
  </ul>


      </nav>
    </div>
  </aside>
  
  <div class="book">
    
    <div class="book-menu-mobile">
      <label for="menu-control">
        <span class="menu-control-button">
          <i class="fa fa-list" aria-hidden="true" title="Book menu"></i>
          Book menu
        </span>
      </label>
    </div>
    
    <h1 class="title">第 2 章 安装 FreeBSD</h1>
    
    
      <div class="admonitionblock note">
        <p>
          <i class="fa fa-exclamation-circle" aria-hidden="true"></i>
          This translation may be out of date. To help with the translations please access the <a href="https://translate-dev.freebsd.org/" target="_blank">FreeBSD translations instance</a>.
        </p>
      </div>
    
    
    
    <div class="toc-mobile">
      <h3>Table of Contents</h3>
      <nav id="TableOfContents">
  <ul>
    <li><a href="#install-synopsis">1. 概述</a></li>
    <li><a href="#install-hardware">2. 硬件需求</a></li>
    <li><a href="#install-pre">3. 安装前的准备工作</a></li>
    <li><a href="#install-start">4. 开始安装</a></li>
    <li><a href="#using-sysinstall">5. 介绍 Sysinstall</a></li>
    <li><a href="#install-steps">6. 分配磁盘空间</a></li>
    <li><a href="#install-choosing">7. 选择要安装的软件包</a></li>
    <li><a href="#install-media">8. 选择您要使用的安装介质</a></li>
    <li><a href="#install-final-warning">9. 安装确认</a></li>
    <li><a href="#install-post">10. 安装后的配置</a></li>
    <li><a href="#install-trouble">11. 常见问题</a></li>
    <li><a href="#install-advanced">12. 高级安装指南</a></li>
    <li><a href="#install-diff-media">13. 准备您自己的安装介质</a></li>
  </ul>
</nav>
    </div>
    
      
      
    
    <div class="book-content">
      <div id="preamble">
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="install-synopsis">1. 概述<a class="anchor" href="#install-synopsis"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>FreeBSD 提供了一个以文字为主，简单好用的安装程序，叫做 sysinstall 。这是 FreeBSD 默认使用的安装程序； 厂商如果想，也可以提供适合自己需要的安装程序。本章说明如何使用 sysinstall 来安装 FreeBSD。</p>
</div>
<div class="paragraph">
<p>学习完本章之后，您将会知道：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>如何制作 FreeBSD 安装磁盘</p>
</li>
<li>
<p>FreeBSD如何参照及分割您的硬盘</p>
</li>
<li>
<p>如何启动 sysinstall.</p>
</li>
<li>
<p>在执行 sysinstall 时您将要回答的问题、 问题代表什么意义，以及该如何回答它们。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>在阅读本章之前，您应该：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>阅读您要安装的 FreeBSD 版本所附的硬件支持列表以确定您的硬件有没有被支持。</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>一般来说，此安装说明是针对 i386™ (&#34;PC 兼容机&#34;) 体系结构的电脑。如果有其它体系结构的安装说明， 我们将一并列出。虽然本文档经常保持更新， 但有可能与您安装版本上所带的说明文档有些许出入。 在这里建议您使用本说明文章作为一般性的安装指导参考手册。</p>
</div>
</td>
</tr>
</tbody></table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="install-hardware">2. 硬件需求<a class="anchor" href="#install-hardware"></a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="install-hardware-minimal">2.1. 最小配置<a class="anchor" href="#install-hardware-minimal"></a></h3>
<div class="paragraph">
<p>安装 FreeBSD 所需的最小硬件配置， 随 FreeBSD 版本和硬件架构不同而有所不同。</p>
</div>
<div class="paragraph">
<p>在接下来的几节中， 给出了这些信息的一些总结。随您安装 FreeBSD 的方式不同， 可能需要使用软驱或为 FreeBSD 支持的 CDROM 驱动器， 有时候也可能需要的是一块网卡。 这将在 <a href="#install-boot-media">准备引导介质</a> 中进行介绍。</p>
</div>
<div class="sect3">
<h4 id="_freebsdi386_和_freebsdpc98">2.1.1. FreeBSD/i386 和 FreeBSD/pc98<a class="anchor" href="#_freebsdi386_和_freebsdpc98"></a></h4>
<div class="paragraph">
<p>FreeBSD/i386 和 FreeBSD/pc98 版本， 都需要 486 或更高的处理器，以及至少 24 MB 的 RAM。 您需要至少 150 MB 的空闲硬盘空间， 才能完成最小的安装配置。</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>对于老旧的硬件而言， 多数时候， 装配更多的 RAM 和腾出更多的硬盘空间， 要比使用更快的处理器更有用。</p>
</div>
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect3">
<h4 id="_freebsdamd64">2.1.2. FreeBSD/amd64<a class="anchor" href="#_freebsdamd64"></a></h4>
<div class="paragraph">
<p>有两类处理器同时能够支持运行 FreeBSD/amd64。 第一种是 AMD64 处理器， 包括 AMD Athlon™64、 AMD Athlon™64-FX、 AMD Opteron™ 以及更高级别的处理器。</p>
</div>
<div class="paragraph">
<p>能够使用 FreeBSD/amd64 的另一种处理器是包含了采用 Intel® EM64T 架构支持的处理器。 这类处理器包括 Intel® Core™ 2 Duo、 Quad、 以及 Extreme 系列处理器， 以及 Intel® Xeon™ 3000、 5000、 和 7000 系列处理器。</p>
</div>
<div class="paragraph">
<p>如果您的计算机使用 nVidia nForce3 Pro-150， 则 <em>必须</em> 使用 BIOS 配置， 禁用 IO APIC。 如果您没有找到这样的选项， 可能就只能转而禁用 ACPI 了。 Pro-150 芯片组存在一个 bug， 目前我们还没有找到绕过这一问题的方法。</p>
</div>
</div>
<div class="sect3">
<h4 id="_freebsdsparc64">2.1.3. FreeBSD/sparc64<a class="anchor" href="#_freebsdsparc64"></a></h4>
<div class="paragraph">
<p>要安装 FreeBSD/sparc64， 必须使用它支持的平台 (参见 <a href="#install-hardware-supported">支持的硬件</a>)。</p>
</div>
<div class="paragraph">
<p>FreeBSD/sparc64 需要独占一块磁盘。 目前还没有办法与其它操作系统共享一块磁盘。</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="install-hardware-supported">2.2. 支持的硬件<a class="anchor" href="#install-hardware-supported"></a></h3>
<div class="paragraph">
<p>支持的硬件列表， 会作为 FreeBSD 发行版本的 FreeBSD 兼容硬件说明提供。 这个文档通常可以在 CDROM 或 FTP 安装文件的顶级目录找到， 它的名字是 <span class="filename">HARDWARE.TXT</span>， 此外， 在 sysinstall 的 documentation 菜单也可以找到。它针对特定的硬件架构列出了 FreeBSD 已知支持的硬件。 不同发行版本和架构上的硬件支持列表，可以在 FreeBSD 网站的 <a href="http://www.FreeBSD.org/releases/">发行版信息</a> 页面上找到。</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="install-pre">3. 安装前的准备工作<a class="anchor" href="#install-pre"></a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="install-inventory">3.1. 列出您电脑的硬件清单<a class="anchor" href="#install-inventory"></a></h3>
<div class="paragraph">
<p>在安装 FreeBSD 之前，您应该试着将您电脑中的硬件清单列出来。 FreeBSD 安装程序会将这些硬件(磁盘、网卡、光驱等等) 以及型号及制造厂商列出来。FreeBSD 也会尝试为这些设备找出最适当的 IRQ 及 IO 端口的设定。但是因为 PC 的硬件种类实在太过复杂， 这个步骤不一定总是能成功。这时， 您就可能需要手动更改有问题的设备的设定值。</p>
</div>
<div class="paragraph">
<p>如果您已经安装了其它的操作系统，如 Windows® 或 Linux， 那么您可以先由这些系统所提供的工具来查看您的设备设定值是怎么分配的。 如果您真的没办法确定某些接口卡用什么设定值，那么您可以检查看看， 说不定它的设定已经标示在卡上。常用的 IRQ 号码为 3、5 以及 7； IO 端口的值通常以 16 进制位表示，例如 Ox330。</p>
</div>
<div class="paragraph">
<p>我们建议您在安装 FreeBSD 之前把这些信息打印或记录下来，做成表格 的样子也许会比较有帮助，例如：</p>
</div>
<table class="tableblock frame-none grid-all stretch">
<caption class="title">表 1. 硬件设备清单</caption>
<colgroup>
<col style="width: 25%;"/>
<col style="width: 25%;"/>
<col style="width: 25%;"/>
<col style="width: 25%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">设备名</th>
<th class="tableblock halign-left valign-top">IRQ</th>
<th class="tableblock halign-left valign-top">IO 端口号</th>
<th class="tableblock halign-left valign-top">备注</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">第一块硬盘</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N/A</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N/A</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">40 GB，Seagate 制造，第一个 IDE 接口主设备</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CDROM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N/A</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N/A</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">第一个 IDE 接口从设备</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">第二块硬盘</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N/A</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N/A</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">20 GB，IBM 制造, 第二个 IDE 接口主设备</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">第一个 IDE 控制器</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0x1f0</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">网卡</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N/A</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N/A</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Intel® 10/100</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Modem</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N/A</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N/A</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3Com® 56K faxmodem，位于 COM1 口</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>在清楚地了解了您计算机的配置之后， 需要检查它是否符合您希望安装的 FreeBSD 版本的硬件需求。</p>
</div>
</div>
<div class="sect2">
<h3 id="_备份您的数据">3.2. 备份您的数据<a class="anchor" href="#_备份您的数据"></a></h3>
<div class="paragraph">
<p>如果您的电脑上面存有重要的数据资料， 那么在安装 FreeBSD 前请确定您已经将这些资料备份了， 并且先测试这些备份文档是否有问题。FreeBSD 安装程序在要写入任何资料到您的硬盘前都会先提醒您确认， 一旦您确定要写入，那么以后就没有反悔的机会。</p>
</div>
</div>
<div class="sect2">
<h3 id="install-where">3.3. 决定要将 FreeBSD 安装到哪里<a class="anchor" href="#install-where"></a></h3>
<div class="paragraph">
<p>如果您想让 FreeBSD 使用整个硬盘，那么请直接跳到下一节。</p>
</div>
<div class="paragraph">
<p>但是，如果您想让 FreeBSD 跟您已有的系统并存， 那么您必须对您数据存在硬盘的分布方式有深入的了解， 以及其所造成的影响。</p>
</div>
<div class="sect3">
<h4 id="install-where-i386">3.3.1. FreeBSD/i386 体系结构的硬盘分配方式<a class="anchor" href="#install-where-i386"></a></h4>
<div class="paragraph">
<p>一个 PC 硬盘可以被细分为许多块。 这些块被称为 <em>partitions (分区)</em>。 由于 FreeBSD 内部也有分区的概念，如此命名很容易导致混淆， 因此我们在 FreeBSD 中，将其称为磁盘 slice，或简称为 slices。 例如， FreeBSD 提供的用于操作 PC 磁盘分区的工具 <code>fdisk</code> 就将其称为 slice 而不是 partition。 由于设计的原因， 每个硬盘仅支持四个分区； 这些分区叫做 <em>主分区(Primary partion)</em>。 为了突破这个限制以便能使用更多的分区，就有了新的分区类型，叫做 <em>扩展分区(Extended partition)</em>。 一个硬盘可以拥有一个扩展分区。在扩展分区里可以建立许多个所谓的 <em>逻辑分区(Logical partitions)</em>。</p>
</div>
<div class="paragraph">
<p>每个分区都有其独立的 <em>分区号(partition ID)</em>, 用以区分每个分区的数据类型。FreeBSD 分区的分区号为 <code>165</code>。</p>
</div>
<div class="paragraph">
<p>一般而言，每种操作系统都会有自己独特的方式来区别分区。 例如 DOS 及其之后的 Windows®， 会分配给每个主分区及逻辑分区一个 <em>驱动器字符</em>， 从 <span class="filename">C:</span> 开始。</p>
</div>
<div class="paragraph">
<p>FreeBSD 必须安装在主分区。FreeBSD 可以在这个分区上面存放系统数据或是您建立的任何文件。 然而，如果您有多个硬盘，您也可以在这些硬盘上(全部或部分)建立 FreeBSD 分区。在您安装 FreeBSD 的时候，必须要有一个分区可以给 FreeBSD 使用。 这个分区可以是尚未规划的分区， 或是已经存在且存有数据但您不再需要的分区。</p>
</div>
<div class="paragraph">
<p>如果您已经用完了您硬盘上的所有分区， 那么您必须使用其它操作系统所提供的工具 (如 DOS 或 Windows® 下的 <code>fdisk</code>) 来腾出一个分区给 FreeBSD 使用。</p>
</div>
<div class="paragraph">
<p>如果您的某个分区有多余的空间，您可以使用它。 但是使用前您需要先整理一下这些分区。</p>
</div>
<div class="paragraph">
<p>FreeBSD 最小安装需要约 100 MB 的空间，但是这仅是 <em>非常</em> 基本的安装， 几乎没有剩下多少空间可以建立您自己的文件。一个较理想的最小安装是 250 MB，不含图形界面；或是 350 MB 以上，包含图形界面。 如果您还需要安装其它的第三方厂商的套件， 那么将需要更多的硬盘空间。</p>
</div>
<div class="paragraph">
<p>您可以使用类似 PartitionMagic® 这样的商业版本工具， 或类似 GParted 这样的自由软件工具来调整分区尺寸， 从而为 FreeBSD 腾出空间。 PartitionMagic® 和 GParted 都能改变 NTFS 分区的尺寸。 GParted 在许多 Live CD Linux 发行版， 如 <a href="http://www.sysresccd.org/">SystemRescueCD</a> 中均有提供。</p>
</div>
<div class="paragraph">
<p>目前已经有报告显示改变 Microsoft® Vista 分区尺寸时会出现问题。 在进行此类操作时， 建议您准备一张 Vista 安装 CDROM。如同其他的磁盘维护操作一样， 强烈建议您事先进行备份。</p>
</div>
<div class="admonitionblock warning">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>不当的使用这些工具可能会删掉您硬盘上的数据资料！ 在使用这些工具前确定您有最近的、没问题的备份数据。</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="exampleblock">
<div class="title">例 1. 使用已存在的分区</div>
<div class="content">
<div class="paragraph">
<p>假设您只有一个 4GB 的硬盘，而且已经装了 Windows® 然后您将这个硬盘分成两个分区 <span class="filename">C:</span> 跟 <span class="filename">D:</span>，每个分区大小为 2 GB。在 <span class="filename">C:</span> 分区上存放有 1 GB 的数据、 <span class="filename">D:</span>分区上存放 0.5 GB 的数据。</p>
</div>
<div class="paragraph">
<p>这意味着您的盘上有两个分区，一个驱动器符号是一个分区 (如 c:、d:)。 您可以把所有存放在 <span class="filename">D:</span> 分区上的数据复制到 <span class="filename">C:</span> 分区, 这样就空出了一个分区(d:)给 FreeBSD 使用。</p>
</div>
</div>
</div>
<div class="exampleblock">
<div class="title">例 2. 缩减已现在的分区</div>
<div class="content">
<div class="paragraph">
<p>假设您只有一个 4 GB 的硬盘，而且已经装了 Windows®。 您在安装 Windows® 的时候把 4 GB 都给了 <span class="filename">C:</span> 分区，并且已经使用了 1.5 GB 的空间。您想将剩余空间中的 2 GB 给 FreeBSD 使用。</p>
</div>
<div class="paragraph">
<p>为了安装 FreeBSD，您必须从下面两种方式中选择一种：</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>备份 Windows® 的数据资料，然后重新安装 Windows®， 并给 Windows® 分配 2 GB 的空间。</p>
</li>
<li>
<p>使用上面提及的 PartitionMagic® 来整理或切割您的分区。</p>
</li>
</ol>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_收集您的网络配置相关资料">3.4. 收集您的网络配置相关资料<a class="anchor" href="#_收集您的网络配置相关资料"></a></h3>
<div class="paragraph">
<p>如果您想通过网络(FTP 或是 NFS)安装 FreeBSD， 那么您就必须知道您的网络配置信息。在安装 FreeBSD 的过程中将会提示您输入这些资料，以顺利完成安装过程。</p>
</div>
<div class="sect3">
<h4 id="_使用以太网或电缆dsl_modem">3.4.1. 使用以太网或电缆/DSL Modem<a class="anchor" href="#_使用以太网或电缆dsl_modem"></a></h4>
<div class="paragraph">
<p>如果您通过局域网或是要通过网卡使用电缆/DSL 上网， 那么您必须准备下面的信息：</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>IP 地址。</p>
</li>
<li>
<p>默认网关 IP 地址。</p>
</li>
<li>
<p>主机名称。</p>
</li>
<li>
<p>DNS 服务器的 IP 地址。</p>
</li>
<li>
<p>子网掩码。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>如果您不知道这些信息， 您可以询问系统管理员或是您的网络服务提供者。 他们可能会说这些信息会由 <em>DHCP</em> 自动分配；如果这样的话，请记住这一点就可以了。</p>
</div>
</div>
<div class="sect3">
<h4 id="_使用_modem_连接">3.4.2. 使用 Modem 连接<a class="anchor" href="#_使用_modem_连接"></a></h4>
<div class="paragraph">
<p>如果您由 ISP 提供的拨号服务上网，您仍然可以通过它安装 FreeBSD，只是会需要很长的时间。</p>
</div>
<div class="paragraph">
<p>您必须知道：</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>拨号到 ISP 的电话号码。</p>
</li>
<li>
<p>您的 modem 是连接到哪个 COM 端口。</p>
</li>
<li>
<p>您拨号到 ISP 所用的账号和密码。</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_检查_freebsd_发行勘误">3.5. 检查 FreeBSD 发行勘误<a class="anchor" href="#_检查_freebsd_发行勘误"></a></h3>
<div class="paragraph">
<p>虽然我们尽力确保每个 FreeBSD 发行版本的稳定性， 但偶尔也会有一些错误进入发行版。极少数情况下， 这些问题甚至可能会影响安装。 当发现和修正问题之后，它们会列在 FreeBSD 网站中的 <a href="http://www.FreeBSD.org/releases/12.0r/errata/">FreeBSD 发行勘误</a> 中。 在您安装之前，应该首先看一看这份勘误表，以了解可能存在的问题。</p>
</div>
<div class="paragraph">
<p>关于所有释出版本的信息，包括勘误表，可以在 <a href="https://www.FreeBSD.org/">FreeBSD 网站</a> 的 <a href="https://www.FreeBSD.org/releases/">发行版信息</a> 一节中找到。</p>
</div>
</div>
<div class="sect2">
<h3 id="_准备安装介质">3.6. 准备安装介质<a class="anchor" href="#_准备安装介质"></a></h3>
<div class="paragraph">
<p>FreeBSD 可以通过下面任何一种安装介质进行安装：</p>
</div>
<div class="ulist">
<div class="title">安装介质</div>
<ul>
<li>
<p>CDROM 或 DVD</p>
</li>
<li>
<p>USB 记忆棒</p>
</li>
<li>
<p>在同一计算机上的 DOS 分区</p>
</li>
<li>
<p>SCSI 或 QIC 磁带</p>
</li>
<li>
<p>软盘</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">网络</div>
<ul>
<li>
<p>通过防火墙的一个 FTP 站点，或使用 HTTP 代理。</p>
</li>
<li>
<p>NFS 服务器</p>
</li>
<li>
<p>一个指定的并行或串行接口</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>如果您购买了 FreeBSD 的 CD 或 DVD，那么您可以直接进入下一节 (<a href="#install-boot-media">准备引导介质</a>)。</p>
</div>
<div class="paragraph">
<p>如果您还没有 FreeBSD 的安装文件， 则应按照 <a href="#install-diff-media">准备您自己的安装介质</a> 来准备。 读完那节之后， 您就可以回到这节并从 <a href="#install-boot-media">准备引导介质</a> 继续了。</p>
</div>
</div>
<div class="sect2">
<h3 id="install-boot-media">3.7. 准备引导介质<a class="anchor" href="#install-boot-media"></a></h3>
<div class="paragraph">
<p>FreeBSD 的安装过程开始于将您的电脑开机进入 FreeBSD 安装环境 - －并非在其它的操作系统上运行一个程序。 计算机通常使用安装在硬盘上的操作系统进行引导， 也可以配置成使用一张&#34;bootable(可引导)&#34;的软盘进行启动。 大多数现代计算机也都可以从光驱或 USB 盘来引导系统。</p>
</div>
<div class="admonitionblock tip">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>如果您有 FreeBSD 的安装光盘或 DVD(或者是您购买的， 或者是您自己准备的。)并且您的计算机可以从光驱进行启动 (通常在 BIOS 中会有 &#34;Boot Order&#34; 或类似的选项可以设置)，那么您就可以跳过此小节。 因为 FreeBSD 光盘及 DVD 光盘都是可以引导的， 用它们开机您不用做什么特别的准备。</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>要创建引导系统所需的记忆棒， 需按下面的操作进行：</p>
</div>
<div class="exampleblock procedure">
<div class="content">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>获取记忆棒映像文件</p>
<div class="paragraph">
<p>记忆棒映像文件可以从 <em>arch</em> 对应的 <code>ISO-IMAGES</code> 目录， 例如 <code><a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/arch/ISO-IMAGES/version/FreeBSD-12.0-RELEASE-arch-memstick.img" class="bare">ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/arch/ISO-IMAGES/version/FreeBSD-12.0-RELEASE-arch-memstick.img</a></code> 获得。 其中， <em>arch</em> 和 <em>version</em> 需要替换为您使用的平台和版本。 例如， FreeBSD/i386 12.0-RELEASE 的记忆棒映像位于 <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/i386/ISO-IMAGES/12.0/FreeBSD-12.0-RELEASE-i386-memstick.img">ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/i386/ISO-IMAGES/12.0/FreeBSD-12.0-RELEASE-i386-memstick.img</a>。</p>
</div>
<div class="paragraph">
<p>记忆棒的映像文件扩展名是 <span class="filename">.img</span>。 在 <span class="filename">ISO-IMAGES/</span> 目录中提供了多种不同的映像， 您需要根据使用的 FreeBSD 版本， 有时也包括硬件来选择合适的映像。</p>
</div>
<div class="admonitionblock important">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>在继续安装之前， 务必 <em>备份</em> 您目前保存在 USB 记忆棒上的数据， 接下来的操作将会 <em>擦除</em> 这些数据。</p>
</div>
</td>
</tr>
</tbody></table>
</div>
</li>
<li>
<p>准备记忆棒</p>
<div class="admonitionblock warning">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>下面的例子中， 目标记忆棒对应的设备名是 <span class="filename">/dev/da0</span>。 请小心地确认这是希望覆盖的设备， 否则可能会损坏您的现有数据。</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>设置 <code>kern.geom.debugflags</code> sysctl 为允许写入目标设备的主引导记录。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"> <span class="c">#  sysctl kern.geom.debugflags=16</span></code></pre>
</div>
</div>
</li>
<li>
<p>将映像文件写入记忆棒</p>
<div class="paragraph">
<p><span class="filename">.img</span> 文件 <em>不是</em> 直接复制到记忆棒中的那种普通文件。 这个映像是一份包含启动盘全部内容的映像。 这意味着简单地从一个地方复制到另一个地方是 <em>不能</em> 赋予其引导系统的能力的。 您必须使用 man:dd[1] 将映像文件直接写入磁盘：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"># dd if=FreeBSD-12.0-RELEASE-i386-memstick.img of=/dev/da0 bs=64k</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="paragraph">
<p>一般来说，要建立安装盘(软盘)请依照下列步骤：</p>
</div>
<div class="exampleblock procedure">
<div class="content">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>获取开机软盘映像文件</p>
<div class="admonitionblock important">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>请注意， 从 FreeBSD 8.0 开始， 我们不再提供软盘映像了。 请参阅前面关于如何使用 USB 记忆棒， 或 CDROM 和 DVD 来安装 FreeBSD 的介绍。</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>开机软盘映像文件可以在您的安装介质的 <span class="filename">floppies/</span> 目录下找到， 另外您也可以从下述网站的 floppies 目录下载： <code><a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/架构名/版本-RELEASE/floppies/" class="bare">ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/架构名/版本-RELEASE/floppies/</a></code>。 将 <em>&lt;架构名&gt;</em> 和 <em>&lt;版本&gt;</em> 替换为您使用的计算机体系结构和希望安装的版本号。 例如，用于安装 i386™ 上的 FreeBSD/i386 11.2-RELEASE 的文件的地址， 应该是 <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/i386/11.2-RELEASE/floppies/">ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/i386/11.2-RELEASE/floppies/</a>。</p>
</div>
<div class="paragraph">
<p>软盘映像文件的扩展名是 <span class="filename">.flp</span>。 在 <span class="filename">floppies/</span> 目录中包括了许多不同的映像文件， 随您安装的 FreeBSD 版本， 某些时候也随硬件的不同， 您需要使用的映像文件可能会有所不同。 您通常会需要四张软盘， 即 <span class="filename">boot.flp</span>、 <span class="filename">kern1.flp</span>、 <span class="filename">kern2.flp</span>， 以及 <span class="filename">kern3.flp</span>。 请查阅同一目录下的 <span class="filename">README.TXT</span> 文件以了解关于这些映像文件的最新信息。</p>
</div>
<div class="admonitionblock important">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>您的 FTP 程序必须使用 <em>二进制模式</em> 来下载这些映 像文件。有些浏览器只会用 <em>text</em> (或_ASCII _) 模式来传输数据， 用这些浏览器下载的映像文件做成的软盘将无法正常开机。</p>
</div>
</td>
</tr>
</tbody></table>
</div>
</li>
<li>
<p>准备软盘</p>
<div class="paragraph">
<p>您必须为您下载的每一个映像文件准备一张软盘。 并且请避免使用到坏掉的软盘。 最简单的方式就是您先将这些软盘格式化， 不要相信所谓的已格式化的软盘。在 Windows® 下的格式化程序不会告诉您出现多少坏块， 它只是简单的标记它们为 &#34;bad&#34; 并且忽略它们。 根据建议您应该使用全新的软盘来存放安装程序。</p>
</div>
<div class="admonitionblock important">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>如果您在安装 FreeBSD 的过程中造成当机、 冻结或是其它怪异现象，第一个要怀疑的就是引导软盘。 请用其它的软盘制作映像文件再试试看。</p>
</div>
</td>
</tr>
</tbody></table>
</div>
</li>
<li>
<p>将映像文件写入软盘中</p>
<div class="paragraph">
<p><span class="filename">.flp</span> 文件 <em>并非</em> 一般的文件，您不能直接将它们复制到软盘上。 事实上它是一张包含完整磁盘内容的映像文件。这表示您 <em>不能</em> 简单的使用 DOS 的 copy 命令将文件写到软盘上， 而必须使用特别的工具程序将映像文件直接写到软盘中。</p>
</div>
<div class="paragraph">
<p>如果您使用 MS-DOS® 或 Windows® 操作系统来制作引导盘， 那么您可以使用我们提供的 <code>fdimage</code> 程序来将映像文件写到软盘中。</p>
</div>
<div class="paragraph">
<p>如果您使用的是光盘，假设光盘的驱动器符号为 <span class="filename">E:</span>，那么请执行下面的命令：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">E:<span class="se">\&gt;</span> tools<span class="se">\f</span>dimage floppies<span class="se">\b</span>oot.flp A:</code></pre>
</div>
</div>
<div class="paragraph">
<p>重复上述命令以完成每个 <span class="filename">.flp</span> 文件的写入， 每换一个映像文件都必须更换软盘； 制作好的软盘请注明是使用哪个映像文件做的。 如果您的映像文件存放在不同的地方，请自行修改上面的指令指向您存放 <span class="filename">.flp</span> 文件的地方。要是您没有 FreeBSD 光盘， 您可以到 FreeBSD 的 FTP 站点 <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/tools/"> tools目录</a> 中下载。</p>
</div>
<div class="paragraph">
<p>如果您在 UNIX® 系统上制作软盘(例如其它 FreeBSD 机器)， 您可以使用 man:dd[1] 命令来将映像文件写到软盘中。 如果您用 FreeBSD,可以执行下面的命令：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># dd if=boot.flp of=/dev/fd0</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>在 FreeBSD 中，<span class="filename">/dev/fd0</span> 指的是第一个软驱(即 <span class="filename">A:</span> 驱动器)； <span class="filename">/dev/fd1</span> 是 <span class="filename">B:</span> 驱动器,依此类推。其它的 UNIX® 系统可能会用不同的的名称， 这时您就要查阅该系统的说明文件。</p>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="paragraph">
<p>您现在可以安装 FreeBSD 了</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="install-start">4. 开始安装<a class="anchor" href="#install-start"></a></h2>
<div class="sectionbody">
<div class="admonitionblock important">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>默认情况下, 安装过程并不会改变任何您硬盘中的数据， 除非您看到下面的讯息：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>Last Chance: Are you SURE you want continue the installation?

If you&#39;re running this on a disk with data you wish to save then WE
STRONGLY ENCOURAGE YOU TO MAKE PROPER BACKUPS before proceeding!

We can take no responsibility for lost disk contents!</pre>
</div>
</div>
<div class="paragraph">
<p>在看到这最后的警告讯息前您都可以随时离开， 安装程序界面不会变更您的硬盘。如果您发现有任何设定错误， 这时您可以直接将电源关掉而不会造成任何伤害。</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="sect2">
<h3 id="install-starting">4.1. 开机启动<a class="anchor" href="#install-starting"></a></h3>
<div class="sect3">
<h4 id="install-starting-i386">4.1.1. 引导 i386™ 系统<a class="anchor" href="#install-starting-i386"></a></h4>
<div class="exampleblock procedure">
<div class="content">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>从电脑尚未开机开始说起</p>
</li>
<li>
<p>将电脑电源打开。刚开始的时候它应该会显示进入系统设置菜单或 BIOS 要按哪个键，常见的是 <kbd>F2</kbd>、 <kbd>F10</kbd>、<kbd>Del</kbd> 或 <span class="keyseq"><kbd>Alt</kbd>+<kbd>S</kbd></span>。不论是要按哪个键，请按它进入 BIOS 设置画面。 有时您的计算机可能会显示一个图形画面，典型的做法是按 <kbd>Esc</kbd> 将关掉这个图形画面， 以使您能够看到必要的设置信息。</p>
</li>
<li>
<p>找到设置开机顺序的选项，它的标记为 &#34;Boot Order&#34; 通常会列出一些设备让您选择，例如：<code>Floppy</code>、 <code>CDROM</code>、<code>First Hard Disk</code> 等等。</p>
<div class="paragraph">
<p>如果您要用光盘安装，请选择 CDROM。 如果使用 USB 盘， 或者软盘来引导系统， 也应类似地确认选择了正确的引导设备。 如有疑问， 请参考您的主板说明手册。</p>
</div>
<div class="paragraph">
<p>储存设定并离开，系统应该会重新启动。</p>
</div>
</li>
<li>
<p>如果您根据 <a href="#install-boot-media">准备引导介质</a> 制作了 &#34;可引导&#34; 的 USB 记忆棒， 在开机前将其插到计算机上。</p>
<div class="paragraph">
<p>如果您是从光盘安装， 那么开机后请立即将 FreeBSD 光盘放入光驱中。</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>对于 FreeBSD 7.3 和更早的版本， 可以使用软盘引导， 这些软盘可以根据 <a href="#install-boot-media">准备引导介质</a> 来制作。 其中， <span class="filename">boot.flp</span> 是启动盘。 引导系统时应使用这张软盘。</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>如果您开机后发现计算机引导了先前已经装好的其他操作系统， 请检查：
.. 是不是软盘或光盘太晚放入而错失开机引导时间。 如果是， 请将它们放入后重新开机。
.. BIOS 设定不对，请重新检查 BIOS 的设定。
.. 您的 BIOS 不支持从这些安装介质引导。</p>
</div>
</li>
<li>
<p>FreeBSD 即将启动。如果您是从光盘引导， 您会见到类似下面的画面：</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">Booting from CD-Rom...
645MB medium detected
CD Loader 1.2

Building the boot loader arguments
Looking up /BOOT/LOADER... Found
Relocating the loader and the BTX
Starting the BTX loader

BTX loader 1.00 BTX version is 1.02
Consoles: internal video/keyboard
BIOS CD is cd0
BIOS drive C: is disk0
BIOS drive D: is disk1
BIOS 636kB/261056kB available memory

FreeBSD/i386 bootstrap loader, Revision 1.1

Loading /boot/defaults/loader.conf
/boot/kernel/kernel <span class="nv">text</span><span class="o">=</span>0x64daa0 <span class="nv">data</span><span class="o">=</span>0xa4e80+0xa9e40 <span class="nv">syms</span><span class="o">=[</span>0x4+0x6cac0+0x4+0x88e9d]
<span class="se">\</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>如果您从软盘启动， 则应看到类似下面的画面：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">Booting from Floppy...
Uncompressing ... <span class="k">done

</span>BTX loader 1.00  BTX version is 1.01
Console: internal video/keyboard
BIOS drive A: is disk0
BIOS drive C: is disk1
BIOS 639kB/261120kB available memory

FreeBSD/i386 bootstrap loader, Revision 1.1

Loading /boot/defaults/loader.conf
/kernel <span class="nv">text</span><span class="o">=</span>0x277391 <span class="nv">data</span><span class="o">=</span>0x3268c+0x332a8 |

Insert disk labelled <span class="s2">&#34;Kernel floppy 1&#34;</span> and press any key...</code></pre>
</div>
</div>
<div class="paragraph">
<p>请根据提示将 <span class="filename">boot.flp</span> 软盘取出， 插入 <span class="filename">kern1.flp</span> 这张盘， 然后按 <kbd>Enter</kbd>。 您只需从第一张软盘启动， 然后再需要时根据提示插入其他软盘就可以了。</p>
</div>
</li>
<li>
<p>不论是从光盘、 USB 记忆棒或软盘引导， 接下来都会进入 FreeBSD 引导加载器菜单：</p>
<div id="boot-loader-menu" class="imageblock">
<div class="content">
<img src="../../../../images/books/handbook/install/boot-loader-menu.png" alt="boot loader menu"/>
</div>
<div class="title">图 1. FreeBSD Boot Loader Menu</div>
</div>
<div class="paragraph">
<p>您可以等待十秒， 或按 <kbd>Enter</kbd>。</p>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_引导_sparc64">4.1.2. 引导 sparc64<a class="anchor" href="#_引导_sparc64"></a></h4>
<div class="paragraph">
<p>多数 sparc64 系统均配置为从硬盘自动引导。 如果希望安装 FreeBSD，就需要从网络或 CDROM 启动了， 这需要首先进入 PROM (OpenFirmware)。</p>
</div>
<div class="paragraph">
<p>要完成这项工作，首先需要重启系统，并等待出现引导消息。 具体的信息取决于您使用的型号，不过它应该会是类似下面这样：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">Sun Blade 100 <span class="o">(</span>UltraSPARC-IIe<span class="o">)</span>, Keyboard Present
Copyright 1998-2001 Sun Microsystems, Inc.  All rights reserved.
OpenBoot 4.2, 128 MB memory installed, Serial <span class="c">#51090132.</span>
Ethernet address 0:3:ba:b:92:d4, Host ID: 830b92d4.</code></pre>
</div>
</div>
<div class="paragraph">
<p>如果您的系统此时开始了从硬盘引导的过程，则需要按下 <span class="keyseq"><kbd>L1</kbd>+<kbd>A</kbd></span> 或 <span class="keyseq"><kbd>Stop</kbd>+<kbd>A</kbd></span>， 或者在串口控制台上发送 <code>BREAK</code> (例如， 在 man:tip[1] 或 man:cu[1] 中是 <code>~#</code>) 以便进入 PROM 提示符。 它应该是类似下面这样：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">ok        <i class="conum" data-value="1"></i><b>(1)</b>
ok <span class="o">{</span>0<span class="o">}</span> <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tbody><tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>这是在只有一颗 CPU 的系统上的提示。</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>这是用于 SMP 系统的选项， 这里的数字， 是系统中可用的 CPU 数量。</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>这时， 将 CDROM 插入驱动器， 并在 PROM 提示符后面， 输入 <code>boot cdrom</code>。</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="view-probe">4.2. 查看设备探测的结果<a class="anchor" href="#view-probe"></a></h3>
<div class="paragraph">
<p>前面屏幕显示的最后几百行字会存在缓冲区中以便您查阅。</p>
</div>
<div class="paragraph">
<p>要浏览缓冲区，您可以按下 <kbd>Scroll Lock</kbd> 键， 这会开启画面的卷动功能。然后您就可以使用方向键或 <kbd>PageUp</kbd> 、<kbd>PageDown</kbd> 键来上下翻阅。 再按一次 <kbd>Scroll Lock</kbd> 键将停止画面卷动。</p>
</div>
<div class="paragraph">
<p>在您浏览的时候会看到类似 <a href="#install-dev-probe">典型的设备探测结果</a>的画面。 真正的结果依照您的电脑装置而有所不同。</p>
</div>
<div id="install-dev-probe" class="listingblock">
<div class="title">典型的设备探测结果</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">avail memory <span class="o">=</span> 253050880 <span class="o">(</span>247120K bytes<span class="o">)</span>
Preloaded elf kernel <span class="s2">&#34;kernel&#34;</span> at 0xc0817000.
Preloaded mfs_root <span class="s2">&#34;/mfsroot&#34;</span> at 0xc0817084.
md0: Preloaded image &lt;/mfsroot&gt; 4423680 bytes at 0xc03ddcd4

md1: Malloc disk
Using <span class="nv">$PIR</span> table, 4 entries at 0xc00fde60
npx0: &lt;math processor&gt; on motherboard
npx0: INT 16 interface
pcib0: &lt;Host to PCI bridge&gt; on motherboard
pci0: &lt;PCI bus&gt; on pcib0
pcib1:&lt;VIA 82C598MVP <span class="o">(</span>Apollo MVP3<span class="o">)</span> PCI-PCI <span class="o">(</span>AGP<span class="o">)</span> bridge&gt; at device 1.0 on pci0
pci1: &lt;PCI bus&gt; on pcib1
pci1: &lt;Matrox MGA G200 AGP graphics accelerator&gt; at 0.0 irq 11
isab0: &lt;VIA 82C586 PCI-ISA bridge&gt; at device 7.0 on pci0
isa0: &lt;iSA bus&gt; on isab0
atapci0: &lt;VIA 82C586 ATA33 controller&gt; port 0xe000-0xe00f at device 7.1 on pci0
ata0: at 0x1f0 irq 14 on atapci0
ata1: at 0x170 irq 15 on atapci0
uhci0 &lt;VIA 83C572 USB controller&gt; port 0xe400-0xe41f irq 10 at device 7.2 on pci
0
usb0: &lt;VIA 83572 USB controller&gt; on uhci0
usb0: USB revision 1.0
uhub0: VIA UHCI root hub, class 9/0, rev 1.00/1.00, addr1
uhub0: 2 ports with 2 removable, self powered
pci0: &lt;unknown card&gt; <span class="o">(</span><span class="nv">vendor</span><span class="o">=</span>0x1106, <span class="nv">dev</span><span class="o">=</span>0x3040<span class="o">)</span> at 7.3
dc0: &lt;ADMtek AN985 10/100BaseTX&gt; port 0xe800-0xe8ff mem 0xdb000000-0xeb0003ff ir
q 11 at device 8.0 on pci0
dc0: Ethernet address: 00:04:5a:74:6b:b5
miibus0: &lt;MII bus&gt; on dc0
ukphy0: &lt;Generic IEEE 802.3u media interface&gt; on miibus0
ukphy0: 10baseT, 10baseT-FDX, 100baseTX, 100baseTX-FDX, auto
ed0: &lt;NE2000 PCI Ethernet <span class="o">(</span>RealTek 8029<span class="o">)&gt;</span> port 0xec00-0xec1f irq 9 at device 10.
0 on pci0
ed0 address 52:54:05:de:73:1b, <span class="nb">type </span>NE2000 <span class="o">(</span>16 bit<span class="o">)</span>
isa0: too many dependant configs <span class="o">(</span>8<span class="o">)</span>
isa0: unexpected small tag 14
orm0: &lt;Option ROM&gt; at iomem 0xc0000-0xc7fff on isa0
fdc0: &lt;NEC 72065B or clone&gt; at port 0x3f0-0x3f5,0x3f7 irq 6 drq2 on isa0
fdc0: FIFO enabled, 8 bytes threshold
fd0: &lt;1440-KB 3.5” drive&gt; on fdc0 drive 0
atkbdc0: &lt;Keyboard controller <span class="o">(</span>i8042<span class="o">)&gt;</span> at port 0x60,0x64 on isa0
atkbd0: &lt;AT Keyboard&gt; flags 0x1 irq1 on atkbdc0
kbd0 at atkbd0
psm0: &lt;PS/2 Mouse&gt; irq 12 on atkbdc0
psm0: model Generic PS/@ mouse, device ID 0
vga0: &lt;Generic ISA VGA&gt; at port 0x3c0-0x3df iomem 0xa0000-0xbffff on isa0
sc0: &lt;System console&gt; at flags 0x100 on isa0
sc0: VGA &lt;16 virtual consoles, <span class="nv">flags</span><span class="o">=</span>0x300&gt;
sio0 at port 0x3f8-0x3ff irq 4 flags 0x10 on isa0
sio0: <span class="nb">type </span>16550A
sio1 at port 0x2f8-0x2ff irq 3 on isa0
sio1: <span class="nb">type </span>16550A
ppc0: &lt;Parallel port&gt; at port 0x378-0x37f irq 7 on isa0
pppc0: SMC-like chipset <span class="o">(</span>ECP/EPP/PS2/NIBBLE<span class="o">)</span> <span class="k">in </span>COMPATIBLE mode
ppc0: FIFO with 16/16/15 bytes threshold
plip0: &lt;PLIP network interface&gt; on ppbus0
ad0: 8063MB &lt;IBM-DHEA-38451&gt; <span class="o">[</span>16383/16/63] at ata0-master UDMA33
acd0: CD-RW &lt;LITE-ON LTR-1210B&gt; at ata1-slave PIO4
Mounting root from ufs:/dev/md0c
/stand/sysinstall running as init on vty0</code></pre>
</div>
</div>
<div class="paragraph">
<p>请仔细检查探测结果以确定 FreeBSD 找到所有您期望出现的设备。 如果系统没有找到设备， 则不会将其列出。 crossref:kernelconfig[kernelconfig,定制内核] 能够让您为系统添加默认的 <span class="filename">GENERIC</span> 内核所不支持的设备， 如声卡等。</p>
</div>
<div class="paragraph">
<p>在 FreeBSD 6.2 和更高版本中， 在探测完系统设备之后， 将显示 <a href="#config-country">选择国家及地区菜单</a>。 请使用光标键来选择国家或地区。 接着按 <kbd>Enter</kbd>， 系统将自动设置地区。 您也可以很容易地退出 sysinstall 程序并从头来过。</p>
</div>
<div id="config-country" class="imageblock">
<div class="content">
<img src="../../../../images/books/handbook/install/config-country.png" alt="config country"/>
</div>
<div class="title">图 2. 选择国家及地区菜单</div>
</div>
<div class="paragraph">
<p>如果您在国家及地区菜单中选择了 <span class="guimenuitem">United States</span> (美国)， 则系统会使用标准的美国键盘映射； 如果选择了不同的国家， 则会显示下面的菜单。 使用光标键选择正确的键盘映射， 然后按 <kbd>Enter</kbd> 来确认。</p>
</div>
<div id="config-keymap" class="imageblock">
<div class="content">
<img src="../../../../images/books/handbook/install/config-keymap.png" alt="config keymap"/>
</div>
<div class="title">图 3. 选择键盘菜单</div>
</div>
<div id="sysinstall-exit" class="imageblock">
<div class="content">
<img src="../../../../images/books/handbook/install/sysinstall-exit.png" alt="sysinstall exit"/>
</div>
<div class="title">图 4. 选择离开 Sysinstall</div>
</div>
<div class="paragraph">
<p>在主界面使用方向键选择 <span class="guimenuitem">Exit Install</span> 您会看到 如下的信息：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">                      User Confirmation Requested
         Are you sure you wish to <span class="nb">exit</span>? The system will reboot

                            <span class="o">[</span> Yes <span class="o">]</span>    No</code></pre>
</div>
</div>
<div class="paragraph">
<p>如果此处选择了 <b class="button">yes</b> 但 CDROM 还留在光驱里， 则会再次进入安装程序。</p>
</div>
<div class="paragraph">
<p>如果您是从软盘启动， 则在重启系统之前， 需要将 <span class="filename">boot.flp</span> 软盘取出。</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="using-sysinstall">5. 介绍 Sysinstall<a class="anchor" href="#using-sysinstall"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>sysinstall 是 FreeBSD 项目所提供的安装程序。它以 console(控制台)为主， 分为多个菜单及画面让您配置及控制安装过程。</p>
</div>
<div class="paragraph">
<p>sysinstall 菜单画面由方向键、 <kbd>Enter</kbd>、<kbd>Tab</kbd>、<kbd>Space</kbd>， 以及其它按键所控制。在主画面的 Usage 菜单有这些按键的说明。</p>
</div>
<div class="paragraph">
<p>要查看这些说明，请将光标移到 <span class="guimenuitem">Usage</span> 项目，然后 <b class="button">Select</b> 按键被选择， <a href="#sysinstall-main3">选取 Sysinstall 主菜单的 Usage 项目</a>，然后按下 <kbd>Enter</kbd> 键。</p>
</div>
<div class="paragraph">
<p>安装画面的使用说明会显示出来，阅读完毕请按 <kbd>Enter</kbd> 键回到主画面。</p>
</div>
<div id="sysinstall-main3" class="imageblock">
<div class="content">
<img src="../../../../images/books/handbook/install/main1.png" alt="main1"/>
</div>
<div class="title">图 5. 选取 Sysinstall 主菜单的 Usage 项目</div>
</div>
<div class="sect2">
<h3 id="select-doc">5.1. 选择 Documentation(说明文件) 菜单<a class="anchor" href="#select-doc"></a></h3>
<div class="paragraph">
<p>用方向键从主菜单选择 <span class="guimenuitem">Doc</span> 条目然后按 <kbd>Enter</kbd>键。</p>
</div>
<div id="main-doc" class="imageblock">
<div class="content">
<img src="../../../../images/books/handbook/install/main-doc.png" alt="main doc"/>
</div>
<div class="title">图 6. 选择说明文件菜单</div>
</div>
<div class="paragraph">
<p>这将会进入说明文件菜单。</p>
</div>
<div id="docmenu1" class="imageblock">
<div class="content">
<img src="../../../../images/books/handbook/install/docmenu1.png" alt="docmenu1"/>
</div>
<div class="title">图 7. Sysinstall 说明文件菜单</div>
</div>
<div class="paragraph">
<p>阅读这些说明文件很重要。</p>
</div>
<div class="paragraph">
<p>要阅读一篇文章，请用方向键选取要阅读的文章然后按 <kbd>Enter</kbd> 键。阅读中再按一下 <kbd>Enter</kbd> 就会回到说明文件画面。</p>
</div>
<div class="paragraph">
<p>若要回到主菜单，用方向键选择 <span class="guimenuitem">Exit</span> 然后按下 <kbd>Enter</kbd> 键。</p>
</div>
</div>
<div class="sect2">
<h3 id="keymap">5.2. 选择键盘对应(Keymap)菜单<a class="anchor" href="#keymap"></a></h3>
<div class="paragraph">
<p>如果要改变键盘按键的对应方式， 请在主菜单选取 <span class="guimenuitem">Keymap</span> 然后按 <kbd>Enter</kbd> 键。一般情况下不改变此项， 除非您使用了非标准键盘或非美国键盘。</p>
</div>
<div id="sysinstall-keymap" class="imageblock">
<div class="content">
<img src="../../../../images/books/handbook/install/main-keymap.png" alt="main keymap"/>
</div>
<div class="title">图 8. Sysinstall 主菜单</div>
</div>
<div class="paragraph">
<p>您可以使用上下键移动到您想使用的键盘对应方式， 然后按下 <kbd>Space</kbd> 键以选取它；再按 <kbd>Space</kbd> 键可以取消选取。当您完成后， 请选择 <b class="button">OK</b> 然后按 <kbd>Enter</kbd> 键。</p>
</div>
<div class="paragraph">
<p>这一屏幕只显示出部分列表。选择 <b class="button">Cancel</b> 按 <kbd>Tab</kbd> 键将使用默认的键盘对应， 并返回到主菜单</p>
</div>
<div id="sysinstall-keymap-menu" class="imageblock">
<div class="content">
<img src="../../../../images/books/handbook/install/keymap.png" alt="keymap"/>
</div>
<div class="title">图 9. Sysinstall 键盘对应菜单</div>
</div>
</div>
<div class="sect2">
<h3 id="viewsetoptions">5.3. 安装选项设置画面<a class="anchor" href="#viewsetoptions"></a></h3>
<div class="paragraph">
<p>选择 <span class="guimenuitem">Options</span> 然后按 <kbd>Enter</kbd> 键。</p>
</div>
<div id="sysinstall-options" class="imageblock">
<div class="content">
<img src="../../../../images/books/handbook/install/main-options.png" alt="main options"/>
</div>
<div class="title">图 10. Sysinstall 主菜单</div>
</div>
<div id="options" class="imageblock">
<div class="content">
<img src="../../../../images/books/handbook/install/options.png" alt="options"/>
</div>
<div class="title">图 11. Sysinstall 选项设置</div>
</div>
<div class="paragraph">
<p>预设值通常可以适用于大部分的使用者，您并不需要改变它们。 版本名称要根据安装的版本进行变化。</p>
</div>
<div class="paragraph">
<p>目前选择项目的描述会在屏幕下方以蓝底白字显示。 注意其中有一个项目是 <span class="guimenuitem">Use Defaults(使用默认值)</span> 您可以由此项将所有的设定还原为预设值。</p>
</div>
<div class="paragraph">
<p>可以按下 <kbd>F1</kbd> 来阅读各选项的说明。</p>
</div>
<div class="paragraph">
<p>按 <kbd>Q</kbd> 键可以回到主画面。</p>
</div>
</div>
<div class="sect2">
<h3 id="start-install">5.4. 开始进行标准安装<a class="anchor" href="#start-install"></a></h3>
<div class="paragraph">
<p><span class="guimenuitem">Standard(标准)</span> 安装适用于那些 UNIX® 或 FreeBSD 的初级使用者。用方向键选择 <span class="guimenuitem">Standard</span> 然后按 <kbd>Enter</kbd> 键可开始进入标准安装。</p>
</div>
<div id="sysinstall-standard" class="imageblock">
<div class="content">
<img src="../../../../images/books/handbook/install/main-std.png" alt="main std"/>
</div>
<div class="title">图 12. 开始进行标准安装</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="install-steps">6. 分配磁盘空间<a class="anchor" href="#install-steps"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>您的第一个工作就是要分配 FreeBSD 用的硬盘空间以便 sysinstall 先做好一些准备。 为了完成这个工作，您必须先对 FreeBSD 如何找到磁盘信息做一个了解。</p>
</div>
<div class="sect2">
<h3 id="install-drive-bios-numbering">6.1. BIOS 磁盘编号<a class="anchor" href="#install-drive-bios-numbering"></a></h3>
<div class="paragraph">
<p>当您在系统上安装配置 FreeBSD 之前， 有一个重要的事情一定要注意，尤其是当您有多个硬盘的时候。</p>
</div>
<div class="paragraph">
<p>在 pc 架构，当您跑像 MS-DOS® 或 Microsoft® Windows® 这种跟 BIOS 相关的操作系统的时候，BIOS 有能力改变正常的磁盘顺序， 然后这些操作系统会跟着 BIOS 做改变。这让使用者不一定非要有所谓的 &#34;primary master&#34; 硬盘开机。 许多人发现最简单而便宜备份系统的方式就是再去买一块一模一样的硬盘， 然后定期将数据从第一块硬盘复制到第二个硬盘，使用 Ghost 或 XCOPY。所以，当第一个硬盘死了， 或者是被病毒破坏，或者有坏轨道， 他们可以调整 BIOS 中的开机顺序而直接用第二块硬盘开机。 就像交换硬盘的数据线，但是无需打开机箱。</p>
</div>
<div class="paragraph">
<p>比较昂贵，配有 SCSI 控制卡的系统通常可以延伸 BIOS 的功能来让 SCSI 设备 (可达七个) 达到类似改变顺序的功能。</p>
</div>
<div class="paragraph">
<p>习惯于使用这种方式的使用者可能会感到惊讶， 因为在 FreeBSD 中并非如此。FreeBSD 不会参考 BIOS， 而且也不知道所谓的 &#34;BIOS 逻辑磁盘对应&#34; 是怎么回事。这会让人感觉很疑惑， 明明就是一样的硬盘而且资料也完全从另一块复制过来的， 结果却没办法像以前那样用。</p>
</div>
<div class="paragraph">
<p>当使用 FreeBSD 以前，请将 BIOS 中的硬盘开机顺序调回正常的顺序， 并且以后不要再改变。 如果一定要交换硬盘顺序， 那请用硬件的方式， 打开机箱并调整调线。</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p>Bill 替 Fred 把旧的 Wintel 的机器装上了 FreeBSD。 他装了一台 SCSI 硬盘，ID 是 0，然后把 FreeBSD 装在上面。</p>
</div>
<div class="paragraph">
<p>Fred 开始使用他新的 FreeBSD 系统；但是过了几天， 他发现这旧的 SCSI硬盘发生了许多小问题。之后， 他就跟 Bill 说起这件事。</p>
</div>
<div class="paragraph">
<p>又过了几天，Bill 决定是该解决问题的时候了， 所以他从后面房间的硬盘 &#34;收藏&#34; 中找出了一个一模一样的硬盘，并且经过表面测试后显示这块硬盘没有问题。 因此，Bill 将它的 ID 调成 4，然后安装到 Fred 的机器， 并且将资料从磁盘 0 复制到磁盘 4。现在新硬盘装好了， 而且看起来好像一切正常；所以，Bill 认为现在应该可以开始用它了。 Bill 于是到 SCSI BIOS 中设定 SCSI ID 4 为开机盘，用磁盘 4 重新开机后，一切跑得很顺利。</p>
</div>
<div class="paragraph">
<p>继续用了几天后，Bill 跟 Fred 决定要来玩点新的： 该将 FreeBSD 升级了。Bill 将 ID 0 的硬盘移除 (因为有问题) 并且又从收藏区中拿了一块一样的硬盘来。然后他用 Fred 神奇的网络 FTP 磁盘将新版的 FreeBSD 安装在这块硬盘上； 安装过程没什么问题发生。</p>
</div>
<div class="paragraph">
<p>Fred 用了这新版本几天后，觉得它很适合用在工程部门…​ 是时候将以前放在旧系统的工作资料复制过来了。 因此， Fred 将 ID4 的 SCSI 硬盘 (里面有放着旧系统中复制过来的最新资料) mount 起来，结果竟然发现在 ID4 的硬盘上， 他以前的所有资料都不见了！</p>
</div>
<div class="paragraph">
<p>资料跑到哪里去了呢？</p>
</div>
<div class="paragraph">
<p>当初 Bill 将 ID0 硬盘的资料复制到 ID4 的时候， ID4 即成为一个 &#34;新的副本&#34;。 而当他调 SCSI BIOS 设定 ID4 为开机盘，想让系统从 ID4 开机， 这其实只是他自己笨，因为大部分的系统可以直接调 BIOS 而改变开机顺序， 但是 FreeBSD 却会把开机顺序还原成正常的模式，因此，Fred 的 FreeBSD 还是从原来那块 ID0 的硬盘开机的。所有的资料都还在那块硬盘上， 而不是在想象之中的 ID4 硬盘。</p>
</div>
<div class="paragraph">
<p>幸运的是， 在我们发现这件事的时候那些资料都还在， 我们将这些资料从最早的那块 ID0 硬盘取出来并交还给 Fred， 而 Bill 也由此了解到计算机计数是从 0 开始的。</p>
</div>
<div class="paragraph">
<p>虽然我们这里的例子使用 SCSI 硬盘， 但是相同的概念也可以套用在 IDE 硬盘上。</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="main-fdisk">6.2. 使用 FDisk 创建分区<a class="anchor" href="#main-fdisk"></a></h3>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>如果不再做改变，数据将会写进硬盘。如果您犯了一个错误想重新开始， 请选择 sysinstall 安装程序的退出按钮(exit)。或按 <kbd>U</kbd> 键来 <span class="guimenuitem">Undo</span> 操作。 如果您的操作没有结果， 您总可以重新启动您的计算机来达到您的目的。</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>当您在 sysinstall 主菜单选择使用标准安装后，您会看到下面的信息：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">                                 Message
 In the next menu, you will need to <span class="nb">set </span>up a DOS-style <span class="o">(</span><span class="s2">&#34;fdisk&#34;</span><span class="o">)</span>
 partitioning scheme <span class="k">for </span>your hard disk. If you simply wish to devote
 all disk space to FreeBSD <span class="o">(</span>overwriting anything <span class="k">else </span>that might be on
 the disk<span class="o">(</span>s<span class="o">)</span> selected<span class="o">)</span> <span class="k">then </span>use the <span class="o">(</span>A<span class="o">)</span>ll <span class="nb">command </span>to <span class="k">select </span>the default
 partitioning scheme followed by a <span class="o">(</span>Q<span class="o">)</span>uit. If you wish to allocate only
 free space to FreeBSD, move to a partition marked <span class="s2">&#34;unused&#34;</span> and use the
 <span class="o">(</span>C<span class="o">)</span>reate command.
                                <span class="o">[</span>  OK  <span class="o">]</span>

                      <span class="o">[</span> Press enter or space <span class="o">]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>如屏幕指示，按 <kbd>Enter</kbd> 键， 然后您就会看到一个列表列出所有在探测设备的时候找到的硬盘。 <a href="#sysinstall-fdisk-drive1">选择要分区的硬盘</a> 范例显示的是有找到两个 IDE 硬盘的情形，这两个硬盘分别为 <span class="filename">ad0</span> 和 <span class="filename">ad2</span>。</p>
</div>
<div id="sysinstall-fdisk-drive1" class="imageblock">
<div class="content">
<img src="../../../../images/books/handbook/install/fdisk-drive1.png" alt="fdisk drive1"/>
</div>
<div class="title">图 13. 选择要分区的硬盘</div>
</div>
<div class="paragraph">
<p>您可能正在奇怪，为什么 <span class="filename">ad1</span> 没有列出来？ 为什么遗失了呢？</p>
</div>
<div class="paragraph">
<p>试想，如果您有两个 IDE 硬盘，一个是在第一个 Primary master， 一个是 Secondary master，这样会发生什么事呢？ 如果 FreeBSD 依照找到的顺序来为他们命名，如 <span class="filename">ad0</span> 和 <span class="filename">ad1</span> 那么就不会有什么问题。</p>
</div>
<div class="paragraph">
<p>但是，现在问题来了。如果您现在想在 primary slave 加装第三个硬盘， 那么这个硬盘的名称就会是 <span class="filename">ad1</span>，之前的 <span class="filename">ad1</span> 就会变成 <span class="filename">ad2</span>。 这会造成什么问题呢？因为设备的名称 （如 <span class="filename">ad1s1a</span>）是用来寻找文件系统的， 因此您可能会发现，突然，您有些文件系统从此无法正确地显示出来， 必须修改 FreeBSD 配置文件（译注：/etc/fstab）才可以正确显示。</p>
</div>
<div class="paragraph">
<p>为了解决这些问题，在配置内核的时候可以叫 FreeBSD 直接用 IDE 设备所在的位置来命名，而不是依据找到的顺序。使用这种方式的话， 在 secondary master 的 IDE 设备就 <em>永远是</em><span class="filename">ad2</span>，即使您的系统中没有 <span class="filename">ad0</span> 或 <span class="filename">ad1</span> 也不受影响。</p>
</div>
<div class="paragraph">
<p>此为 FreeBSD 内核的默认值，这也是为什么上面的画面只显示 <span class="filename">ad0</span> 和 <span class="filename">ad2</span> 的原因。 画面上这台机器的两颗硬盘是装在 primary 及 secondary 的 master 上面； 并没有任何一个硬盘安装在 slave 插槽上。</p>
</div>
<div class="paragraph">
<p>您应该选择您想安装 FreeBSD 的硬盘，然后按下 <b class="button">OK</b>。之后 FDisk 就会开始，您会看到类似 <a href="#sysinstall-fdisk1">典型的尚未编辑前的 Fdisk 分区表</a>的画面。</p>
</div>
<div class="paragraph">
<p>FDisk 的显示画面分为三个部分。</p>
</div>
<div class="paragraph">
<p>第一部分是画面上最上面两行，显示的是目前所选择的硬盘的信息。 包含它的 FreeBSD 名称、硬盘分布以及硬盘的总容量。</p>
</div>
<div class="paragraph">
<p>第二部分显示的是目前选择的硬盘上有哪些分区， 每个分区的开始及结束位置、所占容量、FreeBSD 名称、 它们的描述以及类别（sub-type）。此范例显示有两个未使用的小分区， 还有一个大的 FAT 分区， （很可能是 MS-DOS® 或 Windows® 的 <span class="filename">C:</span> ）， 以及一个扩展分区（在 MS-DOS® 或 Windows® 里面还可以包含逻辑分区）。</p>
</div>
<div class="paragraph">
<p>第三个部分显示 FDisk 中可用的命令。</p>
</div>
<div id="sysinstall-fdisk1" class="imageblock">
<div class="content">
<img src="../../../../images/books/handbook/install/fdisk-edit1.png" alt="fdisk edit1"/>
</div>
<div class="title">图 14. 典型的尚未编辑前的 Fdisk 分区表</div>
</div>
<div class="paragraph">
<p>接下来要做的事跟您要怎么给您的硬盘分区有关。</p>
</div>
<div class="paragraph">
<p>如果您要让 FreeBSD 使用整个硬盘（稍后您确认要 sysinstall  继续安装后会删除所有这个硬盘上的资料），那么您就可以按 <kbd>A</kbd> 键（<span class="guimenuitem">Use Entire Disk</span> ） 目前已有的分区都会被删除，取而代之的是一个小的，标示为 <code>unused </code> 的分区，以及一个大的 FreeBSD 分区。之后， 请用方向键将光标移到这个 FreeBSD 分区，然后按 <kbd>S</kbd> 以将此分区标记为启动分区。 您会看到类似 <a href="#sysinstall-fdisk2">Fdisk 分区使用整个硬盘</a> 的画面。注意，在 <code>Flags</code> 栏中的 <code>A</code> 记号表示此分区是 <em>激活</em> 的， 因而启动将从此分区进行。</p>
</div>
<div class="paragraph">
<p>要删除现有的分区以便为 FreeBSD 腾出空间， 您可以将光标移动到要删除的分区后按 <kbd>D</kbd> 键。 然后就可按 <kbd>C</kbd> 键， 并在弹出的对话框中输入将要创建的分区的大小。 输入合适的大小后按 <kbd>Enter</kbd> 键。 一般而言， 这个对话框中的初始值是可以分配给该分区的最大值。 它可能是最大的邻接分区或未分配的整个硬盘大小。</p>
</div>
<div class="paragraph">
<p>如果您已经建立好给 FreeBSD 的分区 （使用像 PartitionMagic®类似的工具）， 那么您可以按下 <kbd>C</kbd> 键来建立一个新的分区。同样的， 会有对话框询问您要建立的分区的大小。</p>
</div>
<div id="sysinstall-fdisk2" class="imageblock">
<div class="content">
<img src="../../../../images/books/handbook/install/fdisk-edit2.png" alt="fdisk edit2"/>
</div>
<div class="title">图 15. Fdisk 分区使用整个硬盘</div>
</div>
<div class="paragraph">
<p>完成后，按 <kbd>Q</kbd> 键。您的变更会存在 sysinstall 中， 但是还不会真正写入您的硬盘。</p>
</div>
</div>
<div class="sect2">
<h3 id="bootmgr">6.3. 安装多重引导<a class="anchor" href="#bootmgr"></a></h3>
<div class="paragraph">
<p>在这步骤您可以选择要不要安装一个多重引导管理器。 一般而言，如果碰到下列的情形， 您应该选择要安装多重引导管理程序。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>您有一个以上的硬盘，并且 FreeBSD 并不是安装在第一个硬盘上。</p>
</li>
<li>
<p>除了 FreeBSD，您还有其它的操作系统安装在同一块硬盘上， 所以您需要在开机的时候选择要进入哪一个系统。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>如果您在这台机器上只安装一个 FreeBSD 操作系统， 并且安装在第一个硬盘， 那么选择 <span class="guimenuitem">Standard</span> 安装就可以了。如果您已经使用了一个第三方的多重引导程序， 那么请选择 <span class="guimenuitem">None</span>。</p>
</div>
<div class="paragraph">
<p>选择好配置后请按 <kbd>Enter</kbd>。</p>
</div>
<div id="sysinstall-bootmgr" class="imageblock">
<div class="content">
<img src="../../../../images/books/handbook/install/boot-mgr.png" alt="boot mgr"/>
</div>
<div class="title">图 16. Sysinstall 多重引导管理程序</div>
</div>
<div class="paragraph">
<p>按下 <kbd>F1</kbd> 键所显示的在线说明中有讨论一些操作系统共存可能发生的问题。</p>
</div>
</div>
<div class="sect2">
<h3 id="_在其它硬盘上创建分区">6.4. 在其它硬盘上创建分区<a class="anchor" href="#_在其它硬盘上创建分区"></a></h3>
<div class="paragraph">
<p>如果您的系统上有一个以上的硬盘， 在选择完多重引导管理程序后会再回到选择硬盘的画面。 如果您要将 FreeBSD 安装在多个硬盘上，那么您可以在这里选择其它的硬盘， 然后重复使用 FDisk 来建立分区。</p>
</div>
<div class="admonitionblock important">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>如果您想让 FreeBSD 来管理其它的硬盘， 那么两个硬盘都必须安装 FreeBSD 的多重引导管理程序。</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div id="sysinstall-fdisk-drive2" class="imageblock">
<div class="content">
<img src="../../../../images/books/handbook/install/fdisk-drive2.png" alt="fdisk drive2"/>
</div>
<div class="title">图 17. 离开选择硬盘画面</div>
</div>
<div class="paragraph">
<p><kbd>Tab</kbd> 键可以在您最后选择的硬盘、 <b class="button">OK</b> 以及 <b class="button">Cancel</b> 之间进行切换。</p>
</div>
<div class="paragraph">
<p>用 <kbd>Tab</kbd> 键将光标移动到 <b class="button">OK</b> 然后按 <kbd>Enter</kbd> 键继续安装过程。</p>
</div>
</div>
<div class="sect2">
<h3 id="bsdlabeleditor">6.5. 使用 bsdlabel 创建分区<a class="anchor" href="#bsdlabeleditor"></a></h3>
<div class="paragraph">
<p>您现在必须在刚刚建立好的 slice 中规划一些 label。 请注意，每个 label 的代号是 <code>a</code> 到 <code>h</code>，另外，习惯上 <code>b</code>、 <code>c</code> 和 <code>d</code> 是有特殊用途的，不应该随意变动。</p>
</div>
<div class="paragraph">
<p>某些应用程序可以利用一些特殊的分区而达到较好的效果， 尤其是分区分散在不同的硬盘的时候。但是，现在您是第一次安装FreeBSD， 所以不需要去烦恼如何分割您的硬盘。最重要的是， 装好FreeBSD然后学习如何使用它。当您对FreeBSD有相当程度的熟悉后， 您可以随时重新安装FreeBSD，然后改变您分区的方式。</p>
</div>
<div class="paragraph">
<p>下面的范例中有四个分区 - 一个是磁盘交换分区，另外三个是文件系统。</p>
</div>
<table class="tableblock frame-none grid-all stretch">
<caption class="title">表 2. 为第一个硬盘分区</caption>
<colgroup>
<col style="width: 25%;"/>
<col style="width: 25%;"/>
<col style="width: 25%;"/>
<col style="width: 25%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">分区</th>
<th class="tableblock halign-left valign-top">文件系统</th>
<th class="tableblock halign-left valign-top">大小</th>
<th class="tableblock halign-left valign-top">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>a</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="filename">/</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 GB</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">这是一个根文件系统（root filesystem）。 任何其它的文件系统都会 挂在根目录（译注：用根目录比较亲切） 下面。 1 GB 对于此目录来说是合理的大小， 因为您往后并不会在这里存放太多的数据； 在安装 FreeBSD 后会用掉约 128 MB 的根目录空间。 剩下的空间是用来存放临时文件用的，同时， 您也应该预留一些空间，因为以后的FreeBSD版本可能会需要较多的 <span class="filename">/</span>（根目录）空间。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>b</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N/A</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2-3 x RAM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>b</code> 分区为系统磁盘交换分区 （swap space）。选择正确的交换空间大小可是一门学问唷。 一般来说，交换空间的大小应该是您系统上内存（RAM） 大小的2到3倍。 交换空间至少要有 64 MB。因此， 如果您的电脑上的 RAM 比 32 MB 小， 请将交换空间大小设为 64 MB。</p>
<p class="tableblock"> 如果您有一个以上的硬盘， 您可以在每个硬盘上都配置交换分区。FreeBSD 会利用每个硬盘上的交换空间，这样做能够提高 swap 的性能。 如果是这种情形， 先算出您总共需要的交换空间大小 （如128 MB），然后除以您拥有的硬盘数目（如2块）， 算出的结果就是每个硬盘上要配置的交换空间的大小。 在这个例子中， 每个硬盘的交换空间为 64 MB。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>e</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="filename">/var</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">512 MB 至 4096 MB</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="filename">/var</span> 目录会存放不同长度的文件、 日志以及其它管理用途的文件。大部分这些文件都是 FreeBSD 每天在运行的时候会读取或是写入的。 当这些文件放在另外的文件系统（译注：即/var） 可以避免影响到其它目录下面类似的文件存取机制。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>f</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="filename">/usr</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">剩下的硬盘空间 （至少 8 GB）</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">您所有的其它的文件通常都会存在<span class="filename">/usr</span> 目录以及其子目录下面。</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock warning">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>上面例子中的数值仅限于有经验的用户使用。 通常我们鼓励用户使用 FreeBSD 分区编辑器中一个叫做 <code>Auto Defaults</code>的自动分区布局功能。</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>如果您要将FreeBSD安装在一个以上的硬盘， 那么您必须在您配置的其它分区上再建立分区。 最简单的方式就是在每个硬盘上建立两个分区，一个是交换分区， 一个是文件系统分区。</p>
</div>
<table class="tableblock frame-none grid-all stretch">
<caption class="title">表 3. 为其它磁盘分区</caption>
<colgroup>
<col style="width: 25%;"/>
<col style="width: 25%;"/>
<col style="width: 25%;"/>
<col style="width: 25%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">分区</th>
<th class="tableblock halign-left valign-top">文件系统</th>
<th class="tableblock halign-left valign-top">大小</th>
<th class="tableblock halign-left valign-top">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>b</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N/A</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">见描述</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">之前提过，交换分区是可以跨硬盘的。但是，即使 <code>a</code> 分区没有使用，习惯上还是会把交换分区放在 <code>b</code> 分区上。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>e</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">/disk_n_</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">剩下的硬盘空间</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">剩下的空间是一个大的分区，最简单的做法是将之规划为 <code>a</code>分区而不是<code>e</code>分区。然而， 习惯上<code>a</code>分区是保留给根目录 (<span class="filename">/</span>) 用的。您不一定要遵守这个习惯，但是 sysinstall 会， 所以照着它做会使您的安装比较清爽、干净。 您可以将这些文件系统挂在任何地方，本范例建议将它们挂在 <span class="filename">/diskn</span> 目录，<em>n</em> 依据每个硬盘而有所不同， 但是，您喜欢的话也可将它们挂在别的地方。</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>分区的配置完成后，您可以用sysinstall. 来建立它们了。您会看到下面的信息：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">                                 Message
 Now, you need to create BSD partitions inside of the fdisk
 partition<span class="o">(</span>s<span class="o">)</span> just created. If you have a reasonable amount of disk
 space <span class="o">(</span>1GB or more<span class="o">)</span> and don<span class="s1">&#39;t have any special requirements, simply
 use the (A)uto command to allocate space automatically. If you have
 more specific needs or just don&#39;</span>t care <span class="k">for </span>the layout chosen by
 <span class="o">(</span>A<span class="o">)</span>uto, press F1 <span class="k">for </span>more information on manual layout.

                                <span class="o">[</span>  OK  <span class="o">]</span>
                          <span class="o">[</span> Press enter or space <span class="o">]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>按下 <kbd>Enter</kbd> 键开始FreeBSD分区表编辑器，称做 Disklabel。</p>
</div>
<div class="paragraph">
<p><a href="#sysinstall-label">Sysinstall Disklabel 编辑器</a> 显示您第一次执行 Disklabel的画面。 画面分为三个区域。</p>
</div>
<div class="paragraph">
<p>前几行显示的是您正在编辑的硬盘以及您正在建立的 slice 位于哪个分区上。（在这里，Disklabel 使用的是 <code>分区名称</code> 而不是 slice 名）。 此画面也会显示 slice 还有多少空间可以使用；亦即，有多余的空间， 但是尚未指派分区。</p>
</div>
<div class="paragraph">
<p>画面中间区域显示已建立的区区，每个分区的文件系统名称、 所占的大小以及一些关于建立这些文件系统的参数选项。</p>
</div>
<div class="paragraph">
<p>下方的第三区显示在 Disklabel 中可用的按键。</p>
</div>
<div id="sysinstall-label" class="imageblock">
<div class="content">
<img src="../../../../images/books/handbook/install/disklabel-ed1.png" alt="disklabel ed1"/>
</div>
<div class="title">图 18. Sysinstall Disklabel 编辑器</div>
</div>
<div class="paragraph">
<p>Disklabel 您可以自动配置分区以及给它们预设的大小。 这些默认的分区是由内部的分区尺寸算法根据磁盘的大小计算出的。 您可以按 <kbd>A</kbd>键使用此功能。您会看到类似 <a href="#sysinstall-label2">Sysinstall Disklabel 编辑器-使用自动配置</a>的画面。根据您硬盘的大小， 自动分配所配置的大小不一定合适。但是没有关系， 您并不一定要使用预设的大小。</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>默认情况下会给<span class="filename">/tmp</span> 目录一个独立分区，而不是附属在 <span class="filename">/</span> 之下。 这样可以避免将一些临时文件放到根目录中（译注： 可能会用完根目录空间）。</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div id="sysinstall-label2" class="imageblock">
<div class="content">
<img src="../../../../images/books/handbook/install/disklabel-auto.png" alt="disklabel auto"/>
</div>
<div class="title">图 19. Sysinstall Disklabel 编辑器-使用自动配置</div>
</div>
<div class="paragraph">
<p>如果您不想使用默认的分区布局， 则需要用方向键移动光标并选中第一个分区， 然后按 <kbd>D</kbd> 来删除它。 重复这一过程直到删除了所有推荐的分区。</p>
</div>
<div class="paragraph">
<p>要建立第一个分区 (<code>a</code>，作为 <span class="filename">/</span> - 根文件系统)， 请确认您已经在屏幕顶部选中了正确的 slice， 然后按 <kbd>C</kbd>。 接下来将出现一个对话框， 要求您输入新分区的尺寸 (如 <a href="#sysinstall-label-add">根目录使用空间</a> 所示)。 您可以输入以块为单位的尺寸，或以 <code>M</code> 表示MB、 <code>G</code> 结尾表示GB， 或者 <code>C</code> 表示柱面数的方式来表达尺寸。</p>
</div>
<div id="sysinstall-label-add" class="imageblock">
<div class="content">
<img src="../../../../images/books/handbook/install/disklabel-root1.png" alt="disklabel root1"/>
</div>
<div class="title">图 20. 根目录使用空间</div>
</div>
<div class="paragraph">
<p>如果使用此处显示的默认尺寸， 则会创建一个占满整个 slice 空余空间的 partition。如果希望使用前面例子中描述的 partition 尺寸， 则应按 <kbd>Backspace</kbd> 键删除这些数字， 并输入 <code>512M</code>， 如 <a href="#sysinstall-label-add2">编辑要分区大小</a> 所示。 然后， 按下 <b class="button">OK</b>。</p>
</div>
<div id="sysinstall-label-add2" class="imageblock">
<div class="content">
<img src="../../../../images/books/handbook/install/disklabel-root2.png" alt="disklabel root2"/>
</div>
<div class="title">图 21. 编辑要分区大小</div>
</div>
<div class="paragraph">
<p>输入完大小后接着问您要建立的分区是文件系统还是交换空间，如 <a href="#sysinstall-label-type">选择根分区类型</a>所示。第一个分区是文件系统， 所以确认选择 <span class="guimenuitem">FS</span>后按<kbd>Enter</kbd> 键。</p>
</div>
<div id="sysinstall-label-type" class="imageblock">
<div class="content">
<img src="../../../../images/books/handbook/install/disklabel-fs.png" alt="disklabel fs"/>
</div>
<div class="title">图 22. 选择根分区类型</div>
</div>
<div class="paragraph">
<p>最后，因为您要建立的是一个文件系统，所以必须告诉 Disklabel 这个文件系统要挂接在什么地方，如 <a href="#sysinstall-label-mount">选择根挂接点</a>所示。根文件系统的挂接点 <span class="filename">/</span>, 所以请输入 <code>/</code>,然后按 <kbd>Enter</kbd>键。</p>
</div>
<div id="sysinstall-label-mount" class="imageblock">
<div class="content">
<img src="../../../../images/books/handbook/install/disklabel-root3.png" alt="disklabel root3"/>
</div>
<div class="title">图 23. 选择根挂接点</div>
</div>
<div class="paragraph">
<p>刚刚制作好的分区会显示在画面上。 您应该重复上述的动作以建立其它的分区。当建立交换空间的时候， 系统不会问您要将它挂接在哪里，因为交换空间是不用挂在系统上的。 当您在建立最后一个分区<span class="filename">/usr</span>的时候， 您可以直接使用默认的大小，即所有此分区剩余的空间。</p>
</div>
<div class="paragraph">
<p>您最终的 FreeBSD DiskLabel 编辑器画面会类似 <a href="#sysinstall-label4">Sysinstall Disklabel 编辑器</a>, 实际数字按您的选择而有所不同。 按下 <kbd>Q</kbd> 键完成分区的建立。</p>
</div>
<div id="sysinstall-label4" class="imageblock">
<div class="content">
<img src="../../../../images/books/handbook/install/disklabel-ed2.png" alt="disklabel ed2"/>
</div>
<div class="title">图 24. Sysinstall Disklabel 编辑器</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="install-choosing">7. 选择要安装的软件包<a class="anchor" href="#install-choosing"></a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="distset">7.1. 选择要安装的软件包<a class="anchor" href="#distset"></a></h3>
<div class="paragraph">
<p>安装哪些软件包在很大程度上取决于系统将被用来做什么， 以及有多少可用的磁盘空间。内建的选项包括了运行所需要的最小系统， 到把所有软件包全都装上的常用配置。UNIX® 或 FreeBSD 新手通常直接选择一个设定好的软件包就可以了， 而有经验的使用者则可以考虑自己订制安装哪些软件包。</p>
</div>
<div class="paragraph">
<p>按下 <kbd>F1</kbd> 可以看到有关软件包的更多选项信息， 以及它们都包含了哪些软件，之后，可以按 <kbd>Enter</kbd> 回到软件包选择画面。</p>
</div>
<div class="paragraph">
<p>如果需要图形用户界面， 则配置 X 服务以及选择默认桌面需要在完成 FreeBSD 之后完成。 关于安装和配置 X 服务的信息， 可以在 crossref:x11[x11,X Window 系统] 找到。</p>
</div>
<div class="paragraph">
<p>如果需要定制内核， 您还需要选择包含源代码的那个选项。 要了解为什么应该编译和构建新的内核， 请参见 crossref:kernelconfig[kernelconfig,配置FreeBSD的内核]。</p>
</div>
<div class="paragraph">
<p>显然， 包含所有组件的系统是最万能的。 如果磁盘空间足够， 用光标键选择 <a href="#distribution-set1">选择软件包</a> 中的 <span class="guimenuitem">All</span> 并按 <kbd>Enter</kbd>。 如果担心磁盘空间不够的话， 则选择最合适的选项。 不要担心选择的是否是最合适的， 因为其他软件包可以在安装完毕后再加入进来。</p>
</div>
<div id="distribution-set1" class="imageblock">
<div class="content">
<img src="../../../../images/books/handbook/install/dist-set.png" alt="dist set"/>
</div>
<div class="title">图 25. 选择软件包</div>
</div>
</div>
<div class="sect2">
<h3 id="portscol">7.2. 安装ports软件包<a class="anchor" href="#portscol"></a></h3>
<div class="paragraph">
<p>当选择完您想要安装的部分后，接着会询问您要不要安装FreeBSD Ports 软件包；Ports软件包可以让您简单方便地安装软件包。Ports本身并不包含编辑 软件所需要的程序源代码，而是一个包含自动下载、编辑以及安装的文档集合。 crossref:ports[ports,安装应用程序: Packages 和 Ports] 一章讨论如何使用Ports.</p>
</div>
<div class="paragraph">
<p>安装程序并不会检查您是否有足够的硬盘空间, 在选择这一项之前请先确定您有足够的硬盘空间。 目前 FreeBSD 12.0 版本中， FreeBSD Ports Collection 大约占用 3 GB 大小的硬盘空间。 对于近期的版本您可能需要更多一些空间来安装他们。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">                         User Confirmation Requested
 Would you like to <span class="nb">install </span>the FreeBSD Ports Collection?

 This will give you ready access to over 24,000 ported software packages,
 at a cost of around 500 MB of disk space when <span class="s2">&#34;clean&#34;</span> and possibly much
 more than that <span class="k">if </span>a lot of the distribution tarballs are loaded
 <span class="o">(</span>unless you have the extra CDs from a FreeBSD CD/DVD distribution
 available and can mount it on /cdrom, <span class="k">in </span>which <span class="k">case</span> this is far less
 of a problem<span class="p">)</span><span class="nb">.</span>

 The Ports Collection is a very valuable resource and well worth having
 on your /usr partition, so it is advisable to say Yes to this option.

 For more information on the Ports Collection &amp; the latest ports,
 visit:
     http://www.FreeBSD.org/ports

                              <span class="o">[</span> Yes <span class="o">]</span>     No</code></pre>
</div>
</div>
<div class="paragraph">
<p>选择 <b class="button">yes</b> 将会安装 Ports Collection， 而选择 <b class="button">no</b> 则将跳过它。 选好后按 <kbd>Enter</kbd> 继续。 此后， 选择安装的软件包的屏幕将再次出现。</p>
</div>
<div id="distribution-set2" class="imageblock">
<div class="content">
<img src="../../../../images/books/handbook/install/dist-set2.png" alt="dist set2"/>
</div>
<div class="title">图 26. 确认您要安装的软件包</div>
</div>
<div class="paragraph">
<p>如果对您的选择感到满意，请选择<span class="guimenuitem">Exit</span> 退出，确保<b class="button">OK</b> 被高亮显示，然后按<kbd>Enter</kbd> 继续。</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="install-media">8. 选择您要使用的安装介质<a class="anchor" href="#install-media"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>如果要从 CDROM 或 DVD安装，使用方向键将光标移到 <span class="guimenuitem">Install from a FreeBSD CD/DVD</span>。确认 <b class="button">OK</b> 被选取，然后按 <kbd>Enter</kbd> 开始安装程序。</p>
</div>
<div class="paragraph">
<p>如果要使用其它的方式安装， 请选择适当的安装介质然后按照屏幕指示进行安装。</p>
</div>
<div class="paragraph">
<p>按 <kbd>F1</kbd> 可以显示安装介质的在线说明。按一下 <kbd>Enter</kbd> 可返回选择安装介质画面。</p>
</div>
<div id="choose-media" class="imageblock">
<div class="content">
<img src="../../../../images/books/handbook/install/media.png" alt="media"/>
</div>
<div class="title">图 27. 选择安装介质</div>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">FTP安装模式</div>
<div class="paragraph">
<p>使用FTP安装，有三种方式：主动式（active）FTP、被动式（passive）FTP 或是透过HTTP代理服务器。</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">主动式FTP： <span class="guimenuitem">从FTP服务器安装</span></dt>
<dd>
<p>这个选项将会使所有的FTP传输使用 &#34;Active&#34;模式。 这将无法通过防火墙，但是可以使用在那些比较早期， 不支持被动模式的FTP站。如果您的连接在使用被动（默认值） 模式卡住了，请换主动模式看看！</p>
</dd>
<dt class="hdlist1">被动模式FTP：<span class="guimenuitem">通过防火墙从FTP服务器安装</span></dt>
<dd>
<p>此选项会让 sysinstall 使用 &#34;Passive&#34;模式来安装。这使得使用者可以穿过 不允许用非固定TCP PORTS连入的防火墙。</p>
</dd>
<dt class="hdlist1">FTP 透过 HTTP 代理服务器： <span class="guimenuitem">透过HTTP代理服务器， 由 FTP 服务器安装</span></dt>
<dd>
<p>此选项会让 sysinstall 通过HTTP协议 （像浏览器一样）连到proxy服务器。 proxy服务器会解释送出的请求，然后通知FTP服务器。 因为通过HTTP协议，所以可以穿过防火墙。 要用这种方式，您必须指定proxy服务器的地址。</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>对于一个 FTP 代理服务器而言， 通常在使用者登入名称中加入您要登入的服务器的用户名， 加在 &#34;@&#34; 符号后面。然后代理服务器就会 &#34;假装&#34; 成一个真的服务器。例如，假设您要从 <code>ftp.FreeBSD.org</code> 安装，通过 FTP 代理服务器 <code>foo.example.com</code>， 使用1234端口。</p>
</div>
<div class="paragraph">
<p>在这种情况下，您可以到 options 菜单，将 FTP username 设为 <code>ftp@ftp.FreeBSD.org</code>，密码设为您的电子邮件地址。 安装介质部分，指定FTP (或是被动式 FTP，如果代理服务器支持的话) 以及URL为 <code><a href="ftp://foo.example.com:1234/pub/FreeBSD" class="bare">ftp://foo.example.com:1234/pub/FreeBSD</a></code>。</p>
</div>
<div class="paragraph">
<p>因为<code>ftp.FreeBSD.org</code>的 <span class="filename">/pub/FreeBSD</span> 目录会被抓取到 <code>foo.example.com</code>之下，您就可以从 <em>这台</em> 机器 (会从 <code>ftp.FreeBSD.org</code> 抓取文件) 安装。</p>
</div>
</td>
</tr>
</tbody></table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="install-final-warning">9. 安装确认<a class="anchor" href="#install-final-warning"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>到此为止，可以开始进行安装了， 这也是您避免更动到您的硬盘的最后机会。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">                       User Confirmation Requested
 Last Chance! Are you SURE you want to <span class="k">continue </span>the installation?

 If you<span class="s1">&#39;re running this on a disk with data you wish to save then WE
 STRONGLY ENCOURAGE YOU TO MAKE PROPER BACKUPS before proceeding!

 We can take no responsibility for lost disk contents!

                             [ Yes ]    No</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>选择 <b class="button">yes</b> 然后按下 <kbd>Enter</kbd> 确认安装</p>
</div>
<div class="paragraph">
<p>安装所需的时间会根据您所选择的软件、 安装介质以及您电脑的速度而有所不同。 在安装的过程中会有一些信息来显示目前的进度。</p>
</div>
<div class="paragraph">
<p>当您看到下面的信息表示已经安装完成了：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">                               Message

Congratulations! You now have FreeBSD installed on your system.

We will now move on to the final configuration questions.
For any option you <span class="k">do </span>not wish to configure, simply <span class="k">select </span>No.

If you wish to re-enter this utility after the system is up, you may
<span class="k">do </span>so by typing: /usr/sbin/sysinstall.

                                 <span class="o">[</span> OK <span class="o">]</span>

                      <span class="o">[</span>  Press enter or space  <span class="o">]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>按下 <kbd>Enter</kbd> 以进行安装后的配置。</p>
</div>
<div class="paragraph">
<p>选择 <b class="button">no</b> 然后按 <kbd>Enter</kbd> 会取消安装，不会对您的系统造成更动。您会看到下面的信息：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">                                Message
Installation <span class="nb">complete </span>with some errors.  You may wish to scroll
through the debugging messages on VTY1 with the scroll-lock feature.
You can also choose <span class="s2">&#34;No&#34;</span> at the next prompt and go back into the
installation menus to retry whichever operations have failed.

                                 <span class="o">[</span> OK <span class="o">]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>产生这个信息是因为什么东西也没有安装，按下 <kbd>Enter</kbd> 后会离开安装程序回到主安装界面。从主安装界面可以退出安装程序。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="install-post">10. 安装后的配置<a class="anchor" href="#install-post"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>安装成功后， 就可以进行进一步的配置了。 引导新安装的 FreeBSD 系统之后， 使用 <code>sysinstall</code> 并选择 <span class="guimenuitem">Configure</span>。</p>
</div>
<div class="sect2">
<h3 id="inst-network-dev">10.1. 配置网卡<a class="anchor" href="#inst-network-dev"></a></h3>
<div class="paragraph">
<p>如果您之前配置用 PPP 通过 FTP 安装，那么这个画面将不会出现； 正像所说的那样，您可以稍后再做配置。</p>
</div>
<div class="paragraph">
<p>如果想更多的了解网卡或将FreeBSD配置为网关或路由器，请参考 crossref:advanced-networking[advanced-networking,Advanced Networking] 的相关文章。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">                      User Confirmation Requested
   Would you like to configure any Ethernet or PPP network devices?

                             <span class="o">[</span> Yes <span class="o">]</span>   No</code></pre>
</div>
</div>
<div class="paragraph">
<p>如果要配置网卡，请选择 <b class="button">yes</b> 然后按 <kbd>Enter</kbd>。 否则请选择 <b class="button">no</b> 继续。</p>
</div>
<div id="ed-config1" class="imageblock">
<div class="content">
<img src="../../../../images/books/handbook/install/ed0-conf.png" alt="ed0 conf"/>
</div>
<div class="title">图 28. 选择网卡设备</div>
</div>
<div class="paragraph">
<p>用方向键选择您要配置的网卡接口，然后按<kbd>Enter</kbd>。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">                      User Confirmation Requested
       Do you want to try IPv6 configuration of the interface?

                              Yes   <span class="o">[</span> No <span class="o">]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>目录私人区域网络IP协议IPv4已经足够，所以选择 <b class="button">no</b> 然后按 <kbd>Enter</kbd>。</p>
</div>
<div class="paragraph">
<p>如果想试试新的IP通信协议 IPv6 ， 使用 RA 服务，请选择 <b class="button">yes</b> 然后按 <kbd>Enter</kbd>。 寻找 RA 服务器将会花费几秒的时间。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">                             User Confirmation Requested
        Do you want to try DHCP configuration of the interface?

                              Yes   <span class="o">[</span> No <span class="o">]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>如果您不需要 DHCP (Dynamic Host Configuration Protocol　动态主机配置协议) ，选择 <b class="button">no</b> 然后按<kbd>Enter</kbd>。</p>
</div>
<div class="paragraph">
<p>选择 <b class="button">yes</b> 会执行dhclient， 如果成功，它会自动将网络配置信息填上。更多的信息请参考 crossref:network-servers[network-dhcp,网络自动配置 (DHCP)] 。</p>
</div>
<div class="paragraph">
<p>下面的网络配置显示了怎样把以太网设备配置成区域网络网关的角色。</p>
</div>
<div id="ed-config2" class="imageblock">
<div class="content">
<img src="../../../../images/books/handbook/install/ed0-conf2.png" alt="ed0 conf2"/>
</div>
<div class="title">图 29. 配置 ed0接口</div>
</div>
<div class="paragraph">
<p>使用<kbd>Tab</kbd> 键可以在各个栏目之间进行切换，请输入适当 的信息：</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Host（机器名称）</dt>
<dd>
<p>完整的机器名称，例如本例中的 <code>k6-2.example.com</code> 。</p>
</dd>
<dt class="hdlist1">Domain（域名）</dt>
<dd>
<p>您机器所在的域名称，如本例的 <code>example.com</code></p>
</dd>
<dt class="hdlist1">IPv4 Gateway（IPv4网关）</dt>
<dd>
<p>输入将数据包传送到远端网络的机器IP地址。 只有当机器是网络上的一个节点时才要输入。 如果这台机器要作为您局域网的网关， <em>请将此处设为空白</em>。IPv4网关， 也被称作默认网关或默认路由器。</p>
</dd>
<dt class="hdlist1">域名服务器</dt>
<dd>
<p>本地网络中的域名服务器的IP地址。 本例中假设机器所在的网络中没有域名服务器， 所以填入的是ISP提供的域名服务器地址 （<code>208.163.10.2</code>。）</p>
</dd>
<dt class="hdlist1">IPv4 地址</dt>
<dd>
<p>本机所使用的IP地址。本例为 <code>192.168.0.1</code>。</p>
</dd>
<dt class="hdlist1">子网掩码</dt>
<dd>
<p>在这个局域网中所使用的地址块是 <code>192.168.0.0</code> - <code>192.168.0.255</code>， 对应的子网掩码是 <code>255.255.255.0</code>。</p>
</dd>
<dt class="hdlist1">ifconfig 额外参数设定</dt>
<dd>
<p>任何<code>ifconfig</code>命令跟网卡接口有关的参数。 本范例中没有。</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>使用 <kbd>Tab</kbd> 键选择 <b class="button">OK</b>然后按 <kbd>Enter</kbd>键。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">                      User Confirmation Requested
        Would you like to bring the ed0 interface up right now?

                             <span class="o">[</span> Yes <span class="o">]</span>   No</code></pre>
</div>
</div>
<div class="paragraph">
<p>选择 <b class="button">yes</b> 然后按 <kbd>Enter</kbd> 将会将机器的网卡转为启用状态。 机器下次启动的时候即可使用。</p>
</div>
</div>
<div class="sect2">
<h3 id="gateway">10.2. 配置网关<a class="anchor" href="#gateway"></a></h3>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">                       User Confirmation Requested
       Do you want this machine to <span class="k">function </span>as a network gateway?

                              <span class="o">[</span> Yes <span class="o">]</span>    No</code></pre>
</div>
</div>
<div class="paragraph">
<p>如果这台机器要作为本地网络和其它机器之间传送数据包的网关，请选择 <b class="button">yes</b> 然后按 <kbd>Enter</kbd>。 如果这台机器只是网络上的普通节点，请选择 <b class="button">no</b> 并按 <kbd>Enter</kbd> 继续。</p>
</div>
</div>
<div class="sect2">
<h3 id="inetd-services">10.3. 配置网络服务<a class="anchor" href="#inetd-services"></a></h3>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">                      User Confirmation Requested
Do you want to configure inetd and the network services that it provides?

                               Yes   <span class="o">[</span> No <span class="o">]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>如果选择 <b class="button">no</b>， 许多网络服务，如 telnetd 将不会启用。 这样， 远端用户将无法 telnet 进入这台机器。 本机上的用户还是可以 telnet到远端机器的。</p>
</div>
<div class="paragraph">
<p>这些服务可以在安装完成后修改<span class="filename">/etc/inetd.conf</span> 配置文件来启用它们。请参阅 crossref:network-servers[network-inetd-overview,总览] 以获得更多的信息。</p>
</div>
<div class="paragraph">
<p>如果您想现在就配置这些网络服务，请选择 <b class="button">yes</b>， 然后会看到下面的信息：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">                      User Confirmation Requested
The Internet Super Server <span class="o">(</span>inetd<span class="o">)</span> allows a number of simple Internet
services to be enabled, including finger, ftp and telnetd.  Enabling
these services may increase risk of security problems by increasing
the exposure of your system.

With this <span class="k">in </span>mind, <span class="k">do </span>you wish to <span class="nb">enable </span>inetd?

                             <span class="o">[</span> Yes <span class="o">]</span>   No</code></pre>
</div>
</div>
<div class="paragraph">
<p>选择 <b class="button">yes</b> 继续。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">                      User Confirmation Requested
inetd<span class="o">(</span>8<span class="o">)</span> relies on its configuration file, /etc/inetd.conf, to determine
which of its Internet services will be available.  The default FreeBSD
inetd.conf<span class="o">(</span>5<span class="o">)</span> leaves all services disabled by default, so they must be
specifically enabled <span class="k">in </span>the configuration file before they will
<span class="k">function</span>, even once inetd<span class="o">(</span>8<span class="o">)</span> is enabled.  Note that services <span class="k">for
</span>IPv6 must be separately enabled from IPv4 services.

Select <span class="o">[</span>Yes] now to invoke an editor on /etc/inetd.conf, or <span class="o">[</span>No] to
use the current settings.

                             <span class="o">[</span> Yes <span class="o">]</span>   No</code></pre>
</div>
</div>
<div class="paragraph">
<p>选择 <b class="button">yes</b> 将允许您添加网络服务 (或将相应网络服务每行开头的 <code>#</code> 除掉即可。)</p>
</div>
<div id="inetd-edit" class="imageblock">
<div class="content">
<img src="../../../../images/books/handbook/install/edit-inetd-conf.png" alt="edit inetd conf"/>
</div>
<div class="title">图 30. 编辑 <span class="filename">inetd.conf</span>配置文件</div>
</div>
<div class="paragraph">
<p>在加入您想启用的服务后，按下 <kbd>Esc</kbd>键会出现一个 对话框可以让您离开以及保存修改。</p>
</div>
</div>
<div class="sect2">
<h3 id="ssh-login">10.4. 启用 SSH 登录<a class="anchor" href="#ssh-login"></a></h3>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">                      User Confirmation Requested
                  Would you like to <span class="nb">enable </span>SSH login?
                           Yes        <span class="o">[</span>  No  <span class="o">]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>选择 <b class="button">yes</b> 便会启用 man:sshd[8]， 也就是 OpenSSH 服务程序。 它能够让您以安全的方式从远程访问机器。 如欲了解关于 OpenSSH 的进一步详情， 请参见 crossref:security[openssh,OpenSSH]。</p>
</div>
</div>
<div class="sect2">
<h3 id="ftpanon">10.5. 匿名 FTP<a class="anchor" href="#ftpanon"></a></h3>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">                      User Confirmation Requested
 Do you want to have anonymous FTP access to this machine?

                              Yes    <span class="o">[</span> No <span class="o">]</span></code></pre>
</div>
</div>
<div class="sect3">
<h4 id="deny-anon">10.5.1. 不允许匿名 FTP访问<a class="anchor" href="#deny-anon"></a></h4>
<div class="paragraph">
<p>选择默认的 <b class="button">no</b> 并按下 <kbd>Enter</kbd> 键将仍然可以让在这台机器上有账号的用户访问 FTP。</p>
</div>
</div>
<div class="sect3">
<h4 id="ftpallow">10.5.2. 允许匿名 FTP访问<a class="anchor" href="#ftpallow"></a></h4>
<div class="paragraph">
<p>如果您选择允许匿名 FTP 存取， 那么网络中任何人都可以使用FTP来访问您的机器。 在启用匿名访问之前应该考虑网络的安全问题。 如果要知道更多有关网络安全的信息， 请参阅 crossref:security[security,安全]。</p>
</div>
<div class="paragraph">
<p>要启用FTP匿名访问，用方向键选择 <b class="button">yes</b> 并按 <kbd>Enter</kbd>键。 系统会给出进一步的确认信息：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">                       User Confirmation Requested
 Anonymous FTP permits un-authenticated <span class="nb">users </span>to connect to the system
 FTP server, <span class="k">if </span>FTP service is enabled.  Anonymous <span class="nb">users </span>are
 restricted to a specific subset of the file system, and the default
 configuration provides a drop-box incoming directory to which uploads
 are permitted.  You must separately <span class="nb">enable </span>both inetd<span class="o">(</span>8<span class="o">)</span>, and <span class="nb">enable
 </span>ftpd<span class="o">(</span>8<span class="o">)</span> <span class="k">in </span>inetd.conf<span class="o">(</span>5<span class="o">)</span> <span class="k">for </span>FTP services to be available.  If you
 did not <span class="k">do </span>so earlier, you will have the opportunity to <span class="nb">enable </span>inetd<span class="o">(</span>8<span class="o">)</span>
 again later.

 If you want the server to be read-only you should leave the upload
 directory option empty and add the <span class="nt">-r</span> command-line option to ftpd<span class="o">(</span>8<span class="o">)</span>
 <span class="k">in </span>inetd.conf<span class="o">(</span>5<span class="o">)</span>

 Do you wish to <span class="k">continue </span>configuring anonymous FTP?

                          <span class="o">[</span> Yes <span class="o">]</span>         No</code></pre>
</div>
</div>
<div class="paragraph">
<p>这些信息会告诉您 FTP 服务还需要在 <span class="filename">/etc/inetd.conf</span> 中启用。 假如您希望允许匿名 FTP 连接， 请参见 <a href="#inetd-services">配置网络服务</a>。 选择 <b class="button">yes</b> 并按 <kbd>Enter</kbd> 继续； 系统将给出下列信息：</p>
</div>
<div id="anon-ftp2" class="imageblock">
<div class="content">
<img src="../../../../images/books/handbook/install/ftp-anon1.png" alt="ftp anon1"/>
</div>
<div class="title">图 31. 默认的匿名 FTP 配置</div>
</div>
<div class="paragraph">
<p>使用 <kbd>Tab</kbd> 在不同的信息字段之间切换， 并填写必要的信息：</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">UID</dt>
<dd>
<p>用于分配给匿名 FTP 用户的用户 ID。 所有上传的文件的属主都将是这个 ID。</p>
</dd>
<dt class="hdlist1">Group</dt>
<dd>
<p>匿名 FTP 用户所在的组。</p>
</dd>
<dt class="hdlist1">Comment</dt>
<dd>
<p>用于在 <span class="filename">/etc/passwd</span> 中描述该用户的说明性信息。</p>
</dd>
<dt class="hdlist1">FTP Root Directory</dt>
<dd>
<p>可供匿名 FTP 用户使用的文件所在的根目录。</p>
</dd>
<dt class="hdlist1">Upload Subdirectory</dt>
<dd>
<p>匿名 FTP 用户上传的文件的存放位置。</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>默认的 FTP 根目录将放在 <span class="filename">/var</span> 目录下。 如果您的 /var 目录空间不足以应付您的FTP需求， 您可以将FTP的根目录改为 <span class="filename">/usr</span> 目录下的 <span class="filename">/usr/ftp</span> 目录。</p>
</div>
<div class="paragraph">
<p>当您对一切配置都满意后，请按 <kbd>Enter</kbd> 键继续。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">                          User Confirmation Requested
         Create a welcome message file <span class="k">for </span>anonymous FTP <span class="nb">users</span>?

                              <span class="o">[</span> Yes <span class="o">]</span>    No</code></pre>
</div>
</div>
<div class="paragraph">
<p>如果您选择 <b class="button">yes</b> 并按下 <kbd>Enter</kbd>键， 系统会自动打开文本编辑器让您编辑FTP的欢迎信息。</p>
</div>
<div id="anon-ftp4" class="imageblock">
<div class="content">
<img src="../../../../images/books/handbook/install/ftp-anon2.png" alt="ftp anon2"/>
</div>
<div class="title">图 32. 编辑FTP欢迎信息</div>
</div>
<div class="paragraph">
<p>此文本编辑器叫做 <code>ee</code>。 按照指示修改信息文本或是稍后再用您喜爱的文本编辑器来修改。 请记住画面下方显示的文件位置。</p>
</div>
<div class="paragraph">
<p>按 <kbd>Esc</kbd> 将弹出一个默认为 <span class="guimenuitem">a) leave editor</span>的对话框。按 <kbd>Enter</kbd> 退出并继续。再次按 <kbd>Enter</kbd> 将保存修改。</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="nfsconf">10.6. 配置网络文件系统<a class="anchor" href="#nfsconf"></a></h3>
<div class="paragraph">
<p>网络文件系统 (NFS) 可以让您可以在网络上共享您的文件。 一台机器可以配置成NFS服务器、客户端或两者并存。请参考 crossref:network-servers[network-nfs,网络文件系统（NFS)] 以获得更多的信息。</p>
</div>
<div class="sect3">
<h4 id="nsf-server-options">10.6.1. NFS 服务器<a class="anchor" href="#nsf-server-options"></a></h4>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">                       User Confirmation Requested
 Do you want to configure this machine as an NFS server?

                              Yes    <span class="o">[</span> No <span class="o">]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>如果您不想安装网络文件系统，请选择 <b class="button">no</b> 然后按 <kbd>Enter</kbd>键。</p>
</div>
<div class="paragraph">
<p>如果您选择 <b class="button">yes</b> 将会出现一个对话框提醒您必须先建立一个 <span class="filename">exports</span> 文件。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">                               Message
Operating as an NFS server means that you must first configure an
/etc/exports file to indicate which hosts are allowed certain kinds of
access to your <span class="nb">local </span>filesystems.
Press <span class="o">[</span>Enter] now to invoke an editor on /etc/exports
                               <span class="o">[</span> OK <span class="o">]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>按 <kbd>Enter</kbd> 键继续。系统会启动文本编辑器让您编辑 <span class="filename">exports</span> 文件。</p>
</div>
<div id="nfs-server-edit" class="imageblock">
<div class="content">
<img src="../../../../images/books/handbook/install/nfs-server-edit.png" alt="nfs server edit"/>
</div>
<div class="title">图 33. 编辑 <span class="filename">exports</span>文件</div>
</div>
<div class="paragraph">
<p>按照指示加入真实输出的文件目录或是稍后用您喜爱的编辑器自行编辑。 请记下画面下方显示的文件名称及位置。</p>
</div>
<div class="paragraph">
<p>按下 <kbd>Esc</kbd> 键会出现一具对话框，默认选项是 <span class="guimenuitem">a) leave editor</span>。按下 <kbd>Enter</kbd> 离开并继续。</p>
</div>
</div>
<div class="sect3">
<h4 id="nfs-client-options">10.6.2. NFS 客户端<a class="anchor" href="#nfs-client-options"></a></h4>
<div class="paragraph">
<p>NFS 客户端允许您的机器访问NFS服务器。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">                       User Confirmation Requested
 Do you want to configure this machine as an NFS client?

                              Yes   <span class="o">[</span> No <span class="o">]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>按照您的需要，选择 <b class="button">yes</b> 或 <b class="button">no</b> 然后按 <kbd>Enter</kbd>。</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="console">10.7. 配置系统终端<a class="anchor" href="#console"></a></h3>
<div class="paragraph">
<p>系统提供了几个选项可以让您配置终端的表现方式。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">                      User Confirmation Requested
       Would you like to customize your system console settings?

                              <span class="o">[</span> Yes <span class="o">]</span>  No</code></pre>
</div>
</div>
<div class="paragraph">
<p>要查阅及配置这些选项，请选择 <b class="button">yes</b> 并按<kbd>Enter</kbd>。</p>
</div>
<div id="saver-options" class="imageblock">
<div class="content">
<img src="../../../../images/books/handbook/install/console-saver1.png" alt="console saver1"/>
</div>
<div class="title">图 34. 系统终端配置选项</div>
</div>
<div class="paragraph">
<p>最常用的选项就是屏幕保护程序了。使用方向键将光标移动到 <span class="guimenuitem">Saver</span> 然后按 <kbd>Enter</kbd>。</p>
</div>
<div id="saver-select" class="imageblock">
<div class="content">
<img src="../../../../images/books/handbook/install/console-saver2.png" alt="console saver2"/>
</div>
<div class="title">图 35. 屏幕保护程序选项</div>
</div>
<div class="paragraph">
<p>选择您想使用的屏幕保护程序，然后按 <kbd>Enter</kbd>。 之后回到系统终端配置画面。</p>
</div>
<div class="paragraph">
<p>默认开启屏幕保护程序的时间是300秒。如果要更改此时间，请再次选择 <span class="guimenuitem">Saver</span> 。然后选择 <span class="guimenuitem">Timeout</span> 并按 <kbd>Enter</kbd>键。系统会弹出一个对话框如下：</p>
</div>
<div id="saver-timeout" class="imageblock">
<div class="content">
<img src="../../../../images/books/handbook/install/console-saver3.png" alt="console saver3"/>
</div>
<div class="title">图 36. 屏幕保护时间设置</div>
</div>
<div class="paragraph">
<p>您可以直接改变这个值，然后选 <b class="button">OK</b>并按 <kbd>Enter</kbd> 键回到系统终端配置画面。</p>
</div>
<div id="saver-exit" class="imageblock">
<div class="content">
<img src="../../../../images/books/handbook/install/console-saver4.png" alt="console saver4"/>
</div>
<div class="title">图 37. 退出系统终端配置</div>
</div>
<div class="paragraph">
<p>选择 <span class="guimenuitem">Exit</span> 然后按下 <kbd>Enter</kbd> 键会回到安装后的配置画面。</p>
</div>
</div>
<div class="sect2">
<h3 id="timezone">10.8. 配置时区<a class="anchor" href="#timezone"></a></h3>
<div class="paragraph">
<p>配置您机器的时区可以让系统自动校正任何区域时间的变更， 并且在执行一些跟时区相关的程序时不会出错。</p>
</div>
<div class="paragraph">
<p>例子中假设此台机器位于美国东部的时区。 请参考您所在的地理位置来配置。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">                      User Confirmation Requested
          Would you like to <span class="nb">set </span>this machine<span class="s1">&#39;s time zone now?

                            [ Yes ]   No</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>选择 <b class="button">yes</b> 并按下 <kbd>Enter</kbd>键以配置时区。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">                       User Confirmation Requested
 Is this machine<span class="s1">&#39;s CMOS clock set to UTC? If it is set to local time
 or you don&#39;</span>t know, please choose NO here!

                              Yes   <span class="o">[</span> No <span class="o">]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>这里按照您机器时间的配置，选择 <b class="button">yes</b> 或 <b class="button">no</b> 然后按 <kbd>Enter</kbd>。</p>
</div>
<div id="set-timezone-region" class="imageblock">
<div class="content">
<img src="../../../../images/books/handbook/install/timezone1.png" alt="timezone1"/>
</div>
<div class="title">图 38. 选择您所处的地理区域</div>
</div>
<div class="paragraph">
<p>请选择适当的区域然后按 <kbd>Enter</kbd>。</p>
</div>
<div id="set-timezone-country" class="imageblock">
<div class="content">
<img src="../../../../images/books/handbook/install/timezone2.png" alt="timezone2"/>
</div>
<div class="title">图 39. 选择您所在的国家</div>
</div>
<div class="paragraph">
<p>选择您所在的国家然后按 <kbd>Enter</kbd>。</p>
</div>
<div id="set-timezone-locality" class="imageblock">
<div class="content">
<img src="../../../../images/books/handbook/install/timezone3.png" alt="timezone3"/>
</div>
<div class="title">图 40. 选择您所在的时区</div>
</div>
<div class="paragraph">
<p>选择您所在的时区然后按 <kbd>Enter</kbd>。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">                            Confirmation
            Does the abbreviation <span class="s1">&#39;EDT&#39;</span> look reasonable?

                            <span class="o">[</span> Yes <span class="o">]</span>   No</code></pre>
</div>
</div>
<div class="paragraph">
<p>检查一下时区的缩写是否正确，如果没错，请按 <kbd>Enter</kbd> 返回系统安装后的配置画面。</p>
</div>
</div>
<div class="sect2">
<h3 id="linuxcomp">10.9. Linux 兼容性<a class="anchor" href="#linuxcomp"></a></h3>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>这节内容只适用于 FreeBSD 7.X 安装过程， 如果您安装的是 FreeBSD 8.X 或更高版本， 系统不会给出这个提示。</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">                      User Confirmation Requested
          Would you like to <span class="nb">enable </span>Linux binary compatibility?

                            <span class="o">[</span> Yes <span class="o">]</span>   No</code></pre>
</div>
</div>
<div class="paragraph">
<p>选择 <b class="button">yes</b> 并按下<kbd>Enter</kbd> 键， 将允许您在FreeBSD中执行Linux的软件。安装程序会安装一些为了跟 Linux 兼容的软件包。</p>
</div>
<div class="paragraph">
<p>如果您是通过FTP安装，那么您必须连到网络上。 有时候FTP站并不会包含所有的安装软件包（例如Linux兼容软件包）； 不过，稍后您还可以再安装这个项目。</p>
</div>
</div>
<div class="sect2">
<h3 id="mouse">10.10. 配置鼠标<a class="anchor" href="#mouse"></a></h3>
<div class="paragraph">
<p>此选项可以让您在终端上使用三键鼠标剪贴文字。 如果您用的鼠标是两个按钮，请参考手册 man:moused[8]； 以取得有关模拟三键鼠标的信息。范例中使用的鼠标不是USB接口。 （例如ps/2或com接口的鼠标）：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">                      User Confirmation Requested
         Does this system have a PS/2, serial, or bus mouse?

                            <span class="o">[</span> Yes <span class="o">]</span>    No</code></pre>
</div>
</div>
<div class="paragraph">
<p>如果您使用的是 PS/2、 串口或 Bus 鼠标，请选择 <b class="button">yes</b>， 如果是 USB 鼠标， 则应选择 <b class="button">no</b> 并按 <kbd>Enter</kbd>。</p>
</div>
<div id="mouse-protocol" class="imageblock">
<div class="content">
<img src="../../../../images/books/handbook/install/mouse1.png" alt="mouse1"/>
</div>
<div class="title">图 41. 选择鼠标类型</div>
</div>
<div class="paragraph">
<p>使用方向键选择 <span class="guimenuitem">Type</span> 然后按 <kbd>Enter</kbd>。</p>
</div>
<div id="set-mouse-protocol" class="imageblock">
<div class="content">
<img src="../../../../images/books/handbook/install/mouse2.png" alt="mouse2"/>
</div>
<div class="title">图 42. 设置鼠标协议</div>
</div>
<div class="paragraph">
<p>在这个例子中使用的类型是ps/2鼠标，所以可以使用默认的 <span class="guimenuitem">Auto（自动）</span> 。 您可以用方向键选择合适的项目，确定选择了 <b class="button">OK</b> 后按 <kbd>Enter</kbd> 键离开此画面。</p>
</div>
<div id="config-mouse-port" class="imageblock">
<div class="content">
<img src="../../../../images/books/handbook/install/mouse3.png" alt="mouse3"/>
</div>
<div class="title">图 43. 配置鼠标端口</div>
</div>
<div class="paragraph">
<p>选择 <span class="guimenuitem">Port</span> 然后按 <kbd>Enter</kbd>。</p>
</div>
<div id="set-mouse-port" class="imageblock">
<div class="content">
<img src="../../../../images/books/handbook/install/mouse4.png" alt="mouse4"/>
</div>
<div class="title">图 44. 配置鼠标端口</div>
</div>
<div class="paragraph">
<p>假设这台机器用的是ps/2鼠标，您可以采用默认的 <span class="guimenuitem">PS/2</span> 选项。请选择适当的项目然后按 <kbd>Enter</kbd>。</p>
</div>
<div id="test-daemon" class="imageblock">
<div class="content">
<img src="../../../../images/books/handbook/install/mouse5.png" alt="mouse5"/>
</div>
<div class="title">图 45. 启动鼠标服务进程</div>
</div>
<div class="paragraph">
<p>选择<span class="guimenuitem">Enable</span>然后按 <kbd>Enter</kbd> 来启动和测试鼠标。</p>
</div>
<div id="test-mouse-daemon" class="imageblock">
<div class="content">
<img src="../../../../images/books/handbook/install/mouse6.png" alt="mouse6"/>
</div>
<div class="title">图 46. 测试鼠标功能</div>
</div>
<div class="paragraph">
<p>鼠标指针可以在屏幕上移动，指明鼠标服务已经正常启用。那么请选择 <b class="button">yes</b> 按 <kbd>Enter</kbd>键。否则鼠标没 有配置成功 - 选择 <b class="button">no</b> 并尝试不同的配置 选项。</p>
</div>
<div class="paragraph">
<p>选择 <span class="guimenuitem">Exit</span> 并按 <kbd>Enter</kbd> 退回到系统安装完成后的配置画面。</p>
</div>
</div>
<div class="sect2">
<h3 id="packages">10.11. 安装预编译的软件包 (package)<a class="anchor" href="#packages"></a></h3>
<div class="paragraph">
<p>Package 是事先编译好的二进制文件， 因此， 这是安装软件的一种便捷的方式。</p>
</div>
<div class="paragraph">
<p>在这里作为例子我们将给出安装一个 package 所需的过程。 如果需要， 还可以在这一阶段加入其他 package。 安装完成之后， <code>sysinstall</code> 依然可以用来安装其他 package。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">                     User Confirmation Requested
 The FreeBSD package collection is a collection of hundreds of
 ready-to-run applications, from text editors to games to WEB servers
 and more. Would you like to browse the collection now?

                            <span class="o">[</span> Yes <span class="o">]</span>   No</code></pre>
</div>
</div>
<div class="paragraph">
<p>选择 <b class="button">yes</b> 并按 <kbd>Enter</kbd> 将进入 package 选择界面：</p>
</div>
<div id="package-category" class="imageblock">
<div class="content">
<img src="../../../../images/books/handbook/install/pkg-cat.png" alt="pkg cat"/>
</div>
<div class="title">图 47. 选择 Package 类别</div>
</div>
<div class="paragraph">
<p>在任何时候， 只有当前安装介质上存在的 package 才可以安装。</p>
</div>
<div class="paragraph">
<p>如果选择了 <span class="guimenuitem">All</span> 或某个特定的分类， 则系统会列出全部可用的 package。 用光标键移动光棒选中需要的 package， 并按 <kbd>Enter</kbd>。</p>
</div>
<div class="paragraph">
<p>系统会显示可供选择的 package：</p>
</div>
<div id="package-select" class="imageblock">
<div class="content">
<img src="../../../../images/books/handbook/install/pkg-sel.png" alt="pkg sel"/>
</div>
<div class="title">图 48. 选择 Package</div>
</div>
<div class="paragraph">
<p>如图所示， 我们选择了 bash shell。 您可以根据需要使用 <kbd>Space</kbd> 键来勾选选定的 package。 在屏幕左下角会给出 package 的简短说明。</p>
</div>
<div class="paragraph">
<p>反复按下 <kbd>Tab</kbd> 键， 可以在最后选中的 package、 <b class="button">OK</b> 和 <b class="button">Cancel</b> 之间来回切换。</p>
</div>
<div class="paragraph">
<p>当您把需要的 package 都标记为安装之后， 按一下 <kbd>Tab</kbd> 切换到 <b class="button">OK</b>， 随后按下 <kbd>Enter</kbd> 就可以回到 package 选择菜单了。</p>
</div>
<div class="paragraph">
<p>左右方向键可以用于在 <b class="button">OK</b> 和 <b class="button">Cancel</b> 之间进行切换。 这种方法也可以用来选择 <b class="button">OK</b>， 随后按下 <kbd>Enter</kbd> 也可以回到 package 选择菜单。</p>
</div>
<div id="package-install" class="imageblock">
<div class="content">
<img src="../../../../images/books/handbook/install/pkg-install.png" alt="pkg install"/>
</div>
<div class="title">图 49. 安装预编译软件包</div>
</div>
<div class="paragraph">
<p>使用 <kbd>Tab</kbd> 和左右方向键选择 <b class="button">Install</b> 并按 <kbd>Enter</kbd>。 接下来需要确认将要安装的预编译包：</p>
</div>
<div id="package-install-confirm" class="imageblock">
<div class="content">
<img src="../../../../images/books/handbook/install/pkg-confirm.png" alt="pkg confirm"/>
</div>
<div class="title">图 50. 确认将要安装的预编译包</div>
</div>
<div class="paragraph">
<p>选择 <b class="button">OK</b> 并按下 <kbd>Enter</kbd> 就可以开始预编译包的安装了。在这个过程中您会看到安装的相关信息， 直到安装完成为止。请留意观察是否有错误信息出现。</p>
</div>
<div class="paragraph">
<p>在完成预编译包的安装之后， 就进入了最后的配置阶段。 如果您没有选择任何预编译包， 并希望直接进入最后的配置阶段， 则可以选择 <b class="button">Install</b> 来跳过。</p>
</div>
</div>
<div class="sect2">
<h3 id="addusers">10.12. 添加用户和组<a class="anchor" href="#addusers"></a></h3>
<div class="paragraph">
<p>在安装系统的过程中， 您应添加至少一个用户， 以避免直接以 <code>root</code> 用户的身份登录。 用以保存其用户数据的根分区通常很小， 因此用 <code>root</code> 身份运行程序可能将其迅速填满。 下面的提示信息介绍了这样做可能带来的更大隐患：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">                     User Confirmation Requested
 Would you like to add any initial user accounts to the system? Adding
 at least one account <span class="k">for </span>yourself at this stage is suggested since
 working as the <span class="s2">&#34;root&#34;</span> user is dangerous <span class="o">(</span>it is easy to <span class="k">do </span>things which
 adversely affect the entire system<span class="o">)</span><span class="nb">.</span>

                            <span class="o">[</span> Yes <span class="o">]</span>   No</code></pre>
</div>
</div>
<div class="paragraph">
<p>选择 <b class="button">yes</b> 并按 <kbd>Enter</kbd> 即可开始创建用户的过程。</p>
</div>
<div id="add-user2" class="imageblock">
<div class="content">
<img src="../../../../images/books/handbook/install/adduser1.png" alt="adduser1"/>
</div>
<div class="title">图 51. 选择用户</div>
</div>
<div class="paragraph">
<p>用箭头键来选择 <span class="guimenuitem">User</span> 然后按 <kbd>Enter</kbd>。</p>
</div>
<div id="add-user3" class="imageblock">
<div class="content">
<img src="../../../../images/books/handbook/install/adduser2.png" alt="adduser2"/>
</div>
<div class="title">图 52. 添加用户信息</div>
</div>
<div class="paragraph">
<p>下面的描述信息会出现在屏幕的下方，可以使用 <kbd>Tab</kbd> 键来切换不同的项目，以便输入相关信息：</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Login ID</dt>
<dd>
<p>新用户的登录名（强制性必须写）</p>
</dd>
<dt class="hdlist1">UID</dt>
<dd>
<p>这个用户的ID编号（如果不写，系统自动添加）</p>
</dd>
<dt class="hdlist1">Group</dt>
<dd>
<p>这个用户的登录组名（如果不写，系统自动添加）</p>
</dd>
<dt class="hdlist1">Password</dt>
<dd>
<p>这个用户的密码（键入这个需要很仔细！）</p>
</dd>
<dt class="hdlist1">Full name</dt>
<dd>
<p>用户的全名（解释、备注）</p>
</dd>
<dt class="hdlist1">Member groups</dt>
<dd>
<p>这个用户所在的组</p>
</dd>
<dt class="hdlist1">Home directory</dt>
<dd>
<p>用户的主目录（如果不写，系统自动添加）</p>
</dd>
<dt class="hdlist1">Login shell</dt>
<dd>
<p>用户登录的shell（默认是<span class="filename">/bin/sh</span>）。</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>你可以将登录 shell 由 <span class="filename">/bin/sh</span> 改为 <span class="filename">/usr/local/bin/bash</span>， 以便使用事先以 package 形式安装的 bash shell。不要使用一个不存在的或您不能登录的shell。 最通用的shell是使用 BSD-world 的 C shell， 可以通过指定<span class="filename">/bin/tcsh</span>来修改。</p>
</div>
<div class="paragraph">
<p>用户也可以被添加到 <code>wheel</code> 组中成了一个超级用户，从而拥有 <code>root</code> 权限。</p>
</div>
<div class="paragraph">
<p>当您感觉满意时，键入 <b class="button">OK</b> 键， 用户和组管理菜单将会重新出现。</p>
</div>
<div id="add-user4" class="imageblock">
<div class="content">
<img src="../../../../images/books/handbook/install/adduser3.png" alt="adduser3"/>
</div>
<div class="title">图 53. 退出用户和组管理</div>
</div>
<div class="paragraph">
<p>如果有其他的需要， 此时还可以添加其他的组。 此外， 还可以通过 <code>sysinstall</code> 在安装完成之后添加它们。</p>
</div>
<div class="paragraph">
<p>当您完成添加用户的时候，选择<span class="guimenuitem">Exit</span> 然后键入<kbd>Enter</kbd> 继续下面的安装。</p>
</div>
</div>
<div class="sect2">
<h3 id="rootpass">10.13. 设置 <code>root</code> 密码<a class="anchor" href="#rootpass"></a></h3>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">                        Message
 Now you must <span class="nb">set </span>the system manager<span class="s1">&#39;s password.
 This is the password you&#39;</span>ll use to log <span class="k">in </span>as <span class="s2">&#34;root&#34;</span><span class="nb">.</span>

                         <span class="o">[</span> OK <span class="o">]</span>

               <span class="o">[</span> Press enter or space <span class="o">]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>键入 <kbd>Enter</kbd> 来设置 <code>root</code> 密码。</p>
</div>
<div class="paragraph">
<p>密码必须正确地输入两次。 毋庸讳言， 您需要选择一个不容易忘记的口令。 请注意您输入的口令不会回显， 也不会显示星号。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">New password:
Retype new password :</code></pre>
</div>
</div>
<div class="paragraph">
<p>密码成功键入后，安装将继续。</p>
</div>
</div>
<div class="sect2">
<h3 id="exit-inst">10.14. 退出安装<a class="anchor" href="#exit-inst"></a></h3>
<div class="paragraph">
<p>如果您需要设置 <a href="#network-services">其他网络设备</a>， 或需要完成其他的配置工作， 可以在此时或者事后通过 <code>sysinstall</code> 来进行配置。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">                     User Confirmation Requested
 Visit the general configuration menu <span class="k">for </span>a chance to <span class="nb">set </span>any last
 options?

                              Yes   <span class="o">[</span> No <span class="o">]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>选择 <b class="button">no</b> 然后键入 <kbd>Enter</kbd> 返回到主安装菜单。</p>
</div>
<div id="final-main" class="imageblock">
<div class="content">
<img src="../../../../images/books/handbook/install/mainexit.png" alt="mainexit"/>
</div>
<div class="title">图 54. 退出安装</div>
</div>
<div class="paragraph">
<p>选择 <b class="button">X Exit Install</b> 然后键入 <kbd>Enter</kbd>。您可能需要确认是否真的退出安装：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">                     User Confirmation Requested
 Are you sure you wish to <span class="nb">exit</span>? The system will reboot.

                            <span class="o">[</span> Yes <span class="o">]</span>   No</code></pre>
</div>
</div>
<div class="paragraph">
<p>选择 <b class="button">yes</b>。 如果您是从 CDROM 引导的系统， 则会出现下面的提示信息要求您取出光盘：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">                    Message
 Be sure to remove the media from the drive.

                    <span class="o">[</span> OK <span class="o">]</span>
           <span class="o">[</span> Press enter or space <span class="o">]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>在系统开始重启之前， CDROM 驱动器是锁住的。 CDROM 解锁后就可以取出光盘了 (动作要快)。 按 <b class="button">OK</b> 重启系统。</p>
</div>
<div class="paragraph">
<p>此后系统将重新启动， 因此请留意是否会出现一些错误信息。 进一步的细节， 请参见 <a href="#freebsdboot">FreeBSD 的启动过程</a>。</p>
</div>
</div>
<div class="sect2">
<h3 id="network-services">10.15. 配置其他网络服务<a class="anchor" href="#network-services"></a></h3>
<div class="paragraph">
<p>如果之前缺少这一领域的经验， 那么配置网络服务对于新手而言， 很可能会是一件很有挑战的事情。 网络， 包括 Internet， 对于包括 FreeBSD 在内的所有现代操作系统而言都至关重要。 因此， 首先对 FreeBSD 提供的丰富的网络性能加以了解会很有帮助。 在安装过程中了解这些知识， 能够确保用户更好地理解他们可以用到的各种服务。</p>
</div>
<div class="paragraph">
<p>网络服务是一些可以接收来自网络上任何地方的人所提交的输入信息的程序。 人们一直都在努力确保这些程序不会做任何 &#34;有害的&#34; 事情。 不幸的是， 程序员们并不是十全十美的完人，因此，网络服务程序中的漏洞， 便有可能被攻击者利用来做一些坏事。因而， 只启用那些您知道自己需要的服务就很重要了。如果存在疑问， 那么就最好不要在您发现需要它之前启动任何网络服务。 您可以事后通过再次运行 sysinstall 或直接手工配置 <span class="filename">/etc/rc.conf</span> 来随时启用这些服务。</p>
</div>
<div class="paragraph">
<p>选择 <b class="menuref">Networking</b> 选项将下显示一个类似下面的菜单：</p>
</div>
<div id="network-configuration" class="imageblock">
<div class="content">
<img src="../../../../images/books/handbook/install/net-config-menu1.png" alt="net config menu1"/>
</div>
<div class="title">图 55. 网络配置之上层配置</div>
</div>
<div class="paragraph">
<p>第一个选项， <span class="guimenuitem">Interfaces</span>， 已经在前面的 <a href="#inst-network-dev">配置网卡</a> 中做过配置， 因此现在可以略过它。</p>
</div>
<div class="paragraph">
<p>选择 <span class="guimenuitem">AMD</span> 选项， 将添加对于 BSD 自动挂接程序的支持。 这个程序通常会和 NFS 协议 (详情参见下文) 配合使用，以便自动挂载远程文件系统。 启用它不需要在此时进行特殊的额外配置。</p>
</div>
<div class="paragraph">
<p>下一行是 <span class="guimenuitem">AMD Flags</span> 的参数选项。 选择它之后，会弹出一个让您选择 AMD 参数的子菜单。 菜单中包含一系列的选项：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nt">-a</span> /.amd_mnt <span class="nt">-l</span> syslog /host /etc/amd.map /net /etc/amd.map</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>-a</code> 选项用来设置默认的挂接位置，这里使用的是 <span class="filename">/.amd_mnt</span>目录。<code>-l</code> 指定默认的 <span class="filename">日志</span> 文件； 但是，当使用 <code>syslogd</code> 时， 所有在日志中记录的活动， 都会发送到系统日志服务去。 <span class="filename">/host</span> 用来挂接远程主机上输出的文件系统，而 <span class="filename">/net</span> 目录则用来挂接从特定 IP 地址输出的文件系统。 <span class="filename">/etc/amd.map</span> 文件定义了用于 AMD 的默认输出选项。</p>
</div>
<div class="paragraph">
<p><span class="guimenuitem">Anon FTP</span> 允许匿名 FTP 访问。 选中这个选项， 可以使这台机器成为一台匿名 FTP 服务器。 要注意启用这个选项的安全风险。 系统将使用另外的菜单来说明安全风险和进一步的配置。</p>
</div>
<div class="paragraph">
<p><span class="guimenuitem">Gateway</span> 选项可以使将本机配置成为一台以前我们介绍过的网关。 如果您在安装过程中不小心选中了 <span class="guimenuitem">Gateway</span>， 也可以在这里用这个选项来取消。</p>
</div>
<div class="paragraph">
<p><span class="guimenuitem">Inetd</span> 选项用来配置或完全禁用前面讨论过的 man:inetd[8] 服务程序。</p>
</div>
<div class="paragraph">
<p><span class="guimenuitem">Mail</span> 用来配置系统默认的 MTA 或邮件传输代理。 选择这个选项将出现下面的菜单：</p>
</div>
<div id="mta-selection" class="imageblock">
<div class="content">
<img src="../../../../images/books/handbook/install/mta-main.png" alt="mta main"/>
</div>
<div class="title">图 56. 选择默认的 MTA</div>
</div>
<div class="paragraph">
<p>这里给您提供了一个安装MTA 并将其配置为默认值的机会。MTA 是一种能够将邮件头递给本系统或互联网上的用户的邮件服务。</p>
</div>
<div class="paragraph">
<p>选择 <span class="guimenuitem">Sendmail</span> 将会安装十分流行的 sendmail 服务， 这也是 FreeBSD 的默认配置。<span class="guimenuitem">Sendmail local</span> 选项表示将 sendmail 设为默认的 MTA，但禁止其从 Internet 上接收邮件的能力。 此外还有一些其他选项，<span class="guimenuitem">Postfix</span> 和 <span class="guimenuitem">Exim</span> 与 <span class="guimenuitem">Sendmail</span> 的功能类似。 它们两者也可以投递邮件； 不过， 有些用户会喜欢使用它们代替 sendmailMTA。</p>
</div>
<div class="paragraph">
<p>选择 MTA 或决定不挑选 MTA 之后， 网络配置菜单的下一项将是 <span class="guimenuitem">NFS client</span>。</p>
</div>
<div class="paragraph">
<p><span class="guimenuitem">NFS client</span> 客户端可以使系统通过 NFS 与服务器进行通信。 NFS 服务器通过 NFS 协议可以使其它在网络上的机器来访问自己的文件系统。 如果这台机器要作为一台独立的服务器，这个选项可以保留不选。 如果启用它， 您在之后还需要进行更多的其他配置； 请参见 crossref:network-servers[network-nfs,网络文件系统（NFS)] 以了解关于配置客户机和服务器的进一步详情。</p>
</div>
<div class="paragraph">
<p>接下来的 <span class="guimenuitem">NFS server</span> 选项， 可以让您将本机系统配置为 NFS 服务器。 这会自动将启动 RPC 远程过程调用的信息写入配置文件。 RPC 是一种在多个主机和程序之间进行连接组织的机制。</p>
</div>
<div class="paragraph">
<p>下一项是 <span class="guimenuitem">Ntpdate</span> 选项， 它能够处理时间同步。 当选择它后， 会出现一个像下面所似的菜单：</p>
</div>
<div id="Ntpdate-config" class="imageblock">
<div class="content">
<img src="../../../../images/books/handbook/install/ntp-config.png" alt="ntp config"/>
</div>
<div class="title">图 57. Ntpdate 配置</div>
</div>
<div class="paragraph">
<p>从这个菜单选择一个离您最近的服务器。 选择较近的服务器，有助于提高时间同步的精度， 因为较远的服务器的连接延迟可能会比较大。</p>
</div>
<div class="paragraph">
<p>下一个选项是 PCNFSD。 这个选项将安装第三方软件包 package:net/pcnfsd[]。 它可以用来为无法自行提供 NFS 认证服务的操作系统， 如微软的 MS-DOS® 提供服务。</p>
</div>
<div class="paragraph">
<p>滚屏到下一页看一下其它选项：</p>
</div>
<div id="Network-configuration-cont" class="imageblock">
<div class="content">
<img src="../../../../images/books/handbook/install/net-config-menu2.png" alt="net config menu2"/>
</div>
<div class="title">图 58. 网络配置之下层配置</div>
</div>
<div class="paragraph">
<p>man:rpcbind[8]， man:rpc.statd[8] 和 man:rpc.lockd[8] 这三个程序是用来提供远程过程调用 (RPC) 服务的。 <code>rpcbind</code> 程序管理 NFS 服务器和客户端的通信， 这是 NFS 正确工作的必要前提。rpc.statd 程序可以和其它主机上 rpc.statd 程序交互， 以提供状态监控。这些状态报告默认情况下会保存到 <span class="filename">/var/db/statd.status</span> 文件中。 最后的一项是 <span class="guimenuitem">rpc.lockd</span> 选项， 如果启用，则将提供文件上锁服务。通常将它和 rpc.statd 联用， 以监视哪些主机会请求对文件执行上锁操作， 以及这种操作的频繁程度。 尽管后两项功能对于调试非常有用， 但它们并不是 NFS 服务器和客户端正常运行所必需的。</p>
</div>
<div class="paragraph">
<p>下一个项目是<span class="guimenuitem">Routed</span>，这是一个路由程序。 man:routed[8] 程序管理网络路由表，发现多播路由， 并且支持在网络上与它物理相连的主机来复制它的路由表的请求。 它被广泛地应用在本地网络中并扮演着网关的角色。 当选择它后，一个子菜单会来询问您这个程序的默认位置。 默认的位置已经被定义过， 您可以选择 <kbd>Enter</kbd> 键， 也可以按下其它的键。 这时会出来另一个菜单来询问您传递给 <code>routed</code>程序的参数。 默认的是 <code>-q</code> 参数。</p>
</div>
<div class="paragraph">
<p>接下来是 <span class="guimenuitem">Rwhod</span> 选项， 选中它会启用 man:rwhod[8] 程序在系统初时化的时候。 <code>rwhod</code>程序通过网络周期性的广播系统 信息或以&#34;客户&#34;的身份来收集这些信息。 更多的信息可以查看 man:ruptime[1] 和 man:rwho[1] 手册页。</p>
</div>
<div class="paragraph">
<p>倒数第二个选项是man:sshd[8] 程序。它可以通过使用 OpenSSH 来提供安全的shell服务， 我们推荐通过使用它来使用 telnet 和 FTP 服务。 sshd 服务通过使用加密技术来创建从一台机器到另一台机器的安全连接。</p>
</div>
<div class="paragraph">
<p>最后有一个 <span class="guimenuitem">TCP</span> 扩展选项。 这可以用来扩展在 RFC 1323 和 RFC 1644 里定义的 TCP 功能。当许多主机以高速连接本机时，可能会引起某些连接被丢弃。 我们不推荐使用这个选项， 但是当使用独立的主机时可以从它上面得到一些好处。</p>
</div>
<div class="paragraph">
<p>现在您已经配置完成了网络服务， 您可以滚动屏幕到顶部选择 <span class="guimenuitem">X Exit</span> 项， 退出进入下一个配置部分， 或简单地选择两次 <span class="guimenuitem">X Exit</span> 之后选择 <b class="button">X Exit Install</b> 来退出 sysinstall。</p>
</div>
</div>
<div class="sect2">
<h3 id="freebsdboot">10.16. FreeBSD 的启动过程<a class="anchor" href="#freebsdboot"></a></h3>
<div class="sect3">
<h4 id="freebsdboot-i386">10.16.1. FreeBSD/i386 的启动过程<a class="anchor" href="#freebsdboot-i386"></a></h4>
<div class="paragraph">
<p>如果启动正常，您将看到在屏幕上有很多信息滚动， 最后您会看到登录命令行。您可以通过键入 <kbd>Scroll-Lock</kbd>和使用 <kbd>PgUp</kbd> 与 <kbd>PgDn</kbd>来查看信息，再键入 <kbd>Scroll-Lock</kbd> 回到命令行。</p>
</div>
<div class="paragraph">
<p>记录信息可能不会显示（缓冲区的限制）。您可以通过键入 <code>dmesg</code> 来查看。</p>
</div>
<div class="paragraph">
<p>使用您在安装过程中设置的用户名/密码来登录。（例子中使用 <code>rpratt</code>）。除非必须的时候请不要用 <code>root</code> 用户登录。</p>
</div>
<div class="paragraph">
<p>典型的启动信息：（忽略版本信息）</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">Copyright <span class="o">(</span>c<span class="o">)</span> 1992-2002 The FreeBSD Project.
Copyright <span class="o">(</span>c<span class="o">)</span> 1979, 1980, 1983, 1986, 1988, 1989, 1991, 1992, 1993, 1994
        The Regents of the University of California. All rights reserved.

Timecounter <span class="s2">&#34;i8254&#34;</span>  frequency 1193182 Hz
CPU: AMD-K6<span class="o">(</span>tm<span class="o">)</span> 3D processor <span class="o">(</span>300.68-MHz 586-class CPU<span class="o">)</span>
  Origin <span class="o">=</span> <span class="s2">&#34;AuthenticAMD&#34;</span>  Id <span class="o">=</span> 0x580  Stepping <span class="o">=</span> 0
  <span class="nv">Features</span><span class="o">=</span>0x8001bf&lt;FPU,VME,DE,PSE,TSC,MSR,MCE,CX8,MMX&gt;
  AMD <span class="nv">Features</span><span class="o">=</span>0x80000800&lt;SYSCALL,3DNow!&gt;
real memory  <span class="o">=</span> 268435456 <span class="o">(</span>262144K bytes<span class="o">)</span>
config&gt; di sn0
config&gt; di lnc0
config&gt; di le0
config&gt; di ie0
config&gt; di fe0
config&gt; di cs0
config&gt; di bt0
config&gt; di aic0
config&gt; di aha0
config&gt; di adv0
config&gt; q
avail memory <span class="o">=</span> 256311296 <span class="o">(</span>250304K bytes<span class="o">)</span>
Preloaded elf kernel <span class="s2">&#34;kernel&#34;</span> at 0xc0491000.
Preloaded userconfig_script <span class="s2">&#34;/boot/kernel.conf&#34;</span> at 0xc049109c.
md0: Malloc disk
Using <span class="nv">$PIR</span> table, 4 entries at 0xc00fde60
npx0: &lt;math processor&gt; on motherboard
npx0: INT 16 interface
pcib0: &lt;Host to PCI bridge&gt; on motherboard
pci0: &lt;PCI bus&gt; on pcib0
pcib1: &lt;VIA 82C598MVP <span class="o">(</span>Apollo MVP3<span class="o">)</span> PCI-PCI <span class="o">(</span>AGP<span class="o">)</span> bridge&gt; at device 1.0 on pci0
pci1: &lt;PCI bus&gt; on pcib1
pci1: &lt;Matrox MGA G200 AGP graphics accelerator&gt; at 0.0 irq 11
isab0: &lt;VIA 82C586 PCI-ISA bridge&gt; at device 7.0 on pci0
isa0: &lt;ISA bus&gt; on isab0
atapci0: &lt;VIA 82C586 ATA33 controller&gt; port 0xe000-0xe00f at device 7.1 on pci0
ata0: at 0x1f0 irq 14 on atapci0
ata1: at 0x170 irq 15 on atapci0
uhci0: &lt;VIA 83C572 USB controller&gt; port 0xe400-0xe41f irq 10 at device 7.2 on pci0
usb0: &lt;VIA 83C572 USB controller&gt; on uhci0
usb0: USB revision 1.0
uhub0: VIA UHCI root hub, class 9/0, rev 1.00/1.00, addr 1
uhub0: 2 ports with 2 removable, self powered
chip1: &lt;VIA 82C586B ACPI interface&gt; at device 7.3 on pci0
ed0: &lt;NE2000 PCI Ethernet <span class="o">(</span>RealTek 8029<span class="o">)&gt;</span> port 0xe800-0xe81f irq 9 at
device 10.0 on pci0
ed0: address 52:54:05:de:73:1b, <span class="nb">type </span>NE2000 <span class="o">(</span>16 bit<span class="o">)</span>
isa0: too many dependant configs <span class="o">(</span>8<span class="o">)</span>
isa0: unexpected small tag 14
fdc0: &lt;NEC 72065B or clone&gt; at port 0x3f0-0x3f5,0x3f7 irq 6 drq 2 on isa0
fdc0: FIFO enabled, 8 bytes threshold
fd0: &lt;1440-KB 3.5<span class="s2">&#34; drive&gt; on fdc0 drive 0
atkbdc0: &lt;keyboard controller (i8042)&gt; at port 0x60-0x64 on isa0
atkbd0: &lt;AT Keyboard&gt; flags 0x1 irq 1 on atkbdc0
kbd0 at atkbd0
psm0: &lt;PS/2 Mouse&gt; irq 12 on atkbdc0
psm0: model Generic PS/2 mouse, device ID 0
vga0: &lt;Generic ISA VGA&gt; at port 0x3c0-0x3df iomem 0xa0000-0xbffff on isa0
sc0: &lt;System console&gt; at flags 0x1 on isa0
sc0: VGA &lt;16 virtual consoles, flags=0x300&gt;
sio0 at port 0x3f8-0x3ff irq 4 flags 0x10 on isa0
sio0: type 16550A
sio1 at port 0x2f8-0x2ff irq 3 on isa0
sio1: type 16550A
ppc0: &lt;Parallel port&gt; at port 0x378-0x37f irq 7 on isa0
ppc0: SMC-like chipset (ECP/EPP/PS2/NIBBLE) in COMPATIBLE mode
ppc0: FIFO with 16/16/15 bytes threshold
ppbus0: IEEE1284 device found /NIBBLE
Probing for PnP devices on ppbus0:
plip0: &lt;PLIP network interface&gt; on ppbus0
lpt0: &lt;Printer&gt; on ppbus0
lpt0: Interrupt-driven port
ppi0: &lt;Parallel I/O&gt; on ppbus0
ad0: 8063MB &lt;IBM-DHEA-38451&gt; [16383/16/63] at ata0-master using UDMA33
ad2: 8063MB &lt;IBM-DHEA-38451&gt; [16383/16/63] at ata1-master using UDMA33
acd0: CDROM &lt;DELTA OTC-H101/ST3 F/W by OIPD&gt; at ata0-slave using PIO4
Mounting root from ufs:/dev/ad0s1a
swapon: adding /dev/ad0s1b as swap device
Automatic boot in progress...
/dev/ad0s1a: FILESYSTEM CLEAN; SKIPPING CHECKS
/dev/ad0s1a: clean, 48752 free (552 frags, 6025 blocks, 0.9% fragmentation)
/dev/ad0s1f: FILESYSTEM CLEAN; SKIPPING CHECKS
/dev/ad0s1f: clean, 128997 free (21 frags, 16122 blocks, 0.0% fragmentation)
/dev/ad0s1g: FILESYSTEM CLEAN; SKIPPING CHECKS
/dev/ad0s1g: clean, 3036299 free (43175 frags, 374073 blocks, 1.3% fragmentation)
/dev/ad0s1e: filesystem CLEAN; SKIPPING CHECKS
/dev/ad0s1e: clean, 128193 free (17 frags, 16022 blocks, 0.0% fragmentation)
Doing initial network setup: hostname.
ed0: flags=8843&lt;UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST&gt; mtu 1500
        inet 192.168.0.1 netmask 0xffffff00 broadcast 192.168.0.255
        inet6 fe80::5054::5ff::fede:731b%ed0 prefixlen 64 tentative scopeid 0x1
        ether 52:54:05:de:73:1b
lo0: flags=8049&lt;UP,LOOPBACK,RUNNING,MULTICAST&gt; mtu 16384
        inet6 fe80::1%lo0 prefixlen 64 scopeid 0x8
        inet6 ::1 prefixlen 128
        inet 127.0.0.1 netmask 0xff000000
Additional routing options: IP gateway=YES TCP keepalive=YES
routing daemons:.
additional daemons: syslogd.
Doing additional network setup:.
Starting final network daemons: creating ssh RSA host key
Generating public/private rsa1 key pair.
Your identification has been saved in /etc/ssh/ssh_host_key.
Your public key has been saved in /etc/ssh/ssh_host_key.pub.
The key fingerprint is:
cd:76:89:16:69:0e:d0:6e:f8:66:d0:07:26:3c:7e:2d root@k6-2.example.com
 creating ssh DSA host key
Generating public/private dsa key pair.
Your identification has been saved in /etc/ssh/ssh_host_dsa_key.
Your public key has been saved in /etc/ssh/ssh_host_dsa_key.pub.
The key fingerprint is:
f9:a1:a9:47:c4:ad:f9:8d:52:b8:b8:ff:8c:ad:2d:e6 root@k6-2.example.com.
setting ELF ldconfig path: /usr/lib /usr/lib/compat /usr/X11R6/lib
/usr/local/lib
a.out ldconfig path: /usr/lib/aout /usr/lib/compat/aout /usr/X11R6/lib/aout
starting standard daemons: inetd cron sshd usbd sendmail.
Initial rc.i386 initialization:.
rc.i386 configuring syscons: blank_time screensaver moused.
Additional ABI support: linux.
Local package initialization:.
Additional TCP options:.

FreeBSD/i386 (k6-2.example.com) (ttyv0)

login: rpratt
Password:</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>生成 RSA 和 DSA密钥在比较慢的机器上可能要花很长时间。这只是一个 新安装后的首次启动，以后的启动会变得更快一点。</p>
</div>
<div class="paragraph">
<p>如果已经完成 X 服务器的配置， 且指定了默认的桌面窗口管理器， 就可以在命令行键入 <code>startx</code> 来启动它了。</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="shutdown">10.17. FreeBSD 关机<a class="anchor" href="#shutdown"></a></h3>
<div class="paragraph">
<p>正确的关闭操作系统是很重要的。不要仅仅关闭电源。 首先，您需要成为一个超级用户，通过键入 <code>su</code> 命令来实现。然后输入 <code>root</code> 密码。这需要用户是 <code>wheel</code> 组的一名成员。然后， 以<code>root</code>键入 <code>shutdown -h now</code>命令。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">The operating system has halted.
Please press any key to reboot.</code></pre>
</div>
</div>
<div class="paragraph">
<p>当shutdown命令发出后，屏幕上出现 &#34;Please press any key to reboot&#34; 信息时，您就可以安全的关闭计算机了。如果按下任意一个键， 计算机将重新启动。</p>
</div>
<div class="paragraph">
<p>您也能够使用 <span class="keyseq"><kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>Del</kbd></span> 组合键来重新启动计算机，但是不推荐使用这个操作。</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="install-trouble">11. 常见问题<a class="anchor" href="#install-trouble"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>下面将介绍一些在安装过程中常见的问题，像如何报告发生的问题， 如何双重启动 FreeBSD 和 MS-DOS® 或 Windows®。</p>
</div>
<div class="sect2">
<h3 id="_当您遇到错误时应该怎么做">11.1. 当您遇到错误时，应该怎么做？<a class="anchor" href="#_当您遇到错误时应该怎么做"></a></h3>
<div class="paragraph">
<p>由于 PC 结构的限制， 硬件检测不可能 100% 地可靠， 但是有些问题是您可以自己解决的。</p>
</div>
<div class="paragraph">
<p>首先检查一下您使用的 FreeBSD 版本的 <a href="http://www.FreeBSD.org/releases/">硬件兼容说明 </a> 文档看看您使用的是否是被支持的硬件。</p>
</div>
<div class="paragraph">
<p>如果您使用的硬件是系统支持的，但仍然遇到了死机或其他问题， 则需要联编 crossref:kernelconfig[kernelconfig,定制的内核]。 这能够支持默认的 <span class="filename">GENERIC</span> 内核所不支持的设备。 在引导盘上的内核假定绝大多数的硬件，均为按出厂设置的方式配置了 IRQ、 IO 地址和 DMA 通道。 如果您的硬件重新进行了配置， 则可能需要编辑内核配置， 并重新编译内核， 以便告诉 FreeBSD 到哪里去查找设备。</p>
</div>
<div class="paragraph">
<p>除此之外，也可能遇到这种情况吗，即探测某种并不存在的设备时， 会干扰到其他设备的检测并使其失败。 这种情况吗下应禁止驱动程序检测可能导致冲突的设备。</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>有些安装问题可以借助更新硬件的程序来解决，特别是主板的 BIOS 。 大部分的主板制造商都会提供网站给用户下载新的 BIOS 以及提供如何更新的说明。</p>
</div>
<div class="paragraph">
<p>也有许多制造商强烈建议，除非必要否则不要轻易更新 BIOS 。因为更新的过程 <em>可能</em> 会发生问题，进而损害 BIOS 芯片。</p>
</div>
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect2">
<h3 id="_使用_ms_dos_和_windows_文件系统">11.2. 使用 MS-DOS® 和 Windows® 文件系统<a class="anchor" href="#_使用_ms_dos_和_windows_文件系统"></a></h3>
<div class="paragraph">
<p>目前， FreeBSD 尚不支持通过 Double Space™ 程序压缩的文件系统。 因此，如果希望 FreeBSD 访问数据， 则应首先解压缩这些文件系统。 这项工作，可以通过位于 <span class="guimenuitem">Start</span>&gt; <span class="guimenuitem">Programs</span> &gt; <span class="guimenuitem">System Tools</span> 菜单的 Compression Agent 来完成。</p>
</div>
<div class="paragraph">
<p>FreeBSD 可以支持基于 MS-DOS® 的文件系统 （有时被称为 FAT 文件系统）。 man:mount_msdosfs[8] 命令能够把这样的文件系统挂接到现有的目录结构中， 并允许访问 FAT 文件系统上的内容。 通常我们并不直接使用 man:mount_msdosfs[8] 程序，它一般会在 <span class="filename">/etc/fstab</span> 中的某一行被调用或者被 man:mount[8] 工具并配合适当的参数来调用。</p>
</div>
<div class="paragraph">
<p><span class="filename">/etc/fstab</span>中一个典型的例子：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>/dev/ad0sN  /dos  msdosfs rw  0	0</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p><span class="filename">/dos</span> 目录必须事先存在。 更多关于 <span class="filename">/etc/fstab</span> 的细节， 请参阅 man:fstab[5]。</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>一个使用 man:mount[8] 挂载 MS-DOS® 文件系统的例子：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># mount -t msdosfs /dev/ad0s1 /mnt</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>在此例子中， MS-DOS® 文件系统位于主硬盘的第一个分区。 您的情况可能与引不同，查看命令 <code>dmesg</code> 和 <code>mount</code> 的输出。 它们应该可以让您得到足够的分区信息。</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>FreeBSD 可能使用和其他操作系统不同计数方法来标记磁盘 slices， 特别需要指出的是， MS-DOS® 的扩展分区通常会比 MS-DOS® 主分区被标记为更高的数值。 可以使用 man:fdisk[8] 工具来帮助测定哪些 slices 属于 FreeBSD 哪些是属于其他的操作系统。</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>NTFS 分区也可以通过类似 man:mount_ntfs[8] 命令挂接在FreeBSD上。</p>
</div>
</div>
<div class="sect2">
<h3 id="_排除故障时的常见问题和解决方法">11.3. 排除故障时的常见问题和解决方法<a class="anchor" href="#_排除故障时的常见问题和解决方法"></a></h3>
<div class="sect3">
<h4 id="_我的系统在引导到探测硬件时发生了死机_安装过程中行为异常_或没有检测到软驱">11.3.1. 我的系统在引导到探测硬件时发生了死机、 安装过程中行为异常， 或没有检测到软驱。<a class="anchor" href="#_我的系统在引导到探测硬件时发生了死机_安装过程中行为异常_或没有检测到软驱"></a></h4>
<div class="paragraph">
<p>FreeBSD 在启动过程中广泛使用了 i386、 amd64 及 ia64 平台提供的 ACPI 服务来检测系统配置。 不幸的是， 在 ACPI 驱动和主板 BIOS 中存在一些 bug。 如果遇到这种情况， 可以在系统引导时禁用 ACPI， 其方法是在第三阶段引导加载器时使用 hint <code>hint.acpi.0.disabled</code>：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"> <span class="nb">set </span>hint.acpi.0.disabled<span class="o">=</span><span class="s2">&#34;1&#34;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>这一设置会在系统重启之后失效，因此，如果需要的话，您应在 <span class="filename">/boot/loader.conf</span> 文件中增加 <code>hint.acpi.0.disabled=&#34;1&#34;</code>。 关于引导加载器的进一步详情， 请参见 crossref:boot[boot-synopsis,概述]。</p>
</div>
</div>
<div class="sect3">
<h4 id="_在硬盘安装_freebsd_之后的首次启动时_内核加载并检测了硬件_但给出下列消息并停止运行">11.3.2. 在硬盘安装 FreeBSD 之后的首次启动时， 内核加载并检测了硬件， 但给出下列消息并停止运行：<a class="anchor" href="#_在硬盘安装_freebsd_之后的首次启动时_内核加载并检测了硬件_但给出下列消息并停止运行"></a></h4>
<div class="paragraph">
<p>系统在处理引导盘非系统中的第一块盘时有一个由来已久的问题。 BIOS 采用的编号方式有时和 FreeBSD 不一致， 而设法将其变为一样则很难正确地实现。</p>
</div>
<div class="paragraph">
<p>因而， 在发生这种情况时，FreeBSD 可能会需要一些帮助才能找到磁盘。有两种常见的情况， 在这些情况下您都需要手工告诉 FreeBSD 根文件系统模块的位置。 这是通过告诉引导加载器 BIOS 磁盘编号、磁盘类型以及 FreeBSD 中的该种磁盘的编号来实现的。</p>
</div>
<div class="paragraph">
<p>第一种情况是有两块 IDE 硬盘， 分别配置为对应 IDE 总线上的主 (master) 设备， 并希望 FreeBSD 从第二块硬盘上启动。 BIOS 将两块硬盘识别为磁盘 0 和磁盘 1， 而 FreeBSD 则将其分别叫做 <span class="filename">ad0</span> 和 <span class="filename">ad2</span>。</p>
</div>
<div class="paragraph">
<p>FreeBSD 位于 BIOS 磁盘 1， 其类型是 <code>ad</code> 而 FreeBSD 磁盘编号则是 2， 因此， 您应输入：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"> 1:ad<span class="o">(</span>2,a<span class="o">)</span>kernel</code></pre>
</div>
</div>
<div class="paragraph">
<p>注意， 如果您的主总线上有从设备， 则这一配置是不必要的 (因为这样配置是错的)。</p>
</div>
<div class="paragraph">
<p>第二种情况是从 SCSI 磁盘启动，但系统中安装了一个或多个 IDE 硬盘。这时，FreeBSD 磁盘编号会比 BIOS 磁盘编号小。如果您有两块 IDE 硬盘， 以及一块 SCSI 硬盘，则 SCSI 硬盘将会是 BIOS 磁盘 2， 类型为 <code>da</code> 而 FreeBSD 磁盘编号是 0， 因此， 您应输入：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"> 2:da<span class="o">(</span>0,a<span class="o">)</span>kernel</code></pre>
</div>
</div>
<div class="paragraph">
<p>来告诉 FreeBSD 您希望从 BIOS 磁盘 2 引导， 而它是系统中的第一块 SCSI 硬盘。 假如只有一块 IDE 硬盘， 则应以 <code>1:</code> 代替。</p>
</div>
<div class="paragraph">
<p>一旦您确定了应选用的正确配置， 就可以用标准的文本编辑器把它写到 <span class="filename">/boot.config</span> 文件中了。 除非另行指定， FreeBSD 将使用这个文件的内容， 作为对 <code>boot:</code> 提示的默认回应。</p>
</div>
</div>
<div class="sect3">
<h4 id="_在硬盘安装_freebsd_之后的首次启动时_boot_manager_只是给出了_f_的菜单提示_但并不继续引导过程">11.3.3. 在硬盘安装 FreeBSD 之后的首次启动时， Boot Manager 只是给出了 F? 的菜单提示， 但并不继续引导过程。<a class="anchor" href="#_在硬盘安装_freebsd_之后的首次启动时_boot_manager_只是给出了_f_的菜单提示_但并不继续引导过程"></a></h4>
<div class="paragraph">
<p>在您安装 FreeBSD 进行到分区编辑器时所设置的磁盘尺寸信息不对。 请回到分区编辑器并指定正确的磁盘尺寸。 这种情况必须重新安装 FreeBSD。</p>
</div>
<div class="paragraph">
<p>如果您无法确定在您机器上的正确尺寸信息，可以用一个小技巧： 在磁盘开始的地方安装一个小的 DOS 分区， 并在其后安装 FreeBSD。 安装程序能够看到这个 DOS 分区， 并利用它推测磁盘的尺寸信息， 这通常会有所帮助。</p>
</div>
<div class="paragraph">
<p>下面的技巧不再推荐使用， 在这里仅供参考：</p>
</div>
<div class="paragraph blockquote">
<p>如果您正准备建立只运行 FreeBSD 的服务器或工作站， 而无需考虑 (之后) 与 DOS、 Linux 或其他操作系统的兼容性， 也可以使用整个硬盘 (分区编辑器中的 <span class="guimenuitem">A</span>)， 选择 FreeBSD 独占整个硬盘每一个扇区的非标准选项。 这会扫除关于磁盘尺寸的一切烦恼， 但会限制您以后运行 FreeBSD 以外的其他操作系统的能力。</p>
</div>
</div>
<div class="sect3">
<h4 id="_系统找到了_maned4_网卡_但总是报设备超时_device_timeout_错误">11.3.4. 系统找到了 man:ed[4] 网卡， 但总是报设备超时 (device timeout) 错误。<a class="anchor" href="#_系统找到了_maned4_网卡_但总是报设备超时_device_timeout_错误"></a></h4>
<div class="paragraph">
<p>您的网卡可能使用了与 <span class="filename">/boot/device.hints</span> 文件中指定的 IRQ 不同的中断请求号。 man:ed[4] 驱动默认情况下并不支持 &#34;软&#34; 配置 (在 DOS 中使用 EZSETUP 配置的值)， 但如果您在网卡的 hints 中指定 <code>-1</code>， 便会使用软配置。</p>
</div>
<div class="paragraph">
<p>您应使用网卡的跳线进行硬配置 (根据需要修改内核设置) 或通过 hint <code>hint.ed.0.irq=&#34;-1&#34;</code> 将 IRQ 指定为 <code>-1</code>。 这会告诉内核使用软配置。</p>
</div>
<div class="paragraph">
<p>另一个可能是您的网卡使用 IRQ 9， 这会与 IRQ 2 共用同一中断请求线， 同时也是导致问题的一个常见原因 (特别是 VGA 卡使用 IRQ 2 的时候！)。 您应尽量避免使用 IRQ 2 或 9。</p>
</div>
</div>
<div class="sect3">
<h4 id="_当在_x11_终端中运行_sysinstall_的时候_黄色的字体相对于浅灰色的背景变得难以阅读_有没有什么能让这个应用程序提供高对比度的方法_colorcontrast">11.3.5. 当在 X11 终端中运行 sysinstall 的时候， 黄色的字体相对于浅灰色的背景变得难以阅读。 有没有什么能让这个应用程序提供高对比度的方法？ colorcontrast<a class="anchor" href="#_当在_x11_终端中运行_sysinstall_的时候_黄色的字体相对于浅灰色的背景变得难以阅读_有没有什么能让这个应用程序提供高对比度的方法_colorcontrast"></a></h4>
<div class="paragraph">
<p>如果你已经安装了 X11 并且 sysinstall 在 man:xterm[1] 或者 man:rxvt[1] 中默认的颜色使得文字难以辩认， 可以在你的 <span class="filename">~.Xdefaults</span> 中加入 <code>XTerm*color7: #c0c0c0</code> 获得深灰色的背景。</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="install-advanced">12. 高级安装指南<a class="anchor" href="#install-advanced"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>这节主要描述在一些特殊情况下如何安装FreeBSD。</p>
</div>
<div class="sect2">
<h3 id="headless-install">12.1. 在一个没有显示器或键盘的系统上安装FreeBSD<a class="anchor" href="#headless-install"></a></h3>
<div class="paragraph">
<p>这种类型的安装叫做 &#34;headless install（无头安装）&#34;， 因您正要安装FreeBSD的机器不是没带显示器，就是没有显卡。 您可能会问那怎么安装？ 可以使用一个串行控制台。 串行控制台基本上是使用另外一台机器来充当主显示设备和键盘。 要这样做，只要执行下面的步骤： 创建安装 USB 记忆棒，请看 <a href="#install-boot-media">准备引导介质</a>一节说明； 此外， 也可下载 ISO 映像文件， 具体请参阅 <a href="#install-cdrom">创建一张安装光盘</a>。</p>
</div>
<div class="paragraph">
<p>要将安装介质改为使用串口控制台， 需要按下面这些步骤来操作 (如果使用 CDROM 则可跳过第一步)：</p>
</div>
<div class="exampleblock procedure">
<div class="content">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>令安装 USB 记忆棒引导并进入串口控制台</p>
<div class="paragraph">
<p>如果使用刚刚制作的 USB 记忆棒引导系统， 则 FreeBSD 会进入正常的安装模式。 我们希望引导到串口控制台来完成安装。 为了做到这一点， 需要在 FreeBSD 中使用 man:mount[8] 挂载 USB 盘。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># mount /dev/da0a /mnt</span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>您需要根据实际情况修改挂点的名称。</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>现在挂好了记忆棒， 您需要对其进行配置令其进入串口控制台。 为此， 需要在 USB 记忆棒中的 <span class="filename">loader.conf</span> 文件中加入下面的这行配置：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># echo &#39;console=&#34;comconsole&#34;&#39; &gt;&gt; /mnt/boot/loader.conf</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>这样就完成了对 USB 记忆棒的配置， 您应使用 man:umount[8] 命令将其卸下：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># umount /mnt</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>现在就可以拔下 USB 记忆棒并进入这一过程的第三步了。</p>
</div>
</li>
<li>
<p>令安装 CD 引导并进入串口控制台</p>
<div class="paragraph">
<p>如果您直接使用 ISO 映像 (see <a href="#install-cdrom">创建一张安装光盘</a>) 制作的 CD 引导， 则 FreeBSD 会引导进入正常的安装模式。 我们希望引导到串口控制台来完成安装。 为了做到这一点， 您需要展开、 修改并重新生成 ISO 文件， 然后再刻录光盘。</p>
</div>
<div class="paragraph">
<p>在保存例如 <span class="filename">FreeBSD-8.1-RELEASE-i386-disc1.iso</span> ISO 的 FreeBSD 系统上用 man:tar[1] 工具提取全部文件：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># mkdir /path/to/headless-iso</span>
<span class="c"># tar -C /path/to/headless-iso -pxvf FreeBSD-8.1-RELEASE-i386-disc1.iso</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>接下来需要对其进行配置令其进入串口控制台。 为此， 需要在从 ISO 映像中提取的 <span class="filename">loader.conf</span> 文件中加入下面的这行配置：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># echo &#39;console=&#34;comconsole&#34;&#39; &gt;&gt; /path/to/headless-iso/boot/loader.conf</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>最后， 从修改好的目录树中创建新的 ISO 映像。 这里我们使用通过 package:sysutils/cdrtools[] port 安装的 man:mkisofs[8] 工具来完成：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># mkisofs -v -b boot/cdboot -no-emul-boot -r -J -V &#34;Headless_install&#34; \</span>
	    <span class="nt">-o</span> Headless-FreeBSD-8.1-RELEASE-i386-disc1.iso /path/to/headless-iso</code></pre>
</div>
</div>
<div class="paragraph">
<p>这样就完成了对 ISO 映像的配置， 您可以使用您熟悉的工具将其刻录到 CD-R 上了。</p>
</div>
</li>
<li>
<p>连接 Null-modem 线</p>
<div class="paragraph">
<p>现在需要一根 crossref:serialcomms[term-cables-null,null-modem 线] 来连接两台机器。 只要连接两台机器的串口。 <em>这里不能使用普通的串口线</em>， 而必须使用 null-modem 线， 因为它需要一些内部交叉的连线。</p>
</div>
</li>
<li>
<p>开始启动安装</p>
<div class="paragraph">
<p>现在可以开始安装了。 将 USB 记忆棒插到您准备进行 headless 安装的机器上， 然后开机。 如果您使用的是 CDROM， 则在开机之后立即将光盘放进光驱。</p>
</div>
</li>
<li>
<p>连接您的无头机器</p>
<div class="paragraph">
<p>现在您已经通过man:cu[1]连接到了那台机器。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># cu -l /dev/cuau0</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>在 FreeBSD 7.X 上应使用下面的命令：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># cu -l /dev/cuad0</span></code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="paragraph">
<p>这样就可以了！ 您现在可以通过 <code>cu</code> 会话来控制那台 headless 的机器了。 接着系统会提示选择终端类型。 选择 FreeBSD 彩色控制台并继续安装！</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="install-diff-media">13. 准备您自己的安装介质<a class="anchor" href="#install-diff-media"></a></h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>为了避免重复 &#34;FreeBSD disc&#34; 在这里指 FreeBSD CDROM or DVD 那即意味着您要购买或自己制做。</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>有好几个原因需要您创建自己的FreeBSD安装介质。 这可能是物理介质，如磁带，使用 sysinstall 程序找到的安装文件， FTP 站点或 MS-DOS®分区。</p>
</div>
<div class="paragraph">
<p>例如：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>您有许多机器连接到本地网络，使用一个FreeBSD光盘。 您要使用FreeBSD来创建一个本地FTP站点， 然后使用这个FTP站点来代替连接到Internet。</p>
</li>
<li>
<p>您有一张 FreeBSD 光盘， FreeBSD 不支持您的 CD/DVD 驱动器， 但 MS-DOS®/Windows® 支持。 您要复制安装文件到一个DOS分区， 然后使用这些文件进行安装。</p>
</li>
<li>
<p>您要安装的计算机没有 CD/DVD驱动器和网卡，但您可以连接一个 &#34;Laplink-style&#34; 串口或并口线缆到那台计算机。</p>
</li>
<li>
<p>您要通过一个磁带机来安装FreeBSD.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="install-cdrom">13.1. 创建一张安装光盘<a class="anchor" href="#install-cdrom"></a></h3>
<div class="paragraph">
<p>FreeBSD 的每个发行版本都为每一支持的平台提供至少两张 CDROM 映像 (&#34;ISO images&#34;)。如果您有刻录机， 这些映像文件可以被(&#34;burned&#34;) 成FreeBSD的安装光盘。 如果没有刻录机，而上网带宽却很便宜，它也是一种很好的安装方式。</p>
</div>
<div class="exampleblock procedure">
<div class="content">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>下载正确的 ISO 映像文件</p>
<div class="paragraph">
<p>每个版本的ISO映像文件都可以从 <span class="filename"><a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/ISO-IMAGES-架构名/版本" class="bare">ftp://ftp.FreeBSD.org/pub/FreeBSD/ISO-IMAGES-架构名/版本</a></span> 或最近的镜像站点下载。选择合适的 <em>架构</em> 和 <em>版本</em> 。</p>
</div>
<div class="paragraph">
<p>目录中包含下面一些映像文件：</p>
</div>
<table class="tableblock frame-none grid-all stretch">
<caption class="title">表 4. FreeBSD 7.<em>X</em> 和 8.<em>X</em> ISO 映像文件名和含义</caption>
<colgroup>
<col style="width: 50%;"/>
<col style="width: 50%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">文件名</th>
<th class="tableblock halign-left valign-top">包含内容</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="filename">FreeBSD-版本-RELEASE-架构-bootonly.iso</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">这个 CD 映像可以让您从光驱启动并进入安装过程， 但它并不提供用于支持从 CD 直接安装 FreeBSD 所需的文件。 在从 CD 引导之后， 您需要通过网络 (例如从 FTP 服务器) 来完成安装。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="filename">FreeBSD-版本-RELEASE-架构-dvd1.iso.gz</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">这个 DVD 映像包括用于安装 FreeBSD 操作系统基本组件、 预编译包和文档所需的全部文件。 它也支持引导进入基于 &#34;livefs&#34; 的修复模式。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="filename">FreeBSD-版本-RELEASE-架构-memstick.img</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">这个映像可以写进 USB 记忆棒， 用于引导系统并完成安装。 它也支持引导进入基于 &#34;livefs&#34; 的修复模式。 这个版本的映像中包含了文档所需要的全部文件， 但不提供其他包。 FreeBSD 7.3 和更早版本中没有这个文件。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="filename">FreeBSD-版本-RELEASE-架构-disc1.iso</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">这个 CD 映像包含了 FreeBSD 操作系统的基本组件和文档包， 但不包括其它包。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="filename">FreeBSD-版本-RELEASE-架构-disc2.iso</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">这个 CD 映像包含了能填满光盘的尽可能多的第三方软件包。 在 FreeBSD 8.0 和更高版本中不提供这个映像。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="filename">FreeBSD-版本-RELEASE-架构-disc3.iso</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">另一个包含了能填满光盘的尽可能多的第三方软件包的 CD 映像。 在 FreeBSD 8.0 和更高版本中不提供这个映像。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="filename">版本-RELEASE-架构-docs.iso</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FreeBSD 文档。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="filename">FreeBSD-版本-RELEASE-架构-livefs.iso</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">这个 CD 映像包含了用以支持引导进入基于 &#34;livefs&#34; 的修复模式， 但不包括直接从 CD 安装所需的文件。</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>FreeBSD 7.X 系列在 FreeBSD 7.3 之前的版本， 以及 FreeBSD 8.X 系列在 FreeBSD 8.1 之前的版本使用不同的命名习惯。 它们的 ISO 文件名不使用 <code>FreeBSD-</code> 前缀。</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>您 <em>必须</em> 下载 <code>bootonly</code> ISO 映像 (如果有) 或 <code>disc1</code> 的映像其中的一个。 没有必要都下载， 因为 <code>disc1</code> 映像包含了 <code>bootonly</code> ISO 映像中的全部内容。</p>
</div>
<div class="paragraph">
<p>如果您的 Internet 带宽很廉价， 则应使用 <code>bootonly</code> ISO。 它能安装 FreeBSD， 而您可以根据需要使用 ports/packages 系统来下载并安装第三方软件 (参见 crossref:ports[ports,安装应用程序: Packages 和 Ports])。</p>
</div>
<div class="paragraph">
<p>如果打算安装 FreeBSD 并安装常用的软件包， 则应使用 <code>dvd1</code>。</p>
</div>
<div class="paragraph">
<p>其它的映像盘也很有用， 但不是必须的， 尤其是在您有高速的网络连接时。</p>
</div>
</li>
<li>
<p>刻录 CDs</p>
<div class="paragraph">
<p>您必须把这些映像文件刻录成光盘。 如果您在其它的FreeBSD系统上完成此项工作，请看 crossref:disks[creating-cds,创建和使用光学介质(CD)] 得到更多的信息，（特别是 crossref:disks[burncd,burncd] 和 crossref:disks[cdrecord,cdrecord]）</p>
</div>
<div class="paragraph">
<p>如果您在其它的系统平台上执行，您需要相应的刻录软件。 映像文件使用的是标准的ISO格式，必须被您的刻录软件所支持。</p>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>如果有兴趣制作一张定制的 FreeBSD 版本， 请参考 extref:https://docs.freebsd.org/en/articles/releng/[Release Engineering Article]。</p>
</div>
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect2">
<h3 id="install-ftp">13.2. 为 FreeBSD 安装盘建立局域网 FTP 站点<a class="anchor" href="#install-ftp"></a></h3>
<div class="paragraph">
<p>FreeBSD 光盘的布局和 FTP 站点相同。 这样， 建立局域网 FTP 站点来用于网络上的其它计算机安装 FreeBSD， 就十分的容易。</p>
</div>
<div class="exampleblock procedure">
<div class="content">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>在要作为FTP站点的那台FreeBSD机器上， 确定FreeBSD磁盘放入光驱中并将它挂在 <span class="filename">/cdrom</span> 目录中。</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># mount /cdrom</span></code></pre>
</div>
</div>
</li>
<li>
<p>在 <span class="filename">/etc/passwd</span> 文件中建立一个可匿名访问 FTP 服务器的账号。 您可以利用 man:vipw[8] 命令编辑 <span class="filename">/etc/passwd</span> 文件， 加入下面这一行叙述：</p>
<div class="literalblock programlisting">
<div class="content">
<pre>ftp:*:99:99::0:0:FTP:/cdrom:/nonexistent</pre>
</div>
</div>
</li>
<li>
<p>确定在 <span class="filename">/etc/inetd.conf</span> 配置文件中开启了FTP服务。</p>
</li>
</ol>
</div>
</div>
</div>
<div class="paragraph">
<p>任何本地网络中的机器在安装 FreeBSD 选择安装介质时就可以选择透过 FTP 站点，然后选取 &#34;Other&#34; 后输入 <code>ftp:// 本地FTP服务器</code> 即可以透过本地的FTP站点来安装FreeBSD。</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>如果用作 FTP 客户端的引导介质 (通常是软盘) 与本地局域网的 FTP 站点上的版本不一致， sysinstall 会不允许您完成安装。 如果您使用的版本差距不很大， 并且希望绕过这一判断， 则应进入 <b class="menuref">Options</b> 菜单， 并将安装包的名字改为 <span class="guimenuitem">any</span>。</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="admonitionblock warning">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>此方式最好使用在有防火墙保护的内部网络。 如果要将此FTP服务公开给外面的网际网络（非本地用户）， 您的电脑必须承担被侵入或其它的风险。 我们强烈建议您要有完善的安全机制才这样做。</p>
</div>
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect2">
<h3 id="_创建安装软盘">13.3. 创建安装软盘<a class="anchor" href="#_创建安装软盘"></a></h3>
<div class="paragraph">
<p>如果您从软盘安装（我们_不_推荐那样做）， 或者是由于不支持硬件或者更简单的理由是因为您坚持要使用软盘安装。 您必须准备几张软盘。</p>
</div>
<div class="paragraph">
<p>至少这些软盘必须是 1.44 MB 的，用来容纳所有在 <span class="filename">base</span> (基本系统) 目录下的文件。如果您在 DOS 操作系统下准备就 <em>必须</em> 使用 MS-DOS® 的 <code>FORMAT</code> 命令来格式化软盘。 如果您使用的是 Windows® 操作系统， 在资源管理器中就可以完成这个工作 (用右键单击 <span class="filename">A:</span> 驱动器，并选择 &#34;Format&#34;)。</p>
</div>
<div class="paragraph">
<p><em>不要</em> 指望厂家的预先格式化！ 最好还是亲自进行格式化。 过去用户报告的很多问题都是由于不正确地使用格式化设备所造成的， 所以我们需要在这里着重提一下。</p>
</div>
<div class="paragraph">
<p>如果您在另外一台FreeBSD的机器上做了启动盘的话， 进行格式化是一个不错的主意。 虽然您不需要把每张盘都做成DOS文件系统。您也可以使用 <code>bsdlabel</code> 和 <code>newfs</code> 命令来创建一个UFS文件系统，具体操作按下面的顺序进行：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># fdformat -f 1440 fd0.1440</span>
<span class="c"># bsdlabel -w fd0.1440 floppy3</span>
<span class="c"># newfs -t 2 -u 18 -l 1 -i 65536 /dev/fd0</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>然后您就可以像其它的文件系统一样挂上和写入这些磁盘。</p>
</div>
<div class="paragraph">
<p>格式化这些磁盘后，您必须把文件复制到磁盘中。 这些发行文件被分割成刚好可存进五张 1.44 MB 软盘。 检查您所有的磁盘， 找出所有可能适合的文件。 直到您找到所有需要的配置并且将它们以这种方式安置。 第一个配置都应该有一个子目录在磁盘上， 例如： <span class="filename">a:\base\base.aa</span>、 <span class="filename">a:\base\base.ab</span>， 等等。</p>
</div>
<div class="admonitionblock important">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p><span class="filename">base.inf</span> 文件， 也应放在 <span class="filename">base</span> 的第一张盘上， 因为安装程序需要读取这个文件， 以了解在获得发布包时需要下载多少文件。</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>一旦您进入选择安装介质的屏幕， 选择 <span class="guimenuitem">Floppy</span> 将会看到后面的提示符。</p>
</div>
</div>
<div class="sect2">
<h3 id="install-msdos">13.4. 从 MS-DOS® 分区安装<a class="anchor" href="#install-msdos"></a></h3>
<div class="paragraph">
<p>如果从 MS-DOS® 分区安装， 您需要将发布文件复制到该分区根目录下的 <span class="filename">freebsd</span> 目录中。 例如： <span class="filename">c:\freebsd</span>。 您必须复制一部分 CDROM 或 FTP 上的目录结构， 因此， 如果您从光盘进行复制， 建议使用 DOS 的 <code>xcopy</code> 命令。 下面是准备进行 FreeBSD 最小系统安装的例子：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">C:<span class="se">\&gt;</span> md c:<span class="se">\f</span>reebsd
C:<span class="se">\&gt;</span> xcopy e:<span class="se">\b</span><span class="k">in </span>c:<span class="se">\f</span>reebsd<span class="se">\b</span><span class="k">in</span><span class="se">\ </span>/s
C:<span class="se">\&gt;</span> xcopy e:<span class="se">\m</span>anpages c:<span class="se">\f</span>reebsd<span class="se">\m</span>anpages<span class="se">\ </span>/s</code></pre>
</div>
</div>
<div class="paragraph">
<p>假设 <span class="filename">C:</span> 盘是您的空闲空间， <span class="filename">E:</span> 盘是您挂接的 CDROM。</p>
</div>
<div class="paragraph">
<p>如果您没有光盘驱动器，您可以从以下网站下载发行包。<a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/i386/12.0-RELEASE/">ftp.FreeBSD.org</a>. 每一个发行包都在一个目录中，例如 <em>base</em> 发行包可以在 <a href="ftp://ftp.FreeBSD.org/pub/FreeBSD/releases/i386/12.0-RELEASE/base/">12.0/base/</a> 目录中找到。</p>
</div>
<div class="paragraph">
<p>对很多发行包来说，如果您希望从 MS-DOS®分区安装的话 （您有足够的空间），安装 <span class="filename">c:\freebsd</span> - 下的每个文件－这个 <code>BIN</code> 发行包只是最低限度的要求。</p>
</div>
</div>
<div class="sect2">
<h3 id="_创建一个安装磁带">13.5. 创建一个安装磁带<a class="anchor" href="#_创建一个安装磁带"></a></h3>
<div class="paragraph">
<p>从磁带安装也许是最简单的方式， 比在线使用 FTP 安装或使用 CDROM 还快。安装的程序假设是简单地被压缩在磁带上。 在您得到所有配置文件后，简单地解开它们，用下面的命令：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># cd /freebsd/distdir</span>
<span class="c"># tar cvf /dev/rwt0 dist1 ... dist2</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>在您安装的时候，您要确定留有足够的空间给临时目录（允许您选择） 来容纳磁带安装时 <em>全部</em> 的内容。由于不是随机访问 磁带的，所以这种安装方法需要很多临时空间。</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>开始安装时，在从软盘启动 <em>之前</em>， 磁带机必须已经放在驱动设备中。否则， 安装过程中可能会找不到它。</p>
</div>
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect2">
<h3 id="_通过网络安装">13.6. 通过网络安装<a class="anchor" href="#_通过网络安装"></a></h3>
<div class="paragraph">
<p>可用的网络安装类型有三种。 以太网 (标准的以太网控制器)、 串口 (PPP) 以及 并口 (PLIP (laplink 线缆))。</p>
</div>
<div class="paragraph">
<p>如果希望以最迅速的方式完成网络安装， 那么以太网适配器当然就是首选！ FreeBSD 支持绝大多数常见 PC 以太网卡； 系统能够支持的网卡 (以及所需的配置) 可以在 FreeBSD 发行版附带的硬件兼容说明中找到。 如果您使用的是系统支持的 PCMCIA 以太网卡， 在为笔记本加电 <em>之前</em> 之前一定要把它插好！ 很不幸， FreeBSD 目前并不支持在安装过程中热插 PCMCIA 卡。</p>
</div>
<div class="paragraph">
<p>此外， 您还需要知道自己的 IP 地址、 网络类型对应的子网掩码， 以及机器名。 如果您正通过 PPP 连接安装而没有固定的静态 IP， 不用怕， 这个 IP 地址会由您的 ISP 自动分配。 您的系统管理员会告诉您进行网络配置所需的信息。 如果您需要通过名字而不是 IP 地址来访问其他主机， 则还需要配置一个域名服务器， 可能还需要一个网关地址 (在使用 PPP 时， 这个地址是服务提供商的 IP 地址)。 如果您希望通过 HTTP 代理服务器来完成 FTP 安装， 还需要知道代理服务器的地址。 如果您不知道这些信息， 则应在进行这种安装 <em>之前</em> 向系统管理员或 ISP 询问。</p>
</div>
<div class="paragraph">
<p>如果您使用一个 MODEM，那您就只有 PPP 这一种选择了。在您安装的过程中， 要确定您能很容易地获得完整且快速的关于您服务提供商的信息。</p>
</div>
<div class="paragraph">
<p>如果您使用 PAP 或 CHAP 方式连接到您的 ISP， （换句话说，如果您不使用脚本在Windows®中连接到您的ISP）， 那么您需要在 ppp 提示符下输入 <code>dial</code> 命令。否则，当 PPP 连接者只提供一种最简单的终端模拟器，您必须知道如何使用针对 MODEM 的 &#34;AT commands&#34;拨号到您的 ISP。 想知道更深入的信息可以参考 crossref:ppp-and-slip[userppp,使用手册中的用户级PPP那节] 以及 extref:https://docs.freebsd.org/en/books/faq/[FAQ, ppp] 。 如果您有一些问题，可以使用 <code>set log local …​</code> 命令将日志显示在屏幕上。</p>
</div>
<div class="paragraph">
<p>您也可以通过并口电缆连接到另外一台 FreeBSD 机器上进行安装，您可以考虑使用 &#34;laplink&#34; 并口电缆进行安装。通过并口安装要比通过串口 （最高 50 kbytes/sec）安装快得多。</p>
</div>
<div class="sect3">
<h4 id="_通过nfs安装之前">13.6.1. 通过NFS安装之前<a class="anchor" href="#_通过nfs安装之前"></a></h4>
<div class="paragraph">
<p>NFS 安装方式是非常方便的。只需要简单地将 FreeBSD 文件复制到一台服务器上，然后在安装时选择NFS介质。</p>
</div>
<div class="paragraph">
<p>如果这个服务器要 &#34;特权端口&#34; 才能支持 （如SUN的工作站），您需要在安装前在 <b class="menuref">Options</b> 菜单中设置 <code>NFS Secure</code>。</p>
</div>
<div class="paragraph">
<p>如果你使用了一块低质量的以太网卡比较糟糕， 速度很慢，则应考虑 <code>NFS Slow</code>的选项。</p>
</div>
<div class="paragraph">
<p>为了达到NFS安装的目的，这个服务器必须支持 subdir 加载。 例如，如果您的 FreeBSD 12.0 目录存在： <span class="filename">ziggy:/usr/archive/stuff/FreeBSD</span>，然后 <code>ziggy</code> 将必须允许直接挂上 <span class="filename">/usr/archive/stuff/FreeBSD</span>，而不仅仅是 <span class="filename">/usr</span> 或 <span class="filename">/usr/archive/stuff</span>。</p>
</div>
<div class="paragraph">
<p>在 FreeBSD的 <span class="filename">/etc/exports</span> 配置文件中， 是由 <code>-alldirs</code> 选项来控制的。其它 NFS 服务器也许有不同的方式。如果您从服务器得到 <code>permission denied</code> 这个信息， 可能是因为您没有正确的启用它。</p>
</div>
</div>
</div>
</div>
</div>

    </div>
    
    <div class="buttons">
      
      <div class="prev">
        <i class="fa fa-angle-left" aria-hidden="true" title="Prev"></i>
        <div class="container">
          
            <a href=http://127.0.0.1:5500/zh-cn/books/handbook/introduction class="direction">Prev</a>
          
        </div>
      </div>
      
      <div class="home">
        <i class="fa fa-home" aria-hidden="true" title="Home"></i>
        <div class="container">
          
            <a href="../" class="direction">Home</a>
          
        </div>
      </div>
      
      <div class="next">
        <div class="container">
          
            <a href=http://127.0.0.1:5500/zh-cn/books/handbook/bsdinstall  class="direction">Next</a>
          
        </div>
        <i class="fa fa-angle-right" aria-hidden="true" title="Next"></i>
      </div>
      
    </div>
    <label class="hidden book-menu-overlay" for="menu-control"></label>
  </div>
  <aside class="toc">
    <div class="toc-content">
      <h3>Table of Contents</h3>
      <nav id="TableOfContents">
  <ul>
    <li><a href="#install-synopsis">1. 概述</a></li>
    <li><a href="#install-hardware">2. 硬件需求</a></li>
    <li><a href="#install-pre">3. 安装前的准备工作</a></li>
    <li><a href="#install-start">4. 开始安装</a></li>
    <li><a href="#using-sysinstall">5. 介绍 Sysinstall</a></li>
    <li><a href="#install-steps">6. 分配磁盘空间</a></li>
    <li><a href="#install-choosing">7. 选择要安装的软件包</a></li>
    <li><a href="#install-media">8. 选择您要使用的安装介质</a></li>
    <li><a href="#install-final-warning">9. 安装确认</a></li>
    <li><a href="#install-post">10. 安装后的配置</a></li>
    <li><a href="#install-trouble">11. 常见问题</a></li>
    <li><a href="#install-advanced">12. 高级安装指南</a></li>
    <li><a href="#install-diff-media">13. 准备您自己的安装介质</a></li>
  </ul>
</nav>
      <hr />
      
    </div>
  </aside>
  <a class="to-top" href="#top">
    <i class="fa fa-arrow-circle-up" aria-hidden="true"></i>
  </a>
</main>

    <footer>
  <div class="footer-container">
    <section class="logo-column">
          <img src="/images/FreeBSD-colors.svg" width="160" height="50" alt="FreeBSD logo" />
        <div class="options-container">
          
            <div class="language-container">
              <a id="languages" href="http://127.0.0.1:5500/zh-cn/languages">
                
                <img src="/images/language.png" class="language-image" alt="Choose language">
                <span>简体中文</span>
              </a>
            </div>
          
          <div class="theme-container">
            <select id="theme-chooser">
	      <option value="theme-system">System</option>
              <option value="theme-light">Light</option>
              <option value="theme-dark">Dark</option>
              <option value="theme-high-contrast">High contrast</option>
            </select>
          </div>
        </div>
      </section>
      
      <section class="copyright-column">
        <p>&copy; 1994-2023 The FreeBSD Project. All rights reserved</p>
        <span>Made with <span class="heart">♥</span> by the FreeBSD Community</span>
      </section>
  </div>
</footer>

  </body>
</html>
