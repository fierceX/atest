<!DOCTYPE html>
<html class="theme-light" lang="zh-cn-auto">
  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="本章提供了在 FreeBSD 上运行邮件服务器的基本介绍，以及使用 FreeBSD 发送和接收电子邮件的介绍。"/>
  <meta name="keywords" content="91, 34, 109, 97, 105, 108, 34, 44, 32, 34, 115, 101, 110, 100, 109, 97, 105, 108, 34, 44, 32, 34, 100, 109, 97, 34, 44, 32, 34, 77, 84, 65, 34, 44, 32, 34, 83, 77, 84, 80, 34, 44, 32, 34, 109, 97, 105, 108, 32, 117, 115, 101, 114, 32, 97, 103, 101, 110, 116, 115, 34, 44, 32, 34, 102, 101, 116, 99, 104, 109, 97, 105, 108, 34, 44, 32, 34, 112, 114, 111, 99, 109, 97, 105, 108, 34, 44, 32, 34, 97, 108, 112, 105, 110, 101, 34, 44, 32, 34, 109, 117, 116, 116, 34, 44, 32, 34, 112, 111, 115, 116, 102, 105, 120, 34, 93"/>
  <meta name="copyright" content="1995-2024 The FreeBSD Foundation" />
  <link rel="canonical" href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/mail/" />

  <title>第 31 章 电子邮件 |  FreeBSD 中文文档</title>

  <meta name="theme-color" content="#790000">
  <meta name="color-scheme" content="system light dark high-contrast">

    <link rel="shortcut icon" href="https://free.bsd-doc.org/favicon.ico">
    <link rel="stylesheet" href="/styles/main.min.css">
    <link rel="stylesheet" href="https://free.bsd-doc.org/css/font-awesome-min.css">
    <script defer src="/js/theme-chooser.min.js"></script>
    <script defer src="/js/copy-clipboard.min.js"></script>
    <script defer src="/js/search.min.js"></script>

  
  
    
    <meta property="og:title" content="第 31 章 电子邮件" />
    <meta property="og:description" content="本章提供了在 FreeBSD 上运行邮件服务器的基本介绍，以及使用 FreeBSD 发送和接收电子邮件的介绍。" />
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://free.bsd-doc.orgfavicon.ico"/>
    <meta property="og:image:alt" content="FreeBSD Logo">
    <meta property="og:locale" content="zh-cn-auto" />
    <meta property="og:url" content="https://free.bsd-doc.org/zh-cn-auto/books/handbook/mail/" />
    <meta property="og:site_name" content="FreeBSD 中文文档" />
    <script type="application/ld+json">
      {
        "@context": "http://schema.org",
        "@type": "Article",
        "url": "https:\/\/free.bsd-doc.org\/zh-cn-auto\/books\/handbook\/mail\/",
        "name": "FreeBSD 中文文档",
        "headline": "FreeBSD 中文文档",
        "description": "FreeBSD 中文文档"
      }
    </script>
    

  
</head>


  <body>
    <header>
  <div class="header-container">
    <div class="logo-menu-bars-container">
      <a href="https://free.bsd-doc.org" class="logo">
        <img src="https://free.bsd-doc.org/images/FreeBSD-monochromatic.svg" width="160" height="50" alt="FreeBSD logo" />
      </a>
      <label class="menu-bars" for="menu-bars">
        <i class="fa fa-bars" aria-hidden="true"></i>
      </label>
    </div>
    <input id="menu-bars" type="checkbox" />
    
    <div class="search-donate-container">
      
      <div class="donate">
        <a href="https://github.com/fierceX/freebsd-doc-cn" target="_blank">
          <span class="heart">♥</span>
          GitHub
        </a>
      </div>
    </div>
  </div>
</header>

    
<input type="checkbox" class="hidden toggle" id="menu-control">
<main class="main-wrapper-book">
  <a id="top"></a>
  
  <aside class="book-menu">
    <div class="book-menu-content">
      <input id="search-book" type="text" placeholder="Search" aria-label="Search" maxlength="128" />
      <nav id="MenuContents">
        
  <ul>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-8ada319c45e780947f82b569049480cc" class="toggle"  />
          <label  class="icon cursor"  for="chapter-8ada319c45e780947f82b569049480cc"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/preface/">
              前言
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/preface/#preface-audience">预期读者</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/preface/#preface-changes-from4">第四版</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/preface/#preface-changes-from3">第三版</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/preface/#preface-changes-from2">第二版（2004 年）</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/preface/#preface-changes">第一版（2001 年）</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/preface/#preface-overview">本书的组织结构</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/preface/#preface-conv">本书中使用的约定</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/preface/#preface-acknowledgements">致谢</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-32a83d18a326852a8d9ae2582360bbc8" class="toggle"  />
          <label  for="chapter-32a83d18a326852a8d9ae2582360bbc8"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/parti/">
              第一部分：入门指南
            </a>
            
            
          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-a4909db05d872d16d5be86a57cbc2dc7" class="toggle"  />
          <label  class="icon cursor"  for="chapter-a4909db05d872d16d5be86a57cbc2dc7"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/introduction/">
              第一章 引言
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/introduction/#introduction-synopsis">1.1. 简介</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/introduction/#nutshell">1.2. 欢迎来到 FreeBSD ！</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/introduction/#history">1.3. 关于 FreeBSD 项目</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-3c2455cadf89eadd3f6e77461085d5e9" class="toggle"  />
          <label  class="icon cursor"  for="chapter-3c2455cadf89eadd3f6e77461085d5e9"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/bsdinstall/">
              第二章 安装 FreeBSD
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/bsdinstall/#bsdinstall-synopsis">2.1. 简介</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/bsdinstall/#bsdinstall-hardware">2.2. 最低硬件要求</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/bsdinstall/#bsdinstall-pre">2.3. 安装前的任务</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/bsdinstall/#bsdinstall-start">2.4. 开始安装</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/bsdinstall/#using-bsdinstall">2.5. 使用 bsdinstall</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/bsdinstall/#bsdinstall-partitioning">2.6. 分配磁盘空间</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/bsdinstall/#bsdinstall-fetching-distribution">2.7. 获取分发文件</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/bsdinstall/#bsdinstall-post">2.8. 网络接口，账户，时区，服务和加固</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/bsdinstall/#bsdinstall-install-trouble">2.9. 故障排除</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/bsdinstall/#using-live-cd">2.10. 使用 Live CD</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-709481b75d22ad36960f7ac166b3306c" class="toggle"  />
          <label  class="icon cursor"  for="chapter-709481b75d22ad36960f7ac166b3306c"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/basics/">
              第三章. FreeBSD 基础知识
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/basics/#basics-synopsis">3.1. 概要</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/basics/#consoles">3.2. 虚拟控制台和终端</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/basics/#users-synopsis">3.3. 用户和基本账户管理</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/basics/#permissions">3.4. 权限</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/basics/#dirstructure">3.5. 目录结构</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/basics/#disk-organization">3.6. 磁盘组织</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/basics/#mount-unmount">3.7. 挂载和卸载文件系统</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/basics/#basics-processes">3.8. 进程和守护进程</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/basics/#shells">3.9. Shells</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/basics/#editors">3.10. 文本编辑器</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/basics/#basics-devices">3.11. 设备和设备节点</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/basics/#basics-more-information">3.12. 手册页</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-58c050d31a1fbecd859248dacefeb567" class="toggle"  />
          <label  class="icon cursor"  for="chapter-58c050d31a1fbecd859248dacefeb567"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/ports/">
              第四章 安装应用程序：软件包和 Ports
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/ports/#ports-synopsis">4.1. 简介</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/ports/#ports-overview">4.2. 软件安装概述</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/ports/#ports-finding-applications">4.3. 寻找软件</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/ports/#pkgng-intro">4.4. 使用 pkg 进行二进制包管理</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/ports/#ports-using">4.5. 使用 Ports 集合</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/ports/#ports-poudriere">4.6. 使用 poudriere 构建软件包</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/ports/#ports-nextsteps">4.7. 安装后的考虑事项</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/ports/#ports-broken">4.8. 处理损坏的 ports</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-e5a000ce7f50680a180e2c1b83c121bc" class="toggle"  />
          <label  class="icon cursor"  for="chapter-e5a000ce7f50680a180e2c1b83c121bc"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/x11/">
              第五章 X Window 系统
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/x11/#x11-synopsis">5.1. 简介</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/x11/#x-install">5.2. 安装 Xorg</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/x11/#x-graphic-card-drivers">5.3. 显卡驱动程序</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/x11/#x-config">5.4. Xorg 配置</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/x11/#x-fonts">5.5. 在 Xorg 中使用字体</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-235af08fb87fd7a58003348706d2111d" class="toggle"  />
          <label  class="icon cursor"  for="chapter-235af08fb87fd7a58003348706d2111d"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/wayland/">
              第六章 Wayland
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/wayland/#wayland-synopsis">6.1. Wayland 概述</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/wayland/#wayland-wayfire">6.2. Wayfire 合成器</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/wayland/#wayland-hikari">6.3. Hikari 合成器</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/wayland/#wayland-sway">6.4. Sway 合成器</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/wayland/#wayland-xwayland">6.5. 使用 Xwayland</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/wayland/#wayland-remotedesktop">6.6. 使用 VNC 进行远程桌面访问</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/wayland/#wayland-ly">6.7. Wayland 登录管理器</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/wayland/#wayland-utilities">6.8. 有用的工具</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-4de18483dde20bf9ed0024176afd09da" class="toggle"  />
          <label  class="icon cursor"  for="chapter-4de18483dde20bf9ed0024176afd09da"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/network/">
              第 7 章 网络
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/network/#network-synopsis">7.1. 简介</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/network/#config-network-setup">7.2. 设置网络</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/network/#config-network-connection">7.3. 有线网络</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/network/#network-wireless">7.4. 无线网络</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/network/#hostname">7.5. 主机名</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/network/#dns">7.6. DNS</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/network/#troubleshooting">7.7. 故障排除</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-5eb30759c3a2873e716dc31d7760054c" class="toggle"  />
          <label  for="chapter-5eb30759c3a2873e716dc31d7760054c"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/partii/">
              第二部分：常见任务
            </a>
            
            
          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-c96504f017c56f4bc7f71548cccf5382" class="toggle"  />
          <label  class="icon cursor"  for="chapter-c96504f017c56f4bc7f71548cccf5382"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/desktop/">
              第 8 章 桌面环境
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/desktop/#desktop-synopsis">8.1. 概要</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/desktop/#desktop-environments">8.2. 桌面环境</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/desktop/#desktop-browsers">8.3. 浏览器</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/desktop/#desktop-development">8.4. 开发工具</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/desktop/#desktop-productivity">8.5. 桌面办公生产力</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/desktop/#desktop-viewers">8.6. 文档查看器</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/desktop/#desktop-finance">8.7. 金融</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-e1898af36aaacc168e13b673d25b908f" class="toggle"  />
          <label  class="icon cursor"  for="chapter-e1898af36aaacc168e13b673d25b908f"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/multimedia/">
              第 9 章 多媒体
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/multimedia/#multimedia-synopsis">9.1. 概要</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/multimedia/#sound-setup">9.2. 设置声卡</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/multimedia/#audio-ports">9.3. 音频播放器</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/multimedia/#video-ports">9.4. 视频播放器</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/multimedia/#conferencing-meetings">9.5. 会议和会议</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/multimedia/#scanners">9.6. 图像扫描仪</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-6926664836e63c5cae4b2fa60855f91d" class="toggle"  />
          <label  class="icon cursor"  for="chapter-6926664836e63c5cae4b2fa60855f91d"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/kernelconfig/">
              第 10 章 配置 FreeBSD 内核
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/kernelconfig/#kernelconfig-synopsis">10.1. 概要</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/kernelconfig/#kernelconfig-custom-kernel">10.2. 为什么要构建自定义内核？</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/kernelconfig/#kernelconfig-devices">10.3. 查找系统硬件</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/kernelconfig/#kernelconfig-config">10.4. 配置文件</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/kernelconfig/#kernelconfig-building">10.5. 构建和安装自定义内核</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/kernelconfig/#kernelconfig-trouble">10.6. 如果出现问题</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-19d36bd70a320268f0ea1f66e4f3e224" class="toggle"  />
          <label  class="icon cursor"  for="chapter-19d36bd70a320268f0ea1f66e4f3e224"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/printing/">
              第 11 章 打印
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/printing/#printing-quick-start">11.1. 快速入门</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/printing/#printing-connections">11.2. 打印机连接</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/printing/#printing-pdls">11.3. 常见的页面描述语言</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/printing/#printing-direct">11.4. 直接打印</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/printing/#printing-lpd">11.5. LPD （ Line Printer Daemon ）是一种用于打印机的网络协议。</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/printing/#printing-other">11.6. 其他打印系统</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-a07f539e6c18f2db4da5dbb2b5bb1e79" class="toggle"  />
          <label  class="icon cursor"  for="chapter-a07f539e6c18f2db4da5dbb2b5bb1e79"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/linuxemu/">
              第 12 章 . Linux 二进制兼容性
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/linuxemu/#linuxemu-synopsis">12.1. 概要</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/linuxemu/#linuxemu-lbc-install">12.2. 配置 Linux 二进制兼容性</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/linuxemu/#linux-userlands">12.3. Linux 用户空间</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/linuxemu/#linuxemu-advanced">12.4. 高级主题</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-af234c193ce95c480af0ff5ec3f32f5c" class="toggle"  />
          <label  class="icon cursor"  for="chapter-af234c193ce95c480af0ff5ec3f32f5c"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/wine/">
              第 13 章 WINE
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/wine/#wine-synopsis">13.1. 简介</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/wine/#wine-overview-concepts">13.2. WINE 概述与概念</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/wine/#installing-wine-on-freebsd">13.3. 在 FreeBSD 上安装 WINE</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/wine/#running-first-wine-program">13.4. 在 FreeBSD 上运行第一个 WINE 程序</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/wine/#configuring-wine-installation">13.5. 配置 WINE 安装</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/wine/#wine-management-guis">13.6. WINE 管理图形界面</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/wine/#wine-in-multi-user-os-installations">13.7. 在多用户的 FreeBSD 安装中使用 WINE</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/wine/#wine-on-os-faq">13.8. 在 FreeBSD 上使用 WINE 的常见问题解答</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-51416fdea9d5a1dfa1c2718cd825213a" class="toggle"  />
          <label  for="chapter-51416fdea9d5a1dfa1c2718cd825213a"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/partiii/">
              第三部分：系统管理
            </a>
            
            
          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-532d0380ba66d66e033765a0b6930ee7" class="toggle"  />
          <label  class="icon cursor"  for="chapter-532d0380ba66d66e033765a0b6930ee7"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/config/">
              第 14 章 配置、服务、日志和电源管理
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/config/#config-synopsis">14.1. 简介</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/config/#configtuning-configfiles">14.2. 配置文件</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/config/#configtuning-rcd">14.3. 在 FreeBSD 中管理服务</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/config/#cron-periodic">14.4. Cron 和周期性任务</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/config/#configtuning-syslog">14.5. 配置系统日志</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/config/#acpi-overview">14.6. 功耗和资源管理</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/config/#adding-swap-space">14.7. 添加交换空间</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-d05f41680fb7e3d68b354ae03de368b1" class="toggle"  />
          <label  class="icon cursor"  for="chapter-d05f41680fb7e3d68b354ae03de368b1"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/boot/">
              第 15 章 . FreeBSD 的启动过程
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/boot/#boot-synopsis">15.1. 概要</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/boot/#boot-introduction">15.2. FreeBSD 引导过程</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/boot/#device-hints">15.3. 设备提示</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/boot/#boot-shutdown">15.4. 关机序列</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-513e8e407c57354df334059688e9b60a" class="toggle"  />
          <label  class="icon cursor"  for="chapter-513e8e407c57354df334059688e9b60a"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/security/">
              第 16 章 安全
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/security/#security-synopsis">16.1. 简介</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/security/#security-intro">16.2. 介绍</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/security/#sec-accounts">16.3. 保护账户安全</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/security/#security-ids">16.4. 入侵检测系统（ IDS ）</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/security/#security-secure-levels">16.5. 安全级别</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/security/#security-file-flags">16.6. 文件标志</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/security/#openssh">16.7. OpenSSH 是一个用于安全远程登录和文件传输的开源软件套件。它提供了加密的通信通道，以防止未经授权的访问和数据泄露。 OpenSSH 支持 SSH 协议，可以在不同的操作系统上运行，并且具有强大的身份验证和加密功能。它被广泛用于管理远程服务器和保护敏感数据的传输。</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/security/#openssl">16.8. OpenSSL 是一个开源的软件库，提供了一套用于安全通信的加密工具。它支持多种加密算法和协议，包括 SSL 和 TLS 。 OpenSSL 广泛用于网络通信、数字证书管理和数据加密等领域。它是一个功能强大且可靠的工具，被广泛应用于各种计算机系统和应用程序中。</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/security/#kerberos5">16.9. Kerberos 是一种网络身份验证协议，用于在计算机网络中验证用户的身份。它使用加密技术来确保通信的安全性，并防止身份伪造和中间人攻击。 Kerberos 还提供了单点登录功能，允许用户在一次身份验证后访问多个网络服务。它是计算机领域中常用的身份验证解决方案之一。</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/security/#tcpwrappers">16.10. TCP 包装器（ TCP Wrappers ）是一种网络访问控制工具，用于在 TCP/IP 网络上限制对特定服务的访问。它通过检查远程主机的 IP 地址和主机名来决定是否允许连接到受保护的服务。 TCP 包装器可以用于增强网络安全性，防止未经授权的访问和恶意活动。它通常与网络服务（如 SSH 、 FTP 和 Telnet ）一起使用，以提供对这些服务的访问控制。</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/security/#fs-acl">16.11. 访问控制列表</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/security/#capsicum">16.12. Capsicum 是一种辣椒植物，属于茄科。它的果实通常被用作调味品和食材，具有辛辣的味道。 Capsicum 也被用于药用目的，具有抗氧化和抗炎作用。它含有丰富的维生素 C 和维生素 A ，对于保持健康非常重要。 Capsicum 在烹饪中被广泛使用，可以用于制作各种菜肴和调味品。</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/security/#security-accounting">16.13. 进程账户</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/security/#security-resourcelimits">16.14. 资源限制</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/security/#security-pkg">16.15. 监控第三方安全问题</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/security/#security-advisories">16.16. FreeBSD 安全公告</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-0f7d2858504c83a029928c048d394e2a" class="toggle"  />
          <label  class="icon cursor"  for="chapter-0f7d2858504c83a029928c048d394e2a"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/jails/">
              第 17 章 监狱和容器
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/jails/#jails-synopsis">17.1. 简介</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/jails/#jail-types">17.2. 监狱类型</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/jails/#host-configuration">17.3. 主机配置</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/jails/#classic-jail">17.4. 经典监狱（厚重监狱）</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/jails/#thin-jail">17.5. 薄型监狱</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/jails/#jail-management">17.6. 监狱管理</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/jails/#jail-upgrading">17.7. 监狱升级</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/jails/#jail-resource-limits">17.8. 监狱资源限制</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/jails/#jail-managers-and-containers">17.9. 监狱管理员和容器</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-15be125ce5997f51c5499e3a0dee6c2c" class="toggle"  />
          <label  class="icon cursor"  for="chapter-15be125ce5997f51c5499e3a0dee6c2c"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/mac/">
              第 18 章 强制访问控制
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/mac/#mac-synopsis">18.1. 概要</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/mac/#mac-inline-glossary">18.2. 关键术语</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/mac/#mac-understandlabel">18.3. 理解 MAC 标签</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/mac/#mac-planning">18.4. 规划安全配置</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/mac/#mac-policies">18.5. 可用的 MAC 策略</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/mac/#mac-userlocked">18.6. 用户锁定</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/mac/#mac-implementing">18.7. 在 MAC 监狱中的 Nagios</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/mac/#mac-troubleshoot">18.8. 解决 MAC 框架的问题</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-3f7e8d763b17c7d0c44c60505cf0feea" class="toggle"  />
          <label  class="icon cursor"  for="chapter-3f7e8d763b17c7d0c44c60505cf0feea"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/audit/">
              第 19 章 安全事件审计
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/audit/#audit-synopsis">19.1. 概要</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/audit/#audit-inline-glossary">19.2. 关键术语</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/audit/#audit-config">19.3. 审计配置</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/audit/#audit-administration">19.4. 使用审计跟踪功能</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-7bb1cb2287cd08a3672cc878e604f0d0" class="toggle"  />
          <label  class="icon cursor"  for="chapter-7bb1cb2287cd08a3672cc878e604f0d0"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/disks/">
              第 20 章 存储
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/disks/#disks-synopsis">20.1. 概要</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/disks/#disks-adding">20.2. 添加磁盘</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/disks/#disks-growing">20.3. 调整和扩展磁盘大小</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/disks/#usb-disks">20.4. USB 存储设备</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/disks/#creating-cds">20.5. 创建和使用 CD 媒体</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/disks/#creating-dvds">20.6. 创建和使用 DVD 媒体</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/disks/#floppies">20.7. 创建和使用软盘</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/disks/#using-ntfs">20.8. 使用 NTFS 磁盘</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/disks/#backup-basics">20.9. 备份基础知识</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/disks/#disks-virtual">20.10. 内存磁盘</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/disks/#snapshots">20.11. 文件系统快照</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/disks/#quotas">20.12. 磁盘配额</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/disks/#disks-encrypting">20.13. 加密磁盘分区</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/disks/#swap-encrypting">20.14. 加密交换分区</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/disks/#disks-hast">20.15. 高可用存储（ Highly Available Storage ， HAST ）</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-dec5fc4f0100e5030db0fb188d8d4b2f" class="toggle"  />
          <label  class="icon cursor"  for="chapter-dec5fc4f0100e5030db0fb188d8d4b2f"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/geom/">
              第 21 章 GEOM ：模块化磁盘转换框架
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/geom/#geom-synopsis">21.1. 简介</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/geom/#geom-striping">21.2. RAID0 - 条带化</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/geom/#geom-mirror">21.3. RAID1 - 镜像</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/geom/#geom-raid3">21.4. RAID3 - 以字节为单位的条带化和专用奇偶校验</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/geom/#geom-graid">21.5. 软件 RAID 设备</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/geom/#geom-ggate">21.6. GEOM Gate Network 是一种计算机网络技术。</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/geom/#geom-glabel">21.7. 标记磁盘设备</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/geom/#geom-gjournal">21.8. 通过 GEOM 实现的 UFS 日志记录</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-7f1657a05627dd16bad31d4c7f675604" class="toggle"  />
          <label  class="icon cursor"  for="chapter-7f1657a05627dd16bad31d4c7f675604"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/zfs/">
              第 22 章 Z 文件系统（ZFS）
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/zfs/#zfs-differences">22.1. ZFS 有何不同之处</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/zfs/#zfs-quickstart">22.2. 快速入门指南</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/zfs/#zfs-zpool">22.3. <code>zpool</code> 管理</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/zfs/#zfs-zfs">22.4. <code>zfs</code> 管理</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/zfs/#zfs-zfs-allow">22.5. 委派管理</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/zfs/#zfs-advanced">22.6. 高级主题</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/zfs/#zfs-links">22.7. 进一步资源</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/zfs/#zfs-term">22.8. ZFS 功能和术语</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-4c6bf6828e601b79edb2813329ac6604" class="toggle"  />
          <label  class="icon cursor"  for="chapter-4c6bf6828e601b79edb2813329ac6604"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/filesystems/">
              第 23 章 其他文件系统
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/filesystems/#filesystems-synopsis">23.1. 概要</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/filesystems/#filesystems-linux">23.2. Linux® 文件系统</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-ae23289d4b6415f3f878893f9d3ef9b8" class="toggle"  />
          <label  class="icon cursor"  for="chapter-ae23289d4b6415f3f878893f9d3ef9b8"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/virtualization/">
              第 24 章 虚拟化
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/virtualization/#virtualization-synopsis">24.1. 简介</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/virtualization/#virtualization-guest-parallelsdesktop">24.2. 在 Parallels Desktop for macOS® 上作为客户机的 FreeBSD</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/virtualization/#virtualization-guest-vmware">24.3. 在 macOS 上使用 VMware Fusion 作为客户机的 FreeBSD</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/virtualization/#virtualization-guest-virtualbox">24.4. 在 VirtualBox™ 上作为客户机的 FreeBSD</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/virtualization/#virtualization-host-virtualbox">24.5. 使用 VirtualBox™ 将 FreeBSD 作为主机</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/virtualization/#virtualization-host-bhyve">24.6. 使用 bhyve 作为 FreeBSD 主机</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/virtualization/#virtualization-host-xen">24.7. FreeBSD 作为 Xen™ 主机</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-b279d2b738963a45a059268d2fae00d5" class="toggle"  />
          <label  class="icon cursor"  for="chapter-b279d2b738963a45a059268d2fae00d5"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/l10n/">
              第 25 章 本地化 - i18n/L10n 的使用和设置
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/l10n/#l10n-synopsis">25.1. 简介</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/l10n/#using-localization">25.2. 使用本地化</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/l10n/#l10n-compiling">25.3. 寻找国际化应用程序</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/l10n/#lang-setup">25.4. 特定语言的区域配置</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-9e3f99bd76c861ab2e9a5f31ac421842" class="toggle"  />
          <label  class="icon cursor"  for="chapter-9e3f99bd76c861ab2e9a5f31ac421842"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/cutting-edge/">
              第 26 章 更新和升级 FreeBSD
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/cutting-edge/#updating-upgrading-synopsis">26.1. 概要</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/cutting-edge/#updating-upgrading-freebsdupdate">26.2. FreeBSD 更新</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/cutting-edge/#updating-bootcode">26.3. 更新引导代码</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/cutting-edge/#updating-upgrading-documentation">26.4. 更新文档集合</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/cutting-edge/#current-stable">26.5. 跟踪开发分支</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/cutting-edge/#makeworld">26.6. 从源代码更新 FreeBSD</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/cutting-edge/#small-lan">26.7. 多台机器的追踪</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/cutting-edge/#building-on-non-freebsd-hosts">26.8. 在非 FreeBSD 主机上构建</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-3ba999091575eb04ae88235cd0fb1afa" class="toggle"  />
          <label  class="icon cursor"  for="chapter-3ba999091575eb04ae88235cd0fb1afa"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/dtrace/">
              第 27 章 DTrace
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/dtrace/#dtrace-synopsis">27.1. 简介</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/dtrace/#dtrace-implementation">27.2. 实现差异</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/dtrace/#dtrace-enable">27.3. 启用 DTrace 支持</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/dtrace/#dtrace-using">27.4. 使用 DTrace</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-bdb217202a0a3eef4571dd1fcd50863c" class="toggle"  />
          <label  class="icon cursor"  for="chapter-bdb217202a0a3eef4571dd1fcd50863c"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/usb-device-mode/">
              第 28 章 USB 设备模式 /USB OTG
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/usb-device-mode/#usb-device-mode-synopsis">28.1. 概要</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/usb-device-mode/#usb-device-mode-terminals">28.2. USB 虚拟串口</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/usb-device-mode/#usb-device-mode-network">28.3. USB 设备模式网络接口</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/usb-device-mode/#usb-device-mode-storage">28.4. USB 虚拟存储设备</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-6d4439926bb106ac084ecc88cfd3cfa4" class="toggle"  />
          <label  for="chapter-6d4439926bb106ac084ecc88cfd3cfa4"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/partiv/">
              第四部分：网络通信
            </a>
            
            
          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-05a353fcb61d8e035f7c43e14725766e" class="toggle"  />
          <label  class="icon cursor"  for="chapter-05a353fcb61d8e035f7c43e14725766e"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/serialcomms/">
              第 29 章 串行通信
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/serialcomms/#serial-synopsis">29.1. 概要</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/serialcomms/#serial">29.2. 串行术语和硬件</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/serialcomms/#term">29.3. 终端</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/serialcomms/#dialup">29.4. 拨入服务</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/serialcomms/#dialout">29.5. 拨出服务</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/serialcomms/#serialconsole-setup">29.6. 设置串行控制台</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-7f0cbcbf6701b86eba3bbd6fc829f1b8" class="toggle"  />
          <label  class="icon cursor"  for="chapter-7f0cbcbf6701b86eba3bbd6fc829f1b8"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/ppp-and-slip/">
              第 30 章 PPP
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/ppp-and-slip/#ppp-and-slip-synopsis">30.1. 概要</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/ppp-and-slip/#userppp">30.2. 配置 PPP</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/ppp-and-slip/#ppp-troubleshoot">30.3. PPP 连接故障排除</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/ppp-and-slip/#pppoe">30.4. 使用以太网上的点对点协议（ PPP over Ethernet ， PPPoE ）</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/ppp-and-slip/#pppoa">30.5. 使用 ATM 上的 PPP （ PPPoA ）</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-9d023b545804f197d195dd9412749943" class="toggle"  checked  />
          <label  class="icon cursor"  for="chapter-9d023b545804f197d195dd9412749943"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/mail/">
              第 31 章 电子邮件
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/mail/#mail-synopsis">31.1. 简介</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/mail/#mail-using">31.2. 邮件组件</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/mail/#dragonFly-mail-agent">31.3. DragonFly Mail Agent （ DMA ）</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/mail/#sendmail">31.4. Sendmail 是一种用于电子邮件传输的开源软件。它是一种邮件传输代理（ MTA ），用于将电子邮件从发送者的计算机发送到接收者的计算机。 Sendmail 具有广泛的功能和灵活性，可以在各种操作系统上运行，并且被广泛用于互联网上的电子邮件传输。它支持多种邮件协议和格式，并提供了丰富的配置选项，使用户能够根据自己的需求进行定制。 Sendmail 是互联网上最早的邮件传输代理之一，至今仍然被广泛使用。</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/mail/#mail-changingmta">31.5. 更改邮件传输代理</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/mail/#mail-agents">31.6. 邮件用户代理</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/mail/#mail-advanced">31.7. 高级主题</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-42b19e05d30c4135c74b9878818747a9" class="toggle"  />
          <label  class="icon cursor"  for="chapter-42b19e05d30c4135c74b9878818747a9"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/network-servers/">
              第 32 章 网络服务器
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/network-servers/#network-servers-synopsis">32.1. 概要</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/network-servers/#network-inetd">32.2. inetd 超级服务器</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/network-servers/#network-nfs">32.3. 网络文件系统（ NFS ）</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/network-servers/#network-nis">32.4. 网络信息系统（ NIS ）</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/network-servers/#network-ldap">32.5. 轻量级目录访问协议（ LDAP ）</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/network-servers/#network-dhcp">32.6. 动态主机配置协议（ DHCP ）</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/network-servers/#network-dns">32.7. 域名系统（ DNS ）</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/network-servers/#network-apache">32.8. Apache HTTP Server 是一个开源的 Web 服务器软件，它是目前最流行的 Web 服务器之一。它由 Apache 软件基金会开发和维护，可运行在多种操作系统上，包括 Windows 、 Linux 和 Unix 等。 Apache HTTP Server 具有高度可扩展性和灵活性，支持多种模块和插件，可以实现各种功能，如动态内容生成、虚拟主机配置和安全性控制等。它还提供了丰富的文档和社区支持，使得用户能够轻松地学习和使用。无论是个人网站还是大型企业应用， Apache HTTP Server 都是一个可靠和强大的选择。</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/network-servers/#network-ftp">32.9. 文件传输协议（ FTP ）</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/network-servers/#network-samba">32.10. 适用于 Microsoft® Windows® 客户端的文件和打印服务（ Samba ）</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/network-servers/#network-ntp">32.11. 使用 NTP 进行时钟同步</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/network-servers/#network-iscsi">32.12. iSCSI 发起者和目标配置</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-9554a5177d00d0e87ada408809a1fc67" class="toggle"  />
          <label  class="icon cursor"  for="chapter-9554a5177d00d0e87ada408809a1fc67"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/firewalls/">
              第 33 章 防火墙
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/firewalls/#firewalls-intro">33.1. 简介</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/firewalls/#firewalls-concepts">33.2. 防火墙概念</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/firewalls/#firewalls-pf">33.3. PF 可以有多种含义，根据上下文不同可能指：</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/firewalls/#firewalls-ipfw">33.4. IPFW 是指 Internet 协议防火墙，是一种用于网络安全的技术。它可以通过过滤和监控网络流量来保护计算机和网络免受恶意攻击和未经授权的访问。 IPFW 可以根据预先定义的规则集来控制网络流量的进出，以实现对网络连接的管理和保护。它是一种常见的防火墙解决方案，被广泛应用于企业和个人网络环境中。</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/firewalls/#firewalls-ipf">33.5. IPFILTER （ IPF ）</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/firewalls/#firewalls-blacklistd">33.6. 黑名单服务</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-9903a1d844ed803a436595e93ec33572" class="toggle"  />
          <label  class="icon cursor"  for="chapter-9903a1d844ed803a436595e93ec33572"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/advanced-networking/">
              第 34 章 . 高级网络
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/advanced-networking/#advanced-networking-synopsis">34.1. 概要</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/advanced-networking/#network-routing">34.2. 网关和路由</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/advanced-networking/#configtuning-virtual-hosts">34.3. 虚拟主机</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/advanced-networking/#network-advanced-wireless">34.4. 无线高级认证</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/advanced-networking/#wireless-ad-hoc-mode">34.5. 无线自组网模式</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/advanced-networking/#network-usb-tethering">34.6. USB 网络共享</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/advanced-networking/#network-bluetooth">34.7. 蓝牙</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/advanced-networking/#network-bridging">34.8. 桥接</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/advanced-networking/#network-aggregation">34.9. 链路聚合和故障转移</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/advanced-networking/#network-diskless">34.10. 使用 PXE 进行无盘操作</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/advanced-networking/#carp">34.11. 常见地址冗余协议（ CARP ）</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/advanced-networking/#network-vlan">34.12. 虚拟局域网（ VLANs ）</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-8ca29f99c249993ee9234cb4632af7a5" class="toggle"  />
          <label  for="chapter-8ca29f99c249993ee9234cb4632af7a5"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/partv/">
              第五部分. 附录
            </a>
            
            
          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-0229d553ebf23ffeb945be6f32836221" class="toggle"  />
          <label  for="chapter-0229d553ebf23ffeb945be6f32836221"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/mirrors/">
              附录 A. 获取 FreeBSD
            </a>
            
            
          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-743c99fa278b8138914ff018e40c9231" class="toggle"  />
          <label  class="icon cursor"  for="chapter-743c99fa278b8138914ff018e40c9231"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/bibliography/">
              附录 B. 参考文献
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/bibliography/#bibliography-freebsd">B.1. FreeBSD 参考文献</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/bibliography/#bibliography-security">B.2. 安全参考</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/bibliography/#bibliography-history">B.3. UNIX® 历史</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/bibliography/#bibliography-journals">B.4. 期刊、杂志和期刊</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-de7eade4b8b64f298c0cbac44c2278da" class="toggle"  />
          <label  class="icon cursor"  for="chapter-de7eade4b8b64f298c0cbac44c2278da"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/eresources/">
              附录 C. 互联网资源
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/eresources/#eresources-www">C.1. 网站</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/eresources/#eresources-mail">C.2. 邮件列表</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/eresources/#eresources-news">C.3. Usenet 新闻组</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-bfb0d4e71c3c1a18a8b75e03f4b48e26" class="toggle"  />
          <label  class="icon cursor"  for="chapter-bfb0d4e71c3c1a18a8b75e03f4b48e26"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/pgpkeys/">
              附录 D. OpenPGP 密钥
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/pgpkeys/#pgpkeys-officers">D.1. 官员们</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-2a8deedf14429128049622ec007c9d3f" class="toggle"  />
          <label  for="chapter-2a8deedf14429128049622ec007c9d3f"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/glossary/">
              FreeBSD 词汇表
            </a>
            
            
          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-110dbb242491bf200e51e76db171f670" class="toggle"  />
          <label  for="chapter-110dbb242491bf200e51e76db171f670"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/colophon/">
              后记
            </a>
            
            
          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-caffbcba74982e4b26b9263ac0232bc3" class="toggle"  />
          <label  for="chapter-caffbcba74982e4b26b9263ac0232bc3"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn-auto/books/handbook/introduction/">
              
            </a>
            
            
          

        
      </li>
    
      <li>
        
      </li>
    
  </ul>


      </nav>
    </div>
  </aside>
  
  <div class="book">
    
    <div class="book-menu-mobile">
      <label for="menu-control">
        <span class="menu-control-button">
          <i class="fa fa-list" aria-hidden="true" title="Book menu"></i>
          Book menu
        </span>
      </label>
    </div>
    
    <h1 class="title">第 31 章 电子邮件</h1>
    
    
      <div class="admonitionblock note">
        <p>
          <i class="fa fa-exclamation-circle" aria-hidden="true"></i>
          如果发现翻译错误，请直接 <a href="https://github.com/fierceX/freebsd-doc-cn/pulls" target="_blank">发起PR修改</a>。
        </p>
      </div>
    
    
    
    <div class="toc-mobile">
      <h3>Table of Contents</h3>
      <nav id="TableOfContents">
  <ul>
    <li><a href="#mail-synopsis">31.1. 简介</a></li>
    <li><a href="#mail-using">31.2. 邮件组件</a></li>
    <li><a href="#dragonFly-mail-agent">31.3. DragonFly Mail Agent （ DMA ）</a></li>
    <li><a href="#sendmail">31.4. Sendmail 是一种用于电子邮件传输的开源软件。它是一种邮件传输代理（ MTA ），用于将电子邮件从发送者的计算机发送到接收者的计算机。 Sendmail 具有广泛的功能和灵活性，可以在各种操作系统上运行，并且被广泛用于互联网上的电子邮件传输。它支持多种邮件协议和格式，并提供了丰富的配置选项，使用户能够根据自己的需求进行定制。 Sendmail 是互联网上最早的邮件传输代理之一，至今仍然被广泛使用。</a></li>
    <li><a href="#mail-changingmta">31.5. 更改邮件传输代理</a></li>
    <li><a href="#mail-agents">31.6. 邮件用户代理</a></li>
    <li><a href="#mail-advanced">31.7. 高级主题</a></li>
  </ul>
</nav>
    </div>
    
      
      
    
    <div class="book-content">
      <div id="preamble">
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="mail-synopsis">31.1. 简介<a class="anchor" href="#mail-synopsis"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>“电子邮件”，更为人所知的是 email ，是当今最广泛使用的通信形式之一。本章介绍了在 FreeBSD 上运行邮件服务器的基本概念，以及使用 FreeBSD 发送和接收电子邮件的简介。如需更全面的内容，请参考 <a href="../bibliography/#bibliography">Bibliography</a> 中列出的书籍。</p>
</div>
<div class="paragraph">
<p>本章内容包括：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>发送和接收电子邮件涉及哪些软件组件？</p>
</li>
<li>
<p>如何配置 DragonFly Mail Agent 。</p>
</li>
<li>
<p>在 FreeBSD 中，基本的 Sendmail 配置文件位于哪里？</p>
</li>
<li>
<p>远程邮箱和本地邮箱的区别。</p>
</li>
<li>
<p>如何安装和配置替代的邮件传输代理（ Mail Transfer Agent ），以替换 DragonFly Mail Agent 或 Sendmail 。</p>
</li>
<li>
<p>如何解决常见的邮件服务器问题。</p>
</li>
<li>
<p>如何配置 Sendmail 仅发送邮件。</p>
</li>
<li>
<p>如何在 Sendmail 中配置 SMTP 身份验证以增加安全性。</p>
</li>
<li>
<p>如何安装和使用邮件用户代理（ Mail User Agent ），例如 mutt ，来发送和接收电子邮件。</p>
</li>
<li>
<p>如何从远程的 POP 或 IMAP 服务器下载邮件。</p>
</li>
<li>
<p>如何自动应用过滤器和规则到收件箱中的电子邮件。</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="mail-using">31.2. 邮件组件<a class="anchor" href="#mail-using"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>电子邮件交换涉及五个主要部分：邮件用户代理（ MUA ），邮件传输代理（ MTA ），邮件主机，远程或本地邮箱以及 DNS 。本节概述了这些组件。</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">邮件用户代理（ MUA ）</dt>
<dd>
<p>邮件用户代理（ MUA ）是一种用于撰写、发送和接收电子邮件的应用程序。这个应用程序可以是一个命令行程序，比如内置的 <code>mail</code> 实用程序，也可以是来自 Ports Collection 的第三方应用程序，比如 alpine 、 elm 或 mutt 。 Ports Collection 中还提供了许多图形化程序，包括 Claws Mail 、 Evolution 和 Thunderbird 。一些组织提供了一个可以通过 Web 浏览器访问的 Web 邮件程序。关于在 FreeBSD 上安装和使用 MUA 的更多信息可以在 <a href="#mail-agents">邮件用户代理</a> 中找到。</p>
</dd>
<dt class="hdlist1">邮件传输代理（ MTA ）</dt>
<dd>
<p>邮件传输代理（ MTA ）负责接收传入邮件和投递传出邮件。从 FreeBSD 14.0 版本开始，默认的 MTA 是 DragonFly Mail Agent （ <a href="https://man.freebsd.org/cgi/man.cgi?query=dma&amp;sektion=8&amp;format=html">dma(8)</a> ）；在早期版本中，默认的 MTA 是 <a href="https://man.freebsd.org/cgi/man.cgi?query=sendmail&amp;sektion=8&amp;format=html">sendmail(8)</a> 。其他 MTA ，包括 Exim 、 Postfix 和 qmail ，可以安装来替换默认的 MTA 。</p>
</dd>
<dt class="hdlist1">邮件主机和邮箱</dt>
<dd>
<p>邮件主机是负责为主机或网络传递和接收邮件的服务器。邮件主机收集发送到该域的所有邮件，并根据配置将其存储在默认的 <code>mbox</code> 或备选的 Maildir 格式中。一旦邮件被存储，可以使用 MUA 在本地阅读，也可以使用 POP 或 IMAP 等协议进行远程访问和收取。如果邮件在本地阅读，则不需要安装 POP 或 IMAP 服务器。</p>
</dd>
<dt class="hdlist1">域名系统（ DNS ）</dt>
<dd>
<p>域名系统（ DNS ）及其守护进程 <a href="https://man.freebsd.org/cgi/man.cgi?query=named&amp;sektion=8&amp;format=html">named(8)</a> 在邮件传递中起着重要作用。为了将邮件从一个站点传递到另一个站点，邮件传输代理（ MTA ）将在 DNS 中查找远程站点，以确定哪个主机将接收目标站点的邮件。当邮件从远程主机发送到 MTA 时，也会发生这个过程。</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="dragonFly-mail-agent">31.3. DragonFly Mail Agent （ DMA ）<a class="anchor" href="#dragonFly-mail-agent"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>DragonFly Mail Agent (DMA) 是 FreeBSD 14.0 版本开始的默认邮件传输代理（ MTA ）。 <a href="https://man.freebsd.org/cgi/man.cgi?query=dma&amp;sektion=8&amp;format=html">dma(8)</a> 是一个小型的邮件传输代理，专为家庭和办公室使用而设计。它接收来自本地安装的邮件用户代理（ MUA ）的邮件，并将邮件传递到本地或远程目的地。远程传递包括多个功能，如 TLS/SSL 支持和 SMTP 身份验证。</p>
</div>
<div class="paragraph">
<p><a href="https://man.freebsd.org/cgi/man.cgi?query=dma&amp;sektion=8&amp;format=html">dma(8)</a> 并不是用来替代真正的、大型的邮件传输代理（ MTA ）如 <a href="https://man.freebsd.org/cgi/man.cgi?query=sendmail&amp;sektion=8&amp;format=html">sendmail(8)</a> 或 <a href="https://man.freebsd.org/cgi/man.cgi?query=postfix&amp;sektion=1&amp;format=html">postfix(1)</a> 的。因此， <a href="https://man.freebsd.org/cgi/man.cgi?query=dma&amp;sektion=8&amp;format=html">dma(8)</a> 不会监听端口 25 来接收传入连接。</p>
</div>
<div class="sect2">
<h3 id="configuring-dragonfly-mail-agent">31.3.1. 配置 DragonFly Mail Agent (DMA)<a class="anchor" href="#configuring-dragonfly-mail-agent"></a></h3>
<div class="paragraph">
<p>DMA 带有一个默认配置，适用于许多部署。自定义设置在 [/etc/dma/dma.conf] 中定义， SMTP 身份验证在 [/etc/dma/auth.conf] 中配置。</p>
</div>
<div class="sect3">
<h4 id="configuring-gmail-dma">31.3.1.1. 使用 DMA 通过 Gmail 路由发送邮件（ STARTTLS:SMTP 示例）<a class="anchor" href="#configuring-gmail-dma"></a></h4>
<div class="paragraph">
<p>这个示例 <span class="filename">/etc/dma/dma.conf</span> 可以用来通过 Google 的 SMTP 服务器发送邮件。</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>SMARTHOST smtp.gmail.com
PORT 587
AUTHPATH /etc/dma/auth.conf
SECURETRANSFER
STARTTLS
MASQUERADE username@gmail.com</pre>
</div>
</div>
<div class="paragraph">
<p>在 [/etc/dma/auth.conf] 文件中，可以通过一行代码设置身份验证。</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>username@gmail.com|smtp.gmail.com:password</pre>
</div>
</div>
<div class="paragraph">
<p>执行以下命令来测试配置：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="gp">% </span><span class="nb">echo </span>this is a <span class="nb">test</span> | mail -v -s testing-email username@gmail.com</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="configuring-fastmail-dma">31.3.1.2. 使用 DMA 将出站邮件通过 Fastmail 路由（ SSL/TLS 示例）<a class="anchor" href="#configuring-fastmail-dma"></a></h4>
<div class="paragraph">
<p>这个示例 <span class="filename">/etc/dma/dma.conf</span> 可以用来通过 Fastmail 的 SMTP 服务器发送邮件。</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>SMARTHOST smtp.fastmail.com
PORT 465
AUTHPATH /etc/dma/auth.conf
SECURETRANSFER
MAILNAME example.server.com</pre>
</div>
</div>
<div class="paragraph">
<p>在 [/etc/dma/auth.conf] 文件中，可以通过一行代码设置身份验证。</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>username@fastmail.com|smtp.fastmail.com:password</pre>
</div>
</div>
<div class="paragraph">
<p>执行以下命令来测试配置：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="gp">% </span><span class="nb">echo </span>this is a <span class="nb">test</span> | mail -v -s testing-email username@fastmail.com</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="configuring-custom-dma">31.3.1.3. 使用 DMA 将出站邮件路由到自定义邮件主机<a class="anchor" href="#configuring-custom-dma"></a></h4>
<div class="paragraph">
<p>这个示例 <span class="filename">/etc/dma/dma.conf</span> 可以用来使用自定义邮件主机发送邮件。</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>SMARTHOST mail.example.org
PORT 587
AUTHPATH /etc/dma/auth.conf
SECURETRANSFER
STARTTLS</pre>
</div>
</div>
<div class="paragraph">
<p>在 [/etc/dma/auth.conf] 文件中，可以通过一行代码设置身份验证。</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>username@example.org|mail.example.org:password</pre>
</div>
</div>
<div class="paragraph">
<p>执行以下命令来测试配置：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="gp">% </span><span class="nb">echo </span>this is a <span class="nb">test</span> | mail -v -s testing-email username@example.org</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sendmail">31.4. Sendmail 是一种用于电子邮件传输的开源软件。它是一种邮件传输代理（ MTA ），用于将电子邮件从发送者的计算机发送到接收者的计算机。 Sendmail 具有广泛的功能和灵活性，可以在各种操作系统上运行，并且被广泛用于互联网上的电子邮件传输。它支持多种邮件协议和格式，并提供了丰富的配置选项，使用户能够根据自己的需求进行定制。 Sendmail 是互联网上最早的邮件传输代理之一，至今仍然被广泛使用。<a class="anchor" href="#sendmail"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Sendmail 是一个古老而多功能的邮件传输代理（ MTA ），在 UNIX 和类 UNIX 系统中有着悠久的历史。它曾是 FreeBSD 基本系统的一部分，直到 FreeBSD 13 版本，提供强大的电子邮件传输功能、广泛的自定义选项以及对复杂路由和过滤的支持。</p>
</div>
<div class="sect2">
<h3 id="configuring-sendmail">31.4.1. 配置文件<a class="anchor" href="#configuring-sendmail"></a></h3>
<div class="paragraph">
<p>Sendmail 的配置文件位于 [/etc/mail/] 目录中。</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><span class="filename">/etc/mail/access</span></dt>
<dd>
<p>此访问数据库文件定义了哪些主机或 IP 地址可以访问本地邮件服务器以及他们的访问权限。以“ OK ”列出的主机是允许向本主机发送邮件的，默认选项是只要邮件的最终目的地是本地机器即可。以“ REJECT ”列出的主机将被拒绝所有邮件连接。以“ RELAY ”列出的主机可以使用此邮件服务器发送任何目的地的邮件。以“ ERROR ”列出的主机将返回带有指定邮件错误的邮件。如果将主机列为“ SKIP ”， Sendmail 将中止对此条目的当前搜索，而不接受或拒绝邮件。以“ QUARANTINE ”列出的主机的消息将被保留，并将收到指定的文本作为保留原因。</p>
<div class="paragraph">
<p>在 FreeBSD 的示例配置文件 <span class="filename">/etc/mail/access.sample</span> 中可以找到使用这些选项的 IPv4 和 IPv6 地址的示例。</p>
</div>
<div class="paragraph">
<p>要配置访问数据库，请使用示例中显示的格式在 [/etc/mail/access] 文件中进行条目输入，但不要在条目前面加上注释符号（ <code>#</code> ）。为每个需要配置访问权限的主机或网络创建一个条目。与表格左侧匹配的邮件发送者将受到表格右侧操作的影响。</p>
</div>
<div class="paragraph">
<p>每当此文件更新时，更新其数据库并重新启动 Sendmail ：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># makemap hash /etc/mail/access &lt; /etc/mail/access</span>
<span class="c"># service sendmail restart</span></code></pre>
</div>
</div>
</dd>
<dt class="hdlist1"><span class="filename">/etc/mail/aliases</span></dt>
<dd>
<p>这个数据库文件包含了一个虚拟邮箱列表，这些邮箱可以扩展到用户、文件、程序或其他别名。以下是一些条目，用于说明文件格式：</p>
<div class="literalblock programlisting">
<div class="content">
<pre>root: localuser
ftp-bugs: joe,eric,paul
bit.bucket:  /dev/null
procmail: &#34;|/usr/local/bin/procmail&#34;</pre>
</div>
</div>
<div class="paragraph">
<p>冒号左侧的邮箱名称会被扩展为右侧的目标邮箱。第一个条目将 <code>root</code> 邮箱扩展为 <code>localuser</code> 邮箱，然后在 <code>.filename</code><mark>/etc/mail/aliases</mark> 数据库中查找。如果找不到匹配项，则将消息发送到 <code>localuser</code> 。第二个条目显示了一个邮件列表。邮件发送到 <code>ftp-bugs</code> 会被扩展为三个本地邮箱 <code>joe</code> 、 <code>eric</code> 和 <code>paul</code> 。远程邮箱可以指定为_user @ example.com_。第三个条目展示了如何将邮件写入文件，本例中为 <code>.filename</code><mark>/dev/null</mark> 。最后一个条目演示了如何通过 UNIX® 管道将邮件发送到一个程序，即 <code>.filename</code><mark>/usr/local/bin/procmail</mark> 。有关此文件格式的更多信息，请参考 <a href="https://man.freebsd.org/cgi/man.cgi?query=aliases&amp;sektion=5&amp;format=html">aliases(5)</a> 。</p>
</div>
<div class="paragraph">
<p>每当此文件更新时，运行 <code>newaliases</code> 命令以更新和初始化别名数据库。</p>
</div>
</dd>
<dt class="hdlist1"><span class="filename">/etc/mail/sendmail.cf</span></dt>
<dd>
<p>这是 Sendmail 的主配置文件。它控制 Sendmail 的整体行为，包括从重写电子邮件地址到向远程邮件服务器打印拒绝消息的一切。因此，这个配置文件非常复杂。幸运的是，对于标准邮件服务器来说，这个文件很少需要更改。</p>
<div class="paragraph">
<p>主 Sendmail 配置文件可以使用定义 Sendmail 功能和行为的 m4 宏来构建。有关详细信息，请参阅 <code>/usr/src/contrib/sendmail/cf/README</code> 文件。</p>
</div>
<div class="paragraph">
<p>每当对该文件进行更改时，需要重新启动 Sendmail 才能使更改生效。</p>
</div>
</dd>
<dt class="hdlist1"><span class="filename">/etc/mail/virtusertable</span></dt>
<dd>
<p>这个数据库文件将虚拟域和用户的邮件地址映射到真实的邮箱。这些邮箱可以是本地的、远程的、在 [/etc/mail/aliases](/etc/mail/aliases) 中定义的别名，或者是文件。这样可以在一台机器上托管多个虚拟域。</p>
<div class="paragraph">
<p>FreeBSD 在 [/etc/mail/virtusertable.sample] 提供了一个示例配置文件，以进一步展示其格式。以下示例演示了如何使用该格式创建自定义条目：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>root@example.com                root
postmaster@example.com          postmaster@noc.example.net
@example.com                    joe</pre>
</div>
</div>
<div class="paragraph">
<p>此文件按照第一匹配的顺序进行处理。当电子邮件地址与左侧的地址匹配时，它将映射到右侧列出的本地邮箱。在此示例中，第一条目的格式将特定的电子邮件地址映射到本地邮箱，而第二条目的格式将特定的电子邮件地址映射到远程邮箱。最后，任何未与前面的条目匹配的来自 <code>example.com</code> 的电子邮件地址将匹配最后一个映射，并发送到本地邮箱 <code>joe</code> 。创建自定义条目时，请使用此格式并将其添加到 <span class="filename">/etc/mail/virtusertable</span> 。每当编辑此文件时，请更新其数据库并重新启动 Sendmail ：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># makemap hash /etc/mail/virtusertable &lt; /etc/mail/virtusertable</span>
<span class="c"># service sendmail restart</span></code></pre>
</div>
</div>
</dd>
<dt class="hdlist1"><span class="filename">/etc/mail/relay-domains</span></dt>
<dd>
<p>在默认的 FreeBSD 安装中， Sendmail 被配置为只能从运行它的主机发送邮件。例如，如果有一个 POP 服务器可用，用户可以从远程位置检查邮件，但他们将无法从外部位置发送出站邮件。通常，在尝试发送邮件后的几分钟内，将会收到来自 <code>MAILER-DAEMON</code> 的邮件，并附带有 <code>5.7 Relaying Denied</code> 的消息。</p>
<div class="paragraph">
<p>最直接的解决方案是将 ISP 的 FQDN 添加到 [/etc/mail/relay-domains] 文件中。如果需要多个地址，请每行添加一个地址：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>your.isp.example.com
other.isp.example.net
users-isp.example.org
www.example.org</pre>
</div>
</div>
<div class="paragraph">
<p>在创建或编辑此文件后，使用 <code>service sendmail restart</code> 重新启动 Sendmail 。</p>
</div>
<div class="paragraph">
<p>现在，只要在此列表中的任何主机通过系统发送邮件，并且用户在系统上有一个账户，邮件将会成功发送。这使得用户可以远程从系统发送邮件，而不会使系统暴露于来自互联网的垃圾邮件中继。</p>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="mail-changingmta">31.5. 更改邮件传输代理<a class="anchor" href="#mail-changingmta"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>从 FreeBSD 14.0 版本开始，默认的 MTA 是 <a href="https://man.freebsd.org/cgi/man.cgi?query=dma&amp;sektion=8&amp;format=html">dma(8)</a> ，而在 14.0 之前，默认的 MTA 是 <a href="https://man.freebsd.org/cgi/man.cgi?query=sendmail&amp;sektion=8&amp;format=html">sendmail(8)</a> 。然而，系统管理员可以更改系统的 MTA 。在 FreeBSD Ports Collection 的 <code>mail</code> 类别中提供了多种可选的 MTA 。</p>
</div>
<div class="admonitionblock warning">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>如果默认的出站邮件服务被禁用，重要的是要用替代的邮件传递系统来替代它。否则，像 <a href="https://man.freebsd.org/cgi/man.cgi?query=periodic&amp;sektion=8&amp;format=html">periodic(8)</a> 这样的系统功能将无法通过电子邮件传递其结果。系统的许多部分都期望有一个可用的邮件传输代理（ MTA ）。如果应用程序在禁用后继续使用默认的二进制文件尝试发送电子邮件，邮件可能会进入非活动队列并永远无法传递。</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="sect2">
<h3 id="replace-sendmail-dma">31.5.1. 替换 Sendmail 与其他 MTA<a class="anchor" href="#replace-sendmail-dma"></a></h3>
<div class="paragraph">
<p>为了完全禁用 <a href="https://man.freebsd.org/cgi/man.cgi?query=sendmail&amp;sektion=8&amp;format=html">sendmail(8)</a> ，执行以下命令：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># sysrc sendmail_enable=&#34;NO&#34;</span>
<span class="c"># sysrc sendmail_submit_enable=&#34;NO&#34;</span>
<span class="c"># sysrc sendmail_outbound_enable=&#34;NO&#34;</span>
<span class="c"># sysrc sendmail_msp_queue_enable=&#34;NO&#34;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>要仅禁用 <a href="https://man.freebsd.org/cgi/man.cgi?query=sendmail&amp;sektion=8&amp;format=html">sendmail(8)</a> 的传入邮件服务，请执行以下命令：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># sysrc sendmail_enable=&#34;NO&#34;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>然后停止 <a href="https://man.freebsd.org/cgi/man.cgi?query=sendmail&amp;sektion=8&amp;format=html">sendmail(8)</a> 服务：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># service sendmail onestop</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>由于 <a href="https://man.freebsd.org/cgi/man.cgi?query=sendmail&amp;sektion=8&amp;format=html">sendmail(8)</a> 非常普遍，一些软件假设它已经安装和配置好，因此需要进行一些额外的配置。请检查 .filename#/etc/periodic.conf# 文件，并确保这些值设置为 <code>NO</code> 。如果该文件不存在，请创建并添加以下条目：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>daily_clean_hoststat_enable=&#34;NO&#34;
daily_status_mail_rejects_enable=&#34;NO&#34;
daily_status_include_submit_mailq=&#34;NO&#34;
daily_submit_queuerun=&#34;NO&#34;</pre>
</div>
</div>
<div class="paragraph">
<p>下一步是安装另一个 MTA ，本示例将使用 <a href="https://man.freebsd.org/cgi/man.cgi?query=dma&amp;sektion=8&amp;format=html">dma(8)</a> 。如上所述， <a href="https://man.freebsd.org/cgi/man.cgi?query=dma&amp;sektion=8&amp;format=html">dma(8)</a> 是 FreeBSD 14.0 版本开始的默认 MTA 。因此，如果您使用的是旧版本，则只需要从 ports 安装它。</p>
</div>
<div class="paragraph">
<p>要安装它，请执行以下命令：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># pkg install dma</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>按照 &lt;&lt; 配置 Dragonfly 邮件代理 &gt;&gt; 中所示进行配置。</p>
</div>
<div class="paragraph">
<p>然后将文件 <span class="filename">/etc/mail/mailer.conf</span> 中的所有条目更改为 <a href="https://man.freebsd.org/cgi/man.cgi?query=dma&amp;sektion=8&amp;format=html">dma(8)</a> ：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre># $FreeBSD$
#
# Execute the &#34;real&#34; sendmail program, named /usr/libexec/sendmail/sendmail
#
# If dma(8) is installed, an example mailer.conf that uses dma(8) instead can
# be found in /usr/share/examples/dma
#
sendmail        /usr/local/libexec/dma
mailq           /usr/local/libexec/dma
newaliases      /usr/local/libexec/dma</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>当使用基本系统中包含的 <a href="https://man.freebsd.org/cgi/man.cgi?query=dma&amp;sektion=8&amp;format=html">dma(8)</a> 版本时，路径将更改为 [/usr/libexec/dma]#.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>为了确保在启动或关机之前将队列中的所有内容刷新，请执行以下命令：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># sysrc dma_flushq_enable=&#34;YES&#34;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>一旦所有配置完成，建议重新启动系统。重新启动可以确保系统正确配置，以便在启动时自动启动新的 MTA 。</p>
</div>
</div>
<div class="sect2">
<h3 id="replace-dma">31.5.2. 用其他邮件传输代理（ MTA ）替换 DragonFly Mail Agent （ DMA ）<a class="anchor" href="#replace-dma"></a></h3>
<div class="paragraph">
<p>如上所述，从 FreeBSD 14.0 版本开始，默认的 MTA 是 DMA 。在这个例子中，将使用 <a class="package" href="https://cgit.freebsd.org/ports/tree/mail/postfix/">mail/postfix</a> 作为替代的 MTA 。</p>
</div>
<div class="paragraph">
<p>在安装 <a class="package" href="https://cgit.freebsd.org/ports/tree/mail/postfix/">mail/postfix</a> 之前，需要进行一些额外的配置。检查 <span class="filename">/etc/periodic.conf</span> 并确保这些值设置为 <code>NO</code> 。如果该文件不存在，请创建它并添加以下条目：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>daily_clean_hoststat_enable=&#34;NO&#34;
daily_status_mail_rejects_enable=&#34;NO&#34;
daily_status_include_submit_mailq=&#34;NO&#34;
daily_submit_queuerun=&#34;NO&#34;</pre>
</div>
</div>
<div class="paragraph">
<p>然后安装包： mail/postfix[] ：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># pkg install postfix</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>要在系统启动时启动 <a class="package" href="https://cgit.freebsd.org/ports/tree/mail/postfix/">mail/postfix</a> ，执行以下命令：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># sysrc postfix_enable=&#34;YES&#34;</span></code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>在安装应用程序后阅读安装消息是一个好的做法。它提供了有关设置等方面的有用信息。</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>如果在 <code>/usr/local/etc/mail/mailer.conf</code> 中 * 尚未 * 激活后缀，请执行以下命令：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">mv /usr/local/etc/mail/mailer.conf /usr/local/etc/mail/mailer.conf.old
install -d /usr/local/etc/mail
install -m 0644 /usr/local/share/postfix/mailer.conf.postfix /usr/local/etc/mail/mailer.conf</code></pre>
</div>
</div>
<div class="paragraph">
<p>在使用 SASL 时，请确保 postfix 有权限读取 sasldb 文件。可以通过将 postfix 添加到 mail 组，并将 /usr/local/etc/sasldb* 文件设置为 mail 组可读（这应该是新安装的默认设置）来实现这一点。</p>
</div>
<div class="paragraph">
<p>一旦所有配置完成，建议重新启动系统。重新启动可以确保系统正确配置，以便在启动时自动启动新的 MTA 。</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="mail-agents">31.6. 邮件用户代理<a class="anchor" href="#mail-agents"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>MUA 是一种用于发送和接收电子邮件的应用程序。随着电子邮件的“演变”和变得越来越复杂， MUA 变得越来越强大，为用户提供了更多的功能和灵活性。 FreeBSD Ports Collection 的“ mail ”类别中包含了许多 MUA 。这些包括图形化的电子邮件客户端，如 Evolution 或 Balsa ，以及基于控制台的客户端，如 mutt 或 alpine 。</p>
</div>
<div class="sect2">
<h3 id="mail-command">31.6.1. 邮件<a class="anchor" href="#mail-command"></a></h3>
<div class="paragraph">
<p><a href="https://man.freebsd.org/cgi/man.cgi?query=mail&amp;sektion=1&amp;format=html">mail(1)</a> 是默认安装在 FreeBSD 上的 MUA （邮件用户代理）。它是一个基于控制台的 MUA ，提供发送和接收基于文本的电子邮件所需的基本功能。它提供有限的附件支持，并且只能访问本地邮箱。</p>
</div>
<div class="paragraph">
<p>虽然 <a href="https://man.freebsd.org/cgi/man.cgi?query=mail&amp;sektion=1&amp;format=html">mail(1)</a> 本身不支持与 POP 或 IMAP 服务器的交互，但可以使用诸如 fetchmail 或 getmail 之类的应用程序将这些邮箱下载到本地的 <code>mbox</code> 中。</p>
</div>
<div class="paragraph">
<p>为了发送和接收电子邮件，请运行 <a href="https://man.freebsd.org/cgi/man.cgi?query=mail&amp;sektion=1&amp;format=html">mail(1)</a> 。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="gp">% </span>mail</code></pre>
</div>
</div>
<div class="paragraph">
<p>用户的邮箱内容位于 <span class="filename">/var/mail</span> 中，会被 <a href="https://man.freebsd.org/cgi/man.cgi?query=mail&amp;sektion=1&amp;format=html">mail(1)</a> 自动读取。如果邮箱为空，该工具将退出并显示一条消息表示未找到邮件。如果存在邮件，应用程序界面将启动，并显示一份消息列表。</p>
</div>
<div class="paragraph">
<p>消息会自动编号，如下面的示例所示：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>Mail version 8.1 6/6/93.  Type ? for help.
&#34;/var/mail/username&#34;: 3 messages 3 new
&gt;N  1 root@localhost        Mon Mar  8 14:05  14/510   &#34;test&#34;
 N  2 root@localhost        Mon Mar  8 14:05  14/509   &#34;user account&#34;
 N  3 root@localhost        Mon Mar  8 14:05  14/509   &#34;sample&#34;</pre>
</div>
</div>
<div class="paragraph">
<p>现在可以通过键入 <kbd>t</kbd> 后跟消息编号来阅读消息。</p>
</div>
<div class="paragraph">
<p>这个例子读取第一封电子邮件：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>&amp; t 1
Message 1:
From root@localhost  Mon Mar  8 14:05:52 2004
X-Original-To: username@localhost
Delivered-To: username@localhost
To: username@localhost
Subject: test
Date: Mon,  8 Mar 2004 14:05:52 +0200 (SAST)
From: root@localhost (Charlie Root)

This is a test message, please reply if you receive it.</pre>
</div>
</div>
<div class="paragraph">
<p>如本示例所示，消息将显示完整的标题。</p>
</div>
<div class="paragraph">
<p>要再次显示消息列表，请按下 <kbd>h</kbd> 。</p>
</div>
<div class="paragraph">
<p>如果需要回复邮件，请按下 <kbd>R</kbd> 或 <kbd>r</kbd> 键。 <kbd>R</kbd> 命令指示 <a href="https://man.freebsd.org/cgi/man.cgi?query=mail&amp;sektion=1&amp;format=html">mail(1)</a> 仅回复邮件的发送者，而 <kbd>r</kbd> 命令则回复给所有其他收件人。这些命令可以在回复的邮件编号后面添加。在输入回复内容后，邮件的结尾应该用单独一行的 <kbd>.</kbd> 标记。</p>
</div>
<div class="paragraph">
<p>下面是一个示例：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>&amp; R 1
To: root@localhost
Subject: Re: test

Thank you, I did get your email.
.
EOT</pre>
</div>
</div>
<div class="paragraph">
<p>要发送一封新邮件，按下 <kbd>m</kbd> 键，然后输入收件人的电子邮件地址。可以通过使用 <kbd>,</kbd> 分隔符来指定多个收件人。然后可以输入邮件的主题，然后是邮件内容。邮件的结束应该在单独的一行上放置一个单独的 <kbd>.</kbd> 。</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>&amp; mail root@localhost
Subject: I mastered mail

Now I can send and receive email using mail ... :)
.
EOT</pre>
</div>
</div>
<div class="paragraph">
<p>在使用 <a href="https://man.freebsd.org/cgi/man.cgi?query=mail&amp;sektion=1&amp;format=html">mail(1)</a> 时，按下 <kbd>?</kbd> 以随时显示帮助。有关如何使用 <a href="https://man.freebsd.org/cgi/man.cgi?query=mail&amp;sektion=1&amp;format=html">mail(1)</a> 的更多帮助，请参考 <a href="https://man.freebsd.org/cgi/man.cgi?query=mail&amp;sektion=1&amp;format=html">mail(1)</a> 。</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p><a href="https://man.freebsd.org/cgi/man.cgi?query=mail&amp;sektion=1&amp;format=html">mail(1)</a> 并不是为了处理附件而设计的，因此在处理附件方面表现不佳。较新的邮件用户代理（ MUAs ）以更智能的方式处理附件。</p>
</div>
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect2">
<h3 id="mutt-command">31.6.2. Mutt 是一个基于文本的电子邮件客户端，它在 Unix-like 操作系统上运行。它具有高度可定制性和灵活性，可以通过配置文件进行个性化设置。 Mutt 支持多种邮件协议，包括 POP3 、 IMAP 和 SMTP ，并且可以与其他工具集成，如 GnuPG 和 Muttprint 。它被广泛用于命令行环境下的电子邮件管理。<a class="anchor" href="#mutt-command"></a></h3>
<div class="paragraph">
<p>Mutt 是一个功能强大的邮件用户代理程序，具有许多功能，包括：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>线程消息的能力。</p>
</li>
<li>
<p>PGP 支持对电子邮件进行数字签名和加密。</p>
</li>
<li>
<p>MIME 支持。</p>
</li>
<li>
<p>Maildir 支持。</p>
</li>
<li>
<p>高度可定制。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>请参考链接： [<a href="http://www.mutt.org" class="bare">http://www.mutt.org</a>](<a href="http://www.mutt.org" class="bare">http://www.mutt.org</a>) 获取有关 Mutt 的更多信息。</p>
</div>
<div class="admonitionblock tip">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>值得一提的是一个名为 NeoMutt 的 Mutt 分支，它带来了额外的功能。请访问链接了解更多信息： [NeoMutt 网站](<a href="https://neomutt.org/about.html" class="bare">https://neomutt.org/about.html</a>) 。如果选择 NeoMutt ，请将以下命令示例中的 <code>mutt</code> 替换为 <code>neomutt</code> 。</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>Mutt 可以使用 <a class="package" href="https://cgit.freebsd.org/ports/tree/mail/mutt/">mail/mutt</a> 端口进行安装。安装完成后，可以通过以下命令启动 Mutt ：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="gp">% </span>mutt</code></pre>
</div>
</div>
<div class="paragraph">
<p>Mutt 将自动读取并显示用户邮箱的内容，路径为 <code>/var/mail</code> 。如果没有找到邮件， Mutt 将等待用户的命令。下面的示例显示了 Mutt 显示消息列表的情况：</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../images/books/handbook/mail/mutt1.png" alt="Mutt 邮件客户端显示消息列表"/>
</div>
</div>
<div class="paragraph">
<p>要阅读一封电子邮件，使用光标键选择它，然后按下 <kbd>Enter</kbd> 。下面是 Mutt 显示电子邮件的示例：</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../images/books/handbook/mail/mutt2.png" alt="Mutt 邮件客户端显示一封电子邮件"/>
</div>
</div>
<div class="paragraph">
<p>与 <a href="https://man.freebsd.org/cgi/man.cgi?query=mail&amp;sektion=1&amp;format=html">mail(1)</a> 类似， Mutt 可以用于仅回复邮件的发件人，也可以回复给所有收件人。要仅回复给邮件的发件人，按下键盘上的 [r] 键。要向原始发件人和所有收件人发送群组回复，按下键盘上的 [g] 键。</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>默认情况下， Mutt 使用 <a href="https://man.freebsd.org/cgi/man.cgi?query=vi&amp;sektion=1&amp;format=html">vi(1)</a> 编辑器来创建和回复电子邮件。每个用户可以通过在其主目录中创建或编辑 .filename#.muttrc# 文件并设置 <code>editor</code> 变量，或者设置 <code>EDITOR</code> 环境变量来自定义此设置。有关配置 Mutt 的更多信息，请参阅 <a href="http://www.mutt.org/">http://www.mutt.org/</a> 。</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>按下 <kbd>m</kbd> 键来撰写一封新的邮件。在输入有效的主题后， Mutt 将启动 <a href="https://man.freebsd.org/cgi/man.cgi?query=vi&amp;sektion=1&amp;format=html">vi(1)</a> 以便编写邮件内容。完成邮件内容后，保存并退出 <code>vi</code> 。 Mutt 将恢复，并显示待发送邮件的摘要屏幕。要发送邮件，请按下 <kbd>y</kbd> 键。下面是摘要屏幕的示例：</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../images/books/handbook/mail/mutt3.png" alt="Mutt 邮件客户端显示摘要屏幕"/>
</div>
</div>
<div class="paragraph">
<p>Mutt 包含丰富的帮助信息，可以通过在大多数菜单中按下 <kbd>?</kbd> 来访问。在适当的情况下，顶部行还显示键盘快捷键。</p>
</div>
</div>
<div class="sect2">
<h3 id="alpine-command">31.6.3. 阿尔卑斯<a class="anchor" href="#alpine-command"></a></h3>
<div class="paragraph">
<p>Alpine 面向初学者用户，同时也包含一些高级功能。</p>
</div>
<div class="admonitionblock warning">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>在过去， Alpine 曾发现过几个远程漏洞，允许远程攻击者通过发送特制的电子邮件，在本地系统上以用户身份执行任意代码。虽然已经修复了已知的问题，但 Alpine 的代码编写方式存在安全隐患， FreeBSD 安全官员认为可能还存在其他未被发现的漏洞。用户在安装 Alpine 时需自行承担风险。</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>可以使用 <a class="package" href="https://cgit.freebsd.org/ports/tree/mail/alpine/">mail/alpine</a> 端口安装当前版本的 alpine 。安装完成后，可以通过以下命令启动 alpine ：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="gp">% </span>alpine</code></pre>
</div>
</div>
<div class="paragraph">
<p>当 alpine 第一次运行时，它会显示一个问候页面，其中包含简要介绍，以及 alpine 开发团队的请求，要求发送一封匿名电子邮件，以便他们判断有多少用户在使用他们的客户端。要发送这封匿名邮件，请按下 <kbd>Enter</kbd> 。或者，按下 <kbd>E</kbd> 退出问候页面，而不发送匿名邮件。下面是问候页面的示例：</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../images/books/handbook/mail/pine1.png" alt="Alpine 邮件客户端显示问候页面。"/>
</div>
</div>
<div class="paragraph">
<p>然后显示主菜单，可以使用光标键进行导航。该主菜单提供了快捷方式，用于撰写新邮件、浏览邮件目录和管理通讯录条目。在主菜单下方，显示了与当前任务相关的执行特定功能的键盘快捷键。</p>
</div>
<div class="paragraph">
<p>alpine 打开的默认目录是 <span class="filename">inbox</span> 。要查看消息索引，请按下 <kbd>I</kbd> ，或选择下面显示的 <span class="guimenuitem">MESSAGE INDEX</span> 选项。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../images/books/handbook/mail/pine2.png" alt="Alpine 邮件客户端显示默认目录。"/>
</div>
</div>
<div class="paragraph">
<p>消息索引显示当前目录中的消息，并可以使用光标键进行导航。按下 <kbd>Enter</kbd> 可以阅读突出显示的消息。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../images/books/handbook/mail/pine3.png" alt="Alpine 邮件客户端显示消息索引"/>
</div>
</div>
<div class="paragraph">
<p>在下面的截图中， alpine 显示了一个示例消息。屏幕底部显示了上下文键盘快捷键。一个快捷键的示例是 <kbd>r</kbd> ，它告诉 MUA 回复当前显示的消息。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../images/books/handbook/mail/pine4.png" alt="阿尔派恩邮件客户端显示一封电子邮件。"/>
</div>
</div>
<div class="paragraph">
<p>在 alpine 中回复电子邮件是使用 pico 编辑器完成的， pico 编辑器是 alpine 的默认安装选项。 pico 编辑器使得浏览邮件变得容易，并且对于新手用户来说比 <a href="https://man.freebsd.org/cgi/man.cgi?query=vi&amp;sektion=1&amp;format=html">vi(1)</a> 或 <a href="https://man.freebsd.org/cgi/man.cgi?query=mail&amp;sektion=1&amp;format=html">mail(1)</a> 更容易使用。完成回复后，按下 <span class="keyseq"><kbd>Ctrl</kbd>+<kbd>X</kbd></span> 即可发送邮件。在发送邮件之前， alpine 会要求确认。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../../../../images/books/handbook/mail/pine5.png" alt="阿尔派恩邮件客户端显示消息撰写窗口"/>
</div>
</div>
<div class="paragraph">
<p>可以使用主菜单中的 <span class="guimenuitem">SETUP</span> 选项来自定义 Alpine 。</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="mail-advanced">31.7. 高级主题<a class="anchor" href="#mail-advanced"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>本节涵盖了更复杂的主题，如邮件配置和为整个域名设置邮件。</p>
</div>
<div class="sect2">
<h3 id="mail-config">31.7.1. 基本配置<a class="anchor" href="#mail-config"></a></h3>
<div class="paragraph">
<p>只要配置了 <span class="filename">/etc/resolv.conf</span> 或者网络可以访问到配置的 DNS 服务器，就可以直接向外部主机发送电子邮件。要将电子邮件传递到 FreeBSD 主机上的 MTA ，请执行以下操作之一：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>为该域名运行一个 DNS 服务器。</p>
</li>
<li>
<p>将邮件直接发送到机器的 FQDN 。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>为了直接将邮件投递到主机，它必须拥有一个永久的静态 IP 地址，而不是动态 IP 地址。如果系统位于防火墙后面，必须配置防火墙以允许 SMTP 流量。要在主机上直接接收邮件，必须配置以下两种方式之一：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>确保 DNS 中最低编号的 MX 记录指向主机的静态 IP 地址。</p>
</li>
<li>
<p>确保 DNS 中没有主机的 MX 记录。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>以上两种方法都可以直接将邮件发送到主机。</p>
</div>
<div class="paragraph">
<p>试试这个：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># hostname</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>输出应该类似于以下内容：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>example.FreeBSD.org</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># host example.FreeBSD.org</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>输出应该类似于以下内容：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>example.FreeBSD.org has address 204.216.27.XX</pre>
</div>
</div>
<div class="paragraph">
<p>在这个例子中，直接发送到 mailto:yourlogin @ example.FreeBSD.org[yourlogin @ example.FreeBSD.org] 的邮件应该可以正常工作，前提是在 <code>example.FreeBSD.org</code> 上运行了一个功能齐全的 MTA 。请注意， <a href="https://man.freebsd.org/cgi/man.cgi?query=dma&amp;sektion=8&amp;format=html">dma(8)</a> 不会在端口 25 上监听传入连接，因此在这种情况下不能使用它。</p>
</div>
<div class="paragraph">
<p>对于这个例子：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># host example.FreeBSD.org</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>输出应该类似于以下内容：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>example.FreeBSD.org has address 204.216.27.XX
example.FreeBSD.org mail is handled (pri=10) by nevdull.FreeBSD.org</pre>
</div>
</div>
<div class="paragraph">
<p>所有发送到 <code>example.FreeBSD.org</code> 的邮件将会被收集在 <code>nevdull</code> 上，使用相同的用户名，而不是直接发送到您的主机。</p>
</div>
<div class="paragraph">
<p>上述信息由 DNS 服务器处理。携带邮件路由信息的 DNS 记录是邮件交换器记录（ MX 记录）。如果不存在 MX 记录，则邮件将通过其 IP 地址直接传递给主机。</p>
</div>
<div class="paragraph">
<p><code>freefall.FreeBSD.org</code> 的 MX 记录曾经是这样的：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>freefall		MX	30	mail.crl.net
freefall		MX	40	agora.rdrop.com
freefall		MX	10	freefall.FreeBSD.org
freefall		MX	20	who.cdrom.com</pre>
</div>
</div>
<div class="paragraph">
<p><code>freefall</code> 有许多 MX 记录。最低的 MX 号码对应的主机直接接收邮件，如果可用的话。如果由于某种原因无法访问该主机，下一个较低编号的主机将暂时接收邮件，并在较低编号的主机可用时将其传递。</p>
</div>
<div class="paragraph">
<p>备用 MX 站点应该有独立的互联网连接，以便发挥最大的作用。您的互联网服务提供商可以提供这项服务。</p>
</div>
</div>
<div class="sect2">
<h3 id="mail-domain">31.7.2. 域名的邮件<a class="anchor" href="#mail-domain"></a></h3>
<div class="paragraph">
<p>在为网络配置邮件传输代理（ MTA ）时，任何发送到其域中的主机的邮件都应该被重定向到 MTA ，以便用户可以在主邮件服务器上接收到他们的邮件。</p>
</div>
<div class="paragraph">
<p>为了使生活更加方便，在 MTA 和带有 MUA 的系统上应该存在相同的用户名的用户账户。使用 <a href="https://man.freebsd.org/cgi/man.cgi?query=adduser&amp;sektion=8&amp;format=html">adduser(8)</a> 命令来创建用户账户。</p>
</div>
<div class="admonitionblock tip">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>除了将本地用户添加到主机上之外，还有一种称为虚拟用户的替代方法。像 Cyrus 和 Dovecot 这样的程序可以集成到 MTA 中，用于处理用户、邮件存储，并通过 POP3 和 IMAP 提供访问。</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>MTA 必须成为网络上每个工作站的指定邮件交换器。这是通过 DNS 配置中的 MX 记录来完成的：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>example.FreeBSD.org	A	204.216.27.XX		; Workstation
			MX	10 nevdull.FreeBSD.org	; Mailhost</pre>
</div>
</div>
<div class="paragraph">
<p>无论 A 记录指向何处，这将把工作站的邮件重定向到 MTA 。邮件将发送到 MX 主机。</p>
</div>
<div class="paragraph">
<p>这必须在 DNS 服务器上进行配置。如果网络没有运行自己的 DNS 服务器，请与 ISP 或 DNS 提供商联系。</p>
</div>
<div class="paragraph">
<p>以下是虚拟邮件托管的示例。</p>
</div>
<div class="paragraph">
<p>考虑一个域名为 <code>customer1.org</code> 的客户，所有发送给 <code>customer1.org</code> 的邮件都应该发送到 <code>mail.myhost.com</code> 。</p>
</div>
<div class="paragraph">
<p>DNS 条目应该如下所示：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>customer1.org		MX	10	mail.myhost.com</pre>
</div>
</div>
<div class="paragraph">
<p>为了仅处理 <code>customer1.org</code> 域名的电子邮件，不需要为其创建 <code>A</code> 记录。然而，如果没有为 <code>customer1.org</code> 创建 <code>A</code> 记录，则无法使用 <code>ping</code> 命令对其进行测试。</p>
</div>
<div class="paragraph">
<p>告诉 MTA 应该接受哪些域名和 / 或主机名的邮件。对于 Sendmail ，以下任一方式都可以使用：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>在使用 <code>FEATURE(use_cw_file)</code> 时，将主机添加到 <span class="filename">/etc/mail/local-host-names</span> 中。</p>
</li>
<li>
<p>在 <span class="filename">/etc/sendmail.cf</span> 文件中添加一行 <code>Cwyour.host.com</code> 。</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="outgoing-only">31.7.3. 设置仅发送的配置<a class="anchor" href="#outgoing-only"></a></h3>
<div class="paragraph">
<p>有许多情况下，人们可能只想通过中继发送邮件。一些例子包括：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>计算机是一台台式机，需要使用诸如 <a href="https://man.freebsd.org/cgi/man.cgi?query=mail&amp;sektion=1&amp;format=html">mail(1)</a> 这样的程序，使用 ISP 的邮件中继。</p>
</li>
<li>
<p>计算机是一个服务器，不处理本地邮件，但需要将所有邮件传递给中继进行处理。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>虽然任何邮件传输代理（ MTA ）都能够满足这个特定需求，但是仅仅为了处理邮件转发而正确配置一个功能齐全的 MTA 可能会很困难。像 Sendmail 和 Postfix 这样的程序对于这种用途来说过于复杂。</p>
</div>
<div class="paragraph">
<p>此外，一个典型的互联网接入服务协议可能禁止用户运行“邮件服务器”。</p>
</div>
<div class="paragraph">
<p>满足这些需求的最简单方法是使用包含在 <a href="#configuring-dragonfly-mail-agent ，基本系统 ">[configuring-dragonfly-mail-agent ，基本系统 ]</a> 中的 <a href="https://man.freebsd.org/cgi/man.cgi?query=dma&amp;sektion=8&amp;format=html">dma(8)</a> MTA 。对于版本低于 13.2 的系统，需要从 ports 进行安装。</p>
</div>
<div class="paragraph">
<p>除了 <a href="https://man.freebsd.org/cgi/man.cgi?query=dma&amp;sektion=8&amp;format=html">dma(8)</a> 之外，还可以使用第三方软件来实现相同的功能，比如 <a class="package" href="https://cgit.freebsd.org/ports/tree/mail/ssmtp/">mail/ssmtp</a> 。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># cd /usr/ports/mail/ssmtp</span>
<span class="c"># make install replace clean</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>安装完成后，可以使用 <span class="filename">/usr/local/etc/ssmtp/ssmtp.conf</span> 配置 <a class="package" href="https://cgit.freebsd.org/ports/tree/mail/ssmtp/">mail/ssmtp</a> 。</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>root=yourrealemail@example.com
mailhub=mail.example.com
rewriteDomain=example.com
hostname=_HOSTNAME_</pre>
</div>
</div>
<div class="paragraph">
<p>使用真实的电子邮件地址替换 <code>root</code> 。在 <code>mail.example.com</code> 的位置输入 ISP 的出站邮件中继。一些 ISP 称其为“出站邮件服务器”或“ SMTP 服务器”。</p>
</div>
<div class="paragraph">
<p>请确保禁用 Sendmail ，包括出站邮件服务。有关详细信息，请参阅 <a href="#mail-disable-sendmail">[mail-disable-sendmail]</a> 。</p>
</div>
<div class="paragraph">
<p>包： mail/ssmtp[] 还有其他可用的选项。有关更多信息，请参阅 <span class="filename">/usr/local/etc/ssmtp</span> 中的示例或 ssmtp 的手册页。</p>
</div>
<div class="paragraph">
<p>以这种方式设置 ssmtp 允许计算机上需要发送邮件的任何软件正常运行，同时不违反 ISP 的使用政策，也不允许计算机被劫持用于发送垃圾邮件。</p>
</div>
</div>
<div class="sect2">
<h3 id="SMTP-Auth">31.7.4. Sendmail 中的 SMTP 身份验证<a class="anchor" href="#SMTP-Auth"></a></h3>
<div class="paragraph">
<p>在 MTA 上配置 SMTP 身份验证提供了许多好处。 SMTP 身份验证为 Sendmail 增加了一层安全性，并为切换主机的移动用户提供了在不需要每次重新配置邮件客户端设置的情况下使用相同 MTA 的能力。</p>
</div>
<div class="paragraph">
<p>从 Ports Collection 安装包： security/cyrus-sasl2[] 。该端口支持许多编译时选项。对于在此示例中演示的 SMTP 身份验证方法，请确保 <code>LOGIN</code> 未禁用。</p>
</div>
<div class="paragraph">
<p>安装完包 :security/cyrus-sasl2[] 后，编辑 <span class="filename">/usr/local/lib/sasl2/Sendmail.conf</span> ，如果该文件不存在则创建，并添加以下行：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>pwcheck_method: saslauthd</pre>
</div>
</div>
<div class="paragraph">
<p>接下来，安装包： security/cyrus-sasl2-saslauthd[] ，并执行以下命令：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># sysrc saslauthd_enable=&#34;YES&#34;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>最后，启动 saslauthd 守护进程：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># service saslauthd start</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>该守护进程用作 Sendmail 的代理，用于对 FreeBSD <a href="https://man.freebsd.org/cgi/man.cgi?query=passwd&amp;sektion=5&amp;format=html">passwd(5)</a> 数据库进行身份验证。这样可以避免为每个需要使用 SMTP 身份验证的用户创建新的用户名和密码，并保持登录和邮件密码相同。</p>
</div>
<div class="paragraph">
<p>接下来，编辑 [/etc/make.conf] 文件，并添加以下行：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>SENDMAIL_CFLAGS=-I/usr/local/include/sasl -DSASL
SENDMAIL_LDADD=/usr/local/lib/libsasl2.so</pre>
</div>
</div>
<div class="paragraph">
<p>这些行为 Sendmail 提供了在编译时链接到 <a class="package" href="https://cgit.freebsd.org/ports/tree/cyrus-sasl2/">cyrus-sasl2</a> 的正确配置选项。在重新编译 Sendmail 之前，请确保已安装 <a class="package" href="https://cgit.freebsd.org/ports/tree/cyrus-sasl2/">cyrus-sasl2</a> 。</p>
</div>
<div class="paragraph">
<p>通过执行以下命令重新编译 Sendmail ：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># cd /usr/src/lib/libsmutil</span>
<span class="c"># make cleandir &amp;&amp; make obj &amp;&amp; make</span>
<span class="c"># cd /usr/src/lib/libsm</span>
<span class="c"># make cleandir &amp;&amp; make obj &amp;&amp; make</span>
<span class="c"># cd /usr/src/usr.sbin/sendmail</span>
<span class="c"># make cleandir &amp;&amp; make obj &amp;&amp; make &amp;&amp; make install</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>如果 <span class="filename">/usr/src</span> 没有发生大量更改，并且所需的共享库可用，那么这个编译过程不应该出现任何问题。</p>
</div>
<div class="paragraph">
<p>在重新编译和安装 Sendmail 之后，编辑 [/etc/mail/freebsd.mc] 或本地 [.mc] 文件。许多管理员选择使用 <a href="https://man.freebsd.org/cgi/man.cgi?query=hostname&amp;sektion=1&amp;format=html">hostname(1)</a> 的输出作为 [.mc] 文件的名称，以确保唯一性。</p>
</div>
<div class="paragraph">
<p>添加以下行：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>dnl set SASL options
TRUST_AUTH_MECH(`GSSAPI DIGEST-MD5 CRAM-MD5 LOGIN&#39;)dnl
define(`confAUTH_MECHANISMS&#39;, `GSSAPI DIGEST-MD5 CRAM-MD5 LOGIN&#39;)dnl</pre>
</div>
</div>
<div class="paragraph">
<p>这些选项配置了 Sendmail 用于对用户进行身份验证的不同方法。如果要使用除 pwcheck 之外的方法，请参考 Sendmail 文档。</p>
</div>
<div class="paragraph">
<p>最后，在 [/etc/mail] 目录下运行 <a href="https://man.freebsd.org/cgi/man.cgi?query=make&amp;sektion=1&amp;format=html">make(1)</a> 。这将运行新的 .mc 文件并创建一个名为 freebsd.cf 或者与本地 .mc 文件相同的名称的 .cf 文件。</p>
</div>
<div class="paragraph">
<p>然后，运行 <code>make install restart</code> 命令，它将会把文件复制到 <span class="filename">sendmail.cf</span> ，并且正确地重新启动 Sendmail 。</p>
</div>
<div class="paragraph">
<p>有关此过程的更多信息，请参考 [/etc/mail/Makefile](/etc/mail/Makefile) 。</p>
</div>
<div class="paragraph">
<p>要测试配置，请使用 MUA 发送一封测试邮件。如需进一步调查，请将 Sendmail 的 <code>LogLevel</code> 设置为 <code>13</code> ，并观察 <code>/var/log/maillog</code> 中是否有任何错误。</p>
</div>
<div class="paragraph">
<p>有关更多信息，请参考 <a href="http://www.sendmail.org/" class="bare">http://www.sendmail.org/</a> ~ ca/email/auth.html[SMTP 认证] 。</p>
</div>
</div>
</div>
</div>

    </div>
    
    <hr />
    <div class="last-modified">
      <p><strong>Last modified on</strong>: January 3, 2024 by <a href="https://cgit.freebsd.org/doc/commit/?id=a008fc0" target="_blank">fiercex</a></p>
    </div>
    
    <div class="buttons">
      
      <div class="prev">
        <i class="fa fa-angle-left" aria-hidden="true" title="Prev"></i>
        <div class="container">
          
            <a href=https://free.bsd-doc.org/zh-cn-auto/books/handbook/ppp-and-slip class="direction">Prev</a>
          
        </div>
      </div>
      
      <div class="home">
        <i class="fa fa-home" aria-hidden="true" title="Home"></i>
        <div class="container">
          
            <a href="../" class="direction">Home</a>
          
        </div>
      </div>
      
      <div class="next">
        <div class="container">
          
            <a href=https://free.bsd-doc.org/zh-cn-auto/books/handbook/network-servers  class="direction">Next</a>
          
        </div>
        <i class="fa fa-angle-right" aria-hidden="true" title="Next"></i>
      </div>
      
    </div>
    <label class="hidden book-menu-overlay" for="menu-control"></label>
  </div>
  <aside class="toc">
    <div class="toc-content">
      <h3>Table of Contents</h3>
      <nav id="TableOfContents">
  <ul>
    <li><a href="#mail-synopsis">31.1. 简介</a></li>
    <li><a href="#mail-using">31.2. 邮件组件</a></li>
    <li><a href="#dragonFly-mail-agent">31.3. DragonFly Mail Agent （ DMA ）</a></li>
    <li><a href="#sendmail">31.4. Sendmail 是一种用于电子邮件传输的开源软件。它是一种邮件传输代理（ MTA ），用于将电子邮件从发送者的计算机发送到接收者的计算机。 Sendmail 具有广泛的功能和灵活性，可以在各种操作系统上运行，并且被广泛用于互联网上的电子邮件传输。它支持多种邮件协议和格式，并提供了丰富的配置选项，使用户能够根据自己的需求进行定制。 Sendmail 是互联网上最早的邮件传输代理之一，至今仍然被广泛使用。</a></li>
    <li><a href="#mail-changingmta">31.5. 更改邮件传输代理</a></li>
    <li><a href="#mail-agents">31.6. 邮件用户代理</a></li>
    <li><a href="#mail-advanced">31.7. 高级主题</a></li>
  </ul>
</nav>
      <hr />
      
    </div>
  </aside>
  <a class="to-top" href="#top">
    <i class="fa fa-arrow-circle-up" aria-hidden="true"></i>
  </a>
</main>

    <footer>
  <div class="footer-container">
    <section class="logo-column">
          <img src="https://free.bsd-doc.org/images/FreeBSD-colors.svg" width="160" height="50" alt="FreeBSD logo" />
        <div class="options-container">
          
            <div class="language-container">
              <a id="languages" href="https://free.bsd-doc.org/zh-cn-auto/languages">
                
                <img src="https://free.bsd-doc.org/images/language.png" class="language-image" alt="Choose language">
                <span>简体中文-自动翻译</span>
              </a>
            </div>
          
          <div class="theme-container">
            <select id="theme-chooser">
	      <option value="theme-system">System</option>
              <option value="theme-light">Light</option>
              <option value="theme-dark">Dark</option>
              <option value="theme-high-contrast">High contrast</option>
            </select>
          </div>
        </div>
      </section>
      
      <section class="copyright-column">
        <p>&copy; 1994-2024 The FreeBSD Project. All rights reserved</p>
        <span>Made with <span class="heart">♥</span> by the FreeBSD Community</span>
      </section>
  </div>
</footer>

  </body>
</html>
