# SOME DESCRIPTIVE TITLE
# Copyright (C) YEAR The FreeBSD Project
# This file is distributed under the same license as the FreeBSD Documentation package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: FreeBSD Documentation VERSION\n"
"POT-Creation-Date: 2023-12-17 07:06+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: \n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. type: YAML Front Matter: description
#: documentation/content/en/books/handbook/wayland/_index.adoc:1
#,  no-wrap
msgid ""
"This chapter describes how to install and configure Wayland and compositors "
"on FreeBSD, which provides a graphical user environment"
msgstr "本章介绍了如何在 FreeBSD 上安装和配置 Wayland 和合成器，以提供图形用户环境。"

#. type: YAML Front Matter: part
#: documentation/content/en/books/handbook/wayland/_index.adoc:1
#,  no-wrap
msgid "Part I. Getting Started"
msgstr "第一部分：入门指南"

#. type: YAML Front Matter: title
#: documentation/content/en/books/handbook/wayland/_index.adoc:1
#,  no-wrap
msgid "Chapter 6. Wayland"
msgstr "第 6 章 Wayland"

#. type: Title =
#: documentation/content/en/books/handbook/wayland/_index.adoc:14
#,  no-wrap
msgid "Wayland on FreeBSD"
msgstr "在 FreeBSD 上的 Wayland"

#. type: Plain text
#: documentation/content/en/books/handbook/wayland/_index.adoc:39
#, 
msgid ""
"include::shared/attributes/attributes-{{% lang %}}.adoc[] "
"include::shared/{{% lang %}}/teams.adoc[] include::shared/{{% lang "
"%}}/mailing-lists.adoc[] include::shared/{{% lang %}}/urls.adoc[]"
msgstr ""

#. type: Title ==
#: documentation/content/en/books/handbook/wayland/_index.adoc:52
#,  no-wrap
msgid "Wayland Synopsis"
msgstr "Wayland 概述"

#. type: Plain text
#: documentation/content/en/books/handbook/wayland/_index.adoc:57
#, 
msgid ""
"Wayland is a new display server, but it differs from Xorg in several "
"important ways.  First, Wayland is only a protocol that acts as an "
"intermediary between clients using a different mechanism which removes the "
"dependency on an X server.  Xorg includes both the X11 protocol, used to run"
" remote displays and the X server will accept connections and display "
"windows.  Under Wayland, the compositor or window manager provides the "
"display server instead of a traditional X server."
msgstr ""
"Wayland 是一个新的显示服务器，但它与 Xorg 在几个重要方面有所不同。首先，Wayland "
"只是一个协议，充当客户端之间的中介，使用不同的机制来消除对 X 服务器的依赖。Xorg 既包括用于运行远程显示的 X11 协议，也包括 X 服务器将接受连接和显示窗口。"
"在 Wayland 下，合成器或窗口管理器提供显示服务器，而不是传统的 X 服务器。"

#. type: Plain text
#: documentation/content/en/books/handbook/wayland/_index.adoc:60
#, 
msgid ""
"Since Wayland is not an X server, traditional X screen connections will need"
" to utilize other methods such as VNC or RDP for remote desktop management."
"  Second, Wayland can manage composite communications between clients and a "
"compositor as a separate entity which does not need to support the X "
"protocols."
msgstr ""
"由于 Wayland 不是一个 X 服务器，传统的 X 屏幕连接需要使用其他方法，如 VNC 或 RDP 来进行远程桌面管理。其次，Wayland "
"可以作为一个独立实体来管理客户端和合成器之间的复合通信，而不需要支持 X 协议。"

#. type: Plain text
#: documentation/content/en/books/handbook/wayland/_index.adoc:64
#, 
msgid ""
"Wayland is relatively new, and not all software has been updated to run "
"natively without `Xwayland` support.  Because Wayland does not provide the X"
" server, and expects compositors to provide that support, X11 window "
"managers that do not yet support Wayland will require that `Xwayland` is not"
" started with the `-rootless` parameter.  The `-rootless` parameter, when "
"removed, will restore X11 window manager support."
msgstr ""
"Wayland 相对较新，不是所有的软件都已经更新以在没有 `Xwayland` 支持的情况下本地运行。因为 Wayland 不提供 X "
"服务器，并且期望合成器提供该支持，尚不支持 Wayland 的 X11 窗口管理器将要求不使用 `-rootless` 参数启动 `Xwayland` "
"。移除 `-rootless` 参数后，将恢复 X11 窗口管理器的支持。"

#. type: delimited block = 4
#: documentation/content/en/books/handbook/wayland/_index.adoc:69
#, 
msgid ""
"The current NVIDIA(R) driver should work with most wlroots compositors, but "
"it may be a little unstable and not support all features at this time.  "
"Volunteers to help work on the NVIDIA(R) DRM are requested."
msgstr ""
"当前的 NVIDIA(R) 驱动程序应该能够与大多数 wlroots "
"合成器配合使用，但可能会有一些不稳定性，并且在此时可能不支持所有功能。我们请求志愿者帮助改进 NVIDIA(R) DRM 。"

#. type: Plain text
#: documentation/content/en/books/handbook/wayland/_index.adoc:73
#, 
msgid ""
"Currently, a lot of software will function with minimal issues on Wayland, "
"including Firefox.  And a few desktops are also available, such as the "
"Compiz Fusion replacement, known as Wayfire, and the i3 window manager "
"replacement, Sway."
msgstr ""
"目前，许多软件在 Wayland 上可以正常运行，包括 Firefox。还有一些可用的桌面环境，比如 Compiz Fusion 的替代品 "
"Wayfire，以及 i3 窗口管理器的替代品 Sway 。"

#. type: delimited block = 4
#: documentation/content/en/books/handbook/wayland/_index.adoc:80
#, 
msgid ""
"As of May, 2021, plasma5-kwin does support Wayland on FreeBSD.  To use "
"Plasma under Wayland, use the `startplasma-wayland` parameter to `ck-launch-"
"session` and tie in dbus with: `ck-launch-session dbus-run-session "
"startplasma-wayland` to get it working."
msgstr ""
"截至 2021 年 5 月， plasma5-kwin 在 FreeBSD 上支持 Wayland。要在 Wayland 下使用 Plasma"
"，请使用 `ck-launch-session` 的 `startplasma-wayland` 参数，并使用以下命令将 dbus 与其绑定：`ck-"
"launch-session dbus-run-session startplasma-wayland`。这样可以使其正常工作。"

#. type: Plain text
#: documentation/content/en/books/handbook/wayland/_index.adoc:86
#, 
msgid ""
"For compositors, a kernel supporting the man:evdev[4] driver must exist to "
"utilize the keybinding functionality.  This is built into the "
"[.filename]#GENERIC# kernel by default; however, if it has been customized "
"and man:evdev[4] support was stripped out, the man:evdev[4] module will need"
" to be loaded.  In addition, users of `Wayland` will need to be members of "
"the `video` group.  To quickly make this change, use the `pw` command:"
msgstr ""
"对于合成器来说，必须存在支持 man:evdev[4] 驱动程序的内核才能利用按键绑定功能。这在默认情况下已经内置在 "
"[.filename]#GENERIC# 内核中；然而，如果内核被定制并且去除了 man:evdev[4] 支持，那么就需要加载 "
"man:evdev[4] 模块。此外，使用 `Wayland` 的用户还需要是 `video` 组的成员。要快速进行此更改，请使用 `pw` 命令："

#. type: delimited block - 4
#: documentation/content/en/books/handbook/wayland/_index.adoc:90
#,  no-wrap
msgid "pw groupmod video -m user\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/wayland/_index.adoc:95
#, 
msgid ""
"Installing Wayland is simple; there is not a great deal of configuration for"
" the protocol itself.  Most of the composition will depend on the chosen "
"compositor.  By installing `seatd` now, a step is skipped as part of the "
"compositor installation and configuration as `seatd` is needed to provide "
"non-root access to certain devices."
msgstr ""
"安装 Wayland 很简单；协议本身没有太多的配置。大部分的组合将取决于所选择的合成器。通过现在安装 `seatd`"
"，可以跳过合成器安装和配置一部分的步骤，因为 `seatd` 需要提供对某些设备的非 root 访问权限。"

#. type: Plain text
#: documentation/content/en/books/handbook/wayland/_index.adoc:98
#, 
msgid ""
"All of the compositors described here should work with package:graphics/drm-"
"kmod[] open source drivers; however, the NVIDIA(R) graphics cards may have "
"issues when using the proprietary drivers.  Begin by installing the "
"following packages:"
msgstr ""
"这里描述的所有合成器都应该与 package:graphics/drm-kmod[] 开源驱动程序配合使用；然而，使用专有驱动程序时， "
"NVIDIA(R) 显卡可能会出现问题。首先安装以下软件包："

#. type: delimited block - 4
#: documentation/content/en/books/handbook/wayland/_index.adoc:102
#,  no-wrap
msgid "# pkg install wayland seatd\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/wayland/_index.adoc:107
#, 
msgid ""
"Once the protocol and supporting packages have been installed, a compositor "
"must create the user interface.  Several compositors will be covered in the "
"following sections.  All compositors using Wayland will need a runtime "
"directory defined in the environment, which can be achieved with the "
"following command in the bourne shell:"
msgstr ""
"一旦协议和支持包被安装，合成器必须创建用户界面。接下来的几节将介绍几种合成器。所有使用 Wayland "
"的合成器都需要在环境中定义一个运行时目录，可以通过在 Bourne shell 中使用以下命令来实现："

#. type: delimited block - 4
#: documentation/content/en/books/handbook/wayland/_index.adoc:111
#,  no-wrap
msgid "% export XDG_RUNTIME_DIR=/var/run/user/`id -u`\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/wayland/_index.adoc:116
#, 
msgid ""
"It is important to note that most compositors will search the "
"XDG_RUNTIME_DIR directory for the configuration files.  In the examples "
"included here, a parameter will be used to specify a configuration file in "
"[.filename]#~/.config# to keep temporary files and configuration files "
"separate.  It is recommended that an alias be configured for each compositor"
" to load the designated configuration file."
msgstr ""
"需要注意的是，大多数合成器会在 XDG_RUNTIME_DIR 目录中搜索配置文件。在这里包含的示例中，将使用一个参数来指定一个配置文件在 "
"[.filename]# ~ /.config# 中，以便将临时文件和配置文件分开存放。建议为每个合成器配置一个别名，以加载指定的配置文件。"

#. type: delimited block = 4
#: documentation/content/en/books/handbook/wayland/_index.adoc:124
#, 
msgid ""
"It has been reported that ZFS users may experience issues with some Wayland "
"clients because they need access to `posix_fallocate()` in the runtime "
"directory.  While the author could not reproduce this issue on their ZFS "
"system, a recommended workaround is not to use ZFS for the runtime directory"
" and instead use `tmpfs` for the [.filename]#/var/run# directory.  In this "
"case, the `tmpfs` file system is used for [.filename]#/var/run# and mounted "
"through the command `mount -t tmpfs tmpfs /var/run` command and then make "
"this change persist across reboots through [.filename]#/etc/fstab#.  The "
"XDG_RUNTIME_DIR environment variable could be configured to use "
"[.filename]#/var/run/user/$UID# and avoid potential pitfalls with ZFS.  "
"Consider that scenario when reviewing the configuration examples in the "
"following sections."
msgstr ""
"据报道，ZFS 用户可能会在某些 Wayland 客户端上遇到问题，因为它们需要在运行时目录中访问 `posix_fallocate()` "
"函数。尽管作者无法在他们的 ZFS 系统上重现此问题，但建议的解决方法是不要将 ZFS 用于运行时目录，而是使用 `tmpfs` 作为 "
"[.filename]#/var/run# 目录。在这种情况下，通过命令 `mount -t tmpfs tmpfs /var/run` 将 "
"`tmpfs` 文件系统挂载到 [.filename]#/var/run#，然后通过 [.filename]#/etc/fstab# "
"使此更改在重新启动后持久化。可以配置 XDG_RUNTIME_DIR 环境变量以使用 [.filename]#/var/run/user/$UID#"
"，避免与 ZFS 可能存在的问题。在查看以下部分的配置示例时，请考虑这种情况。"

#. type: Plain text
#: documentation/content/en/books/handbook/wayland/_index.adoc:129
#, 
msgid ""
"The seatd daemon helps manage access to shared system devices for non-root "
"users in compositors; this includes graphics cards.  For traditional X11 "
"managers, `seatd` is not needed, such as both Plasma and GNOME, but for the "
"Wayland compositors discussed here, it will need enabled on the system and "
"be running before starting a compositor environment.  To enable and start "
"the `seatd` daemon now, and on system initialization:"
msgstr ""
"seatd 守护进程帮助在合成器中管理非 root 用户对共享系统设备的访问，包括图形卡。对于传统的 X11 管理器，如 Plasma 和 GNOME"
"，不需要使用 `seatd`，但对于这里讨论的 Wayland 合成器，在启动合成器环境之前，需要在系统上启用并运行它。要立即启用和启动 "
"`seatd` 守护进程，并在系统初始化时启动："

#. type: delimited block - 4
#: documentation/content/en/books/handbook/wayland/_index.adoc:134
#,  no-wrap
msgid ""
"# sysrc seatd_enable=”YES”\n"
"# service seatd start\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/wayland/_index.adoc:138
#, 
msgid ""
"Afterward, a compositor, which is similar to an X11 desktop, will need to be"
" installed for the GUI environment.  Three are discussed here, including "
"basic configuration options, setting up a screen lock, and recommendations "
"for more information."
msgstr ""
"之后，需要安装一个类似于 X11 桌面的合成器 (compositor) 来创建 GUI "
"环境。这里讨论了三种合成器，包括基本配置选项、设置屏幕锁定以及获取更多信息的建议。"

#. type: Title ==
#: documentation/content/en/books/handbook/wayland/_index.adoc:140
#,  no-wrap
msgid "The Wayfire Compositor"
msgstr "Wayfire 合成器"

#. type: Plain text
#: documentation/content/en/books/handbook/wayland/_index.adoc:145
#, 
msgid ""
"Wayfire is a compositor that aims to be lightweight and customizable.  "
"Several features are available, and it brings back several elements from the"
" previously released Compiz Fusion desktop.  All of the parts look beautiful"
" on modern hardware. To get Wayfire up and running, begin by installing the "
"required packages:"
msgstr ""
"Wayfire 是一个旨在轻量化和可定制化的合成器。它提供了多种功能，并且还恢复了之前发布的 Compiz Fusion "
"桌面的一些元素。所有的部分在现代硬件上看起来都很漂亮。要启动和运行 Wayfire，请先安装所需的软件包："

#. type: delimited block - 4
#: documentation/content/en/books/handbook/wayland/_index.adoc:149
#,  no-wrap
msgid ""
"# pkg install wayfire wf-shell alacritty swaylock-effects swayidle wlogout "
"kanshi mako wlsunset\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/wayland/_index.adoc:155
#, 
msgid ""
"The `alacritty` package provides a terminal emulator.  Still, it is not "
"completely required as other terminal emulators such as `kitty`, and XFCE-4 "
"`Terminal` have been tested and verified to work under the Wayfire "
"compositor.  Wayfire configuration is relatively simple; it uses a file that"
" should be reviewed for any customizations.  To begin, copy the example file"
" over to the runtime environment configuration directory and then edit the "
"file:"
msgstr ""
"`alacritty` 软件包提供了一个终端仿真器。然而，并不完全需要它，因为其他终端仿真器如 `kitty` 和 XFCE-4 `Terminal` "
"已经在 Wayfire 合成器下进行了测试和验证。 Wayfire "
"的配置相对简单；它使用一个文件，应该对其中的任何自定义进行审查。要开始，将示例文件复制到运行时环境配置目录，然后编辑该文件："

#. type: delimited block - 4
#: documentation/content/en/books/handbook/wayland/_index.adoc:160
#,  no-wrap
msgid ""
"% mkdir ~/.config/wayfire\n"
"% cp /usr/local/share/examples/wayfire/wayfire.ini ~/.config/wayfire\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/wayland/_index.adoc:165
#, 
msgid ""
"The defaults for most users should be fine.  Within the configuration file, "
"items like the famous `cube` are pre-configured, and there are instructions "
"to help with the available settings.  A few primary settings of note "
"include:"
msgstr ""
"对于大多数用户来说，默认设置应该是可以的。在配置文件中，像著名的 `cube` "
"这样的项目已经预先配置好了，并且有说明来帮助设置可用的选项。一些值得注意的主要设置包括："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/wayland/_index.adoc:173
#, no-wrap
msgid ""
"[output]\n"
"mode = 1920x1080@60000\n"
"position = 0,0\n"
"transform = normal\n"
"scale = 1.000000\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/wayland/_index.adoc:181
#, 
msgid ""
"In this example, from the configuration file, the screen's output should be "
"the listed mode at the listed hertz.  For example, the mode should be set to"
" `widthxheight@refresh_rate`.  The position places the output at a specific "
"pixel location specified.  The default should be fine for most users.  "
"Finally, transform sets a background transform, and scale will scale the "
"output to the specified scale factor.  The defaults for these options are "
"generally acceptable; for more information, see the documentation."
msgstr ""
"在这个例子中，从配置文件中，屏幕的输出应该是列表中列出的模式和列表中列出的赫兹。例如，模式应该设置为 `widthxheight@refresh_rate`"
"。位置将输出放置在指定的像素位置上。默认值对大多数用户来说应该是可以接受的。最后， transform 设置了背景变换， scale "
"将输出按指定的比例因子进行缩放。这些选项的默认值通常是可以接受的；有关更多信息，请参阅文档。"

#. type: Plain text
#: documentation/content/en/books/handbook/wayland/_index.adoc:185
#, 
msgid ""
"As mentioned, Wayland is new, and not all applications work with the "
"protocol yet.  At this time, `sddm` does not appear to support starting and "
"managing compositors in Wayland.  The `swaylock` utility has been used "
"instead in these examples. The configuration file contains options to run "
"`swayidle` and `swaylock` for idle and locking of the screen."
msgstr ""
"如前所述，Wayland 是一种新的协议，还不是所有的应用程序都能与之兼容。目前，`sddm` 似乎不支持在 Wayland "
"中启动和管理合成器。在这些示例中，使用了 `swaylock` 实用程序。配置文件中包含了运行 `swayidle` 和 `swaylock` "
"来处理屏幕空闲和锁定的选项。"

#. type: Plain text
#: documentation/content/en/books/handbook/wayland/_index.adoc:187
#, 
msgid ""
"This option to define the action to take when the system is idle is listed "
"as:"
msgstr "当系统处于空闲状态时，可以使用此选项来定义要执行的操作。"

#. type: delimited block . 4
#: documentation/content/en/books/handbook/wayland/_index.adoc:191
#, no-wrap
msgid "idle = swaylock\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/wayland/_index.adoc:194
#, 
msgid "And the lock timeout is configured using the following lines:"
msgstr "锁定超时是通过以下行进行配置的："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/wayland/_index.adoc:201
#, no-wrap
msgid ""
"[idle]\n"
"toggle = <super> KEY_Z\n"
"screensaver_timeout = 300\n"
"dpms_timeout = 600\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/wayland/_index.adoc:204
#, 
msgid ""
"The first option will lock the screen after 300 seconds, and after another "
"300, the screen will shut off through the `dpms_timeout` option."
msgstr "第一个选项将在 300 秒后锁定屏幕，再过 300 秒后，屏幕将通过 `dpms_timeout` 选项关闭。"

#. type: Plain text
#: documentation/content/en/books/handbook/wayland/_index.adoc:212
#, 
msgid ""
"One final thing to note is the <super> key.  Most of the configuration "
"mentions this key, and it is the traditional `Windows` key on the keyboard."
"  Most keyboards have this super key available; however, it should be "
"remapped within this configuration file if it is not available.  For "
"example, to lock the screen, press and hold the super key, the kbd:[shift] "
"key, and press the kbd:[escape] key.  nless the mappings have changed, this "
"will execute the swaylock application.  The default configuration for "
"`swaylock` will show a grey screen; however, the application is highly "
"customizable and well documented.  In addition, since the swaylock-effects "
"is the version that was installed, there are several options available such "
"as the blur effect, which can be seen using the following command:"
msgstr ""
"需要注意的最后一件事是 <super> 键。大多数配置都提到了这个键，它是键盘上的传统 `Windows` "
"键。大多数键盘都有这个超级键可用；然而，如果该键不可用，应在此配置文件中重新映射它。例如，要锁定屏幕，请按住超级键，kbd:[shift] "
"键，然后按下 kbd:[escape] 键。除非映射已更改，否则这将执行 swaylock 应用程序。 `swaylock` "
"的默认配置将显示一个灰色屏幕；然而，该应用程序可以高度自定义，并且有很好的文档。此外，由于安装的是 swaylock-effects "
"版本，因此有几个可用的选项，例如模糊效果，可以使用以下命令查看："

#. type: delimited block - 4
#: documentation/content/en/books/handbook/wayland/_index.adoc:216
#,  no-wrap
msgid "% swaylock --effect-blur 7x5\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/wayland/_index.adoc:222
#, 
msgid ""
"There is also the `--clock` parameter which will display a clock with the "
"date and time on the lock screen.  When package:x11/swaylock-effects[] was "
"installed, a default [.filename]#pam.d# configuration was included.  It "
"provides the default options that should be fine for most users.  More "
"advanced options are available; see the PAM documentation for more "
"information."
msgstr ""
"还有一个 `--clock` 参数，它会在锁屏界面上显示一个带有日期和时间的时钟。当安装了 `x11/swaylock-effects` "
"软件包时，会包含一个默认的 `pam.d` 配置文件。它提供了适用于大多数用户的默认选项。还有更高级的选项可用；有关更多信息，请参阅 PAM 文档。"

#. type: Plain text
#: documentation/content/en/books/handbook/wayland/_index.adoc:225
#, 
msgid ""
"At this point, it is time to test Wayfire and see if it can start up on the "
"system.  Just type the following command:"
msgstr "此时，是时候测试 Wayfire 并查看它是否能在系统上启动了。只需输入以下命令："

#. type: delimited block - 4
#: documentation/content/en/books/handbook/wayland/_index.adoc:229
#,  no-wrap
msgid "% wayfire -c ~/.config/wayfire/wayfire.ini\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/wayland/_index.adoc:236
#, 
msgid ""
"The compositor should now start and display a background image along with a "
"menu bar at the top of the screen.  Wayfire will attempt to list installed "
"compatible applications for the desktop and present them in this drop-down "
"menu; for example, if the XFCE-4 file manager is installed, it will show up "
"in this drop-down menu.  If a specific application is compatible and "
"valuable enough for a keyboard shortcut, it may be mapped to a keyboard "
"sequence using the [.filename]#wayfire.ini# configuration file.  Wayfire "
"also has a configuration tool named Wayfire Config Manager.  It is located "
"in the drop-down menu bar but may also be started through a terminal by "
"issuing the following command:"
msgstr ""
"现在，合成器应该开始运行，并在屏幕顶部显示一个背景图像和一个菜单栏。 Wayfire "
"将尝试列出已安装的兼容应用程序，并在此下拉菜单中呈现它们；例如，如果安装了 XFCE-4 "
"文件管理器，它将显示在此下拉菜单中。如果特定应用程序与键盘快捷键兼容且足够有价值，可以使用 [.filename]#wayfire.ini# "
"配置文件将其映射到键盘序列。 Wayfire 还有一个名为 Wayfire Config Manager "
"的配置工具。它位于下拉菜单栏中，但也可以通过终端发出以下命令来启动："

#. type: delimited block - 4
#: documentation/content/en/books/handbook/wayland/_index.adoc:240
#,  no-wrap
msgid "% wcm\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/wayland/_index.adoc:244
#, 
msgid ""
"Various Wayfire configuration options, including the composite special "
"effects, maybe enabled, disabled, or configured through this application.  "
"In addition, for a more user-friendly experience, a background manager, "
"panel, and docking application may be enabled in the configuration file:"
msgstr ""
"通过这个应用程序，可以启用、禁用或配置各种 Wayfire "
"配置选项，包括合成特效。此外，为了提供更用户友好的体验，可以在配置文件中启用背景管理器、面板和停靠应用程序。"

#. type: delimited block . 4
#: documentation/content/en/books/handbook/wayland/_index.adoc:250
#, no-wrap
msgid ""
"panel = wf-panel\n"
"dock = wf-dock\n"
"background = wf-background\n"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/handbook/wayland/_index.adoc:256
#, 
msgid ""
"Changes made through `wcm` will overwrite custom changes in the "
"[.filename]#wayfire.ini# configuration file.  The [.filename]#wayfire.ini# "
"file is highly recommended to be backed up so any essential changes may be "
"restored."
msgstr ""
"通过 `wcm` 进行的更改将覆盖 [.filename]#wayfire.ini# 配置文件中的自定义更改。强烈建议备份 "
"[.filename]#wayfire.ini# 文件，以便可以恢复任何重要的更改。"

#. type: Plain text
#: documentation/content/en/books/handbook/wayland/_index.adoc:259
#, 
msgid ""
"Finally, the default launcher listed in the [.filename]#wayfire.ini# is "
"package:x11/wf-shell[] which may be replaced with other panels if desired by"
" the user."
msgstr ""
"最后，在 [.filename]#wayfire.ini# 中列出的默认启动器是 package:x11/wf-shell[] "
"，用户可以根据需要替换为其他面板。"

#. type: Title ==
#: documentation/content/en/books/handbook/wayland/_index.adoc:261
#,  no-wrap
msgid "The Hikari Compositor"
msgstr "Hikari 合成器"

#. type: Plain text
#: documentation/content/en/books/handbook/wayland/_index.adoc:271
#, 
msgid ""
"The Hikari compositor uses several concepts centered around productivity, "
"such as sheets, workspaces, and more.  In that way, it resembles a tiling "
"window manager.  Breaking this down, the compositor starts with a single "
"workspace, which is similar to virtual desktops.  Hikari uses a single "
"workspace or virtual desktop for user interaction. The workspace is made up "
"of several views, which are the working windows in the compositor grouped as"
" either sheets or groups.  Both sheets and groups are made up of a "
"collection of views; again, the windows that are grouped together.  When "
"switching between sheets or groups, the active sheet or group will become "
"known collectively as the workspace.  The manual page will break this down "
"into more information on the functions of each but for this document, just "
"consider a single workspace utilizing a single sheet.  Hikari installation "
"will comprise of a single package, package:x11-wm/hikari[], and a terminal "
"emulator `alacritty`:"
msgstr ""
"Hikari 合成器使用了几个以提高生产力为中心的概念，例如工作表（sheets）、"
"工作区（workspaces）等等。从这个角度来看，它类似于平铺式窗口管理器。具体来说，合成器从一个单一的工作区开始，类似于虚拟桌面。 Hikari "
"使用一个单一的工作区或虚拟桌面进行用户交互。工作区由多个视图组成，这些视图是合成器中的工作窗口，分组为工作表或组"
"（groups）。工作表和组都由一组视图组成，即被分组在一起的窗口。在工作表或"
"之间切换时，活动的工作表或组将被统称为工作区。手册将详细介绍每个功能，但在本文档中，只需考虑一个使用单个 "
"工作表的工作区。 Hikari 的安装将包括一个单一的软件包 package:x11-wm/hikari[] 和一个终端模拟器 "
"`alacritty` 。"

#. type: delimited block - 4
#: documentation/content/en/books/handbook/wayland/_index.adoc:275
#,  no-wrap
msgid "# pkg install hikari alacritty\n"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/handbook/wayland/_index.adoc:280
#, 
msgid ""
"Other shells, such as `kitty` or the Plasma `Terminal`, will function under "
"Wayland. Users should experiment with their favorite terminal editor to "
"validate compatibility."
msgstr ""
"其他终端，如 `kitty` 或 Plasma 的 `Terminal`，在 Wayland "
"下可以正常工作。用户应该尝试使用他们喜欢的终端编辑器来验证兼容性。"

#. type: Plain text
#: documentation/content/en/books/handbook/wayland/_index.adoc:285
#, 
msgid ""
"Hikari uses a configuration file, [.filename]#hikari.conf#, which could "
"either be placed in the XDG_RUNTIME_DIR or specified on startup using the "
"`-c` parameter.  An autostart configuration file is not required but may "
"make the migration to this compositor a little easier.  Beginning the "
"configuration is to create the Hikari configuration directory and copy over "
"the configuration file for editing:"
msgstr ""
"Hikari 使用一个配置文件 [.filename]#hikari.conf#，可以放置在 XDG_RUNTIME_DIR "
"目录中，也可以在启动时使用 `-c` 参数指定。不需要自动启动配置文件，但是可能会使迁移到这个合成器更容易一些。开始配置是创建 Hikari "
"配置目录并复制配置文件进行编辑："

#. type: delimited block - 4
#: documentation/content/en/books/handbook/wayland/_index.adoc:290
#,  no-wrap
msgid ""
"% mkdir ~/.config/hikari\n"
"% cp /usr/local/etc/hikari/hikari.conf ~/.config/hikari\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/wayland/_index.adoc:296
#, 
msgid ""
"The configuration is broken out into various stanzas such as ui, outputs, "
"layouts, and more.  For most users, the defaults will function fine; "
"however, some important changes should be made.  For example, the $TERMINAL "
"variable is normally not set within the user's environment.  Changing this "
"variable or altering the [.filename]#hikari.conf# file to read:"
msgstr ""
"配置被分解为各种部分，如 ui、outputs、layouts "
"等等。对于大多数用户来说，默认设置应该可以正常运行；但是还需要进行一些重要的更改。例如，$TERMINAL "
"变量通常在用户的环境中没有设置。可以更改这个变量或者修改 [.filename]#hikari.conf# 文件以进行读取。"

#. type: delimited block . 4
#: documentation/content/en/books/handbook/wayland/_index.adoc:300
#, no-wrap
msgid "terminal = \"/usr/local/bin/alacritty\"\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/wayland/_index.adoc:308
#, 
msgid ""
"Will launch the `alacritty` terminal using the bound key press.  While going"
" through the configuration file, it should be noted that the capital letters"
" are used to map keys out for the user.  For example, the kbd:[L] key for "
"starting the terminal kbd:[L+Return] is actually the previously discussed "
"super key or Windows logo key.  Therefore, holding the kbd:[L/super/Windows]"
" key and pressing kbd:[Enter] will open the specified terminal emulator with"
" the default configuration.  Mapping other keys to applications require an "
"action definition to be created.  For this, the action item should be listed"
" in the actions stanza, for example:"
msgstr ""
"将使用绑定的按键启动 `alacritty` 终端。在浏览配置文件时，应注意大写字母用于为用户映射键。例如，用于启动终端的 kbd:[L] 键 "
"kbd:[L + Return] 实际上是前面讨论过的超级键或 Windows 徽标键。因此，按住 kbd:[L/super/Windows] 键并按下"
" kbd:[Enter] 键将使用默认配置打开指定的终端仿真器。将其他键映射到应用程序需要创建一个动作定义。为此，动作项应列在动作段中，例如："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/wayland/_index.adoc:315
#, no-wrap
msgid ""
"actions {\n"
"  terminal = \"/usr/local/bin/alacritty\"\n"
"  browser = \"/usr/local/bin/firefox\"\n"
"}\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/wayland/_index.adoc:318
#, 
msgid ""
"Then an action may be mapped under the keyboard stanza, which is defined "
"within the bindings stanza:"
msgstr "然后，可以将一个动作映射到键盘部分，该部分在绑定部分中定义："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/wayland/_index.adoc:327
#, no-wrap
msgid ""
"bindings {\n"
"  keyboard {\n"
"SNIP\n"
"    \"L+Return\" = action-terminal\n"
"    \"L+b\" = action-browser\n"
"SNIP\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/wayland/_index.adoc:333
#, 
msgid ""
"After Hikari is restarted, holding the Windows logo button and pressing the "
"kbd:[b] key on the keyboard will start the web browser.  The compositor does"
" not have a menu bar, and it is recommended the user set up, at minimal, a "
"terminal emulator before migration.  The manual page contains a great deal "
"of documentation it should be read before performing a full migration.  "
"Another positive aspect about Hikari is that, while migrating to the "
"compositor, Hikari can be started in the Plasma and GNOME desktop "
"environments, allowing for a test-drive before completely migrating."
msgstr ""
"在 Hikari 重新启动后，按住 Windows 徽标按钮并在键盘上按下 kbd:[b] "
"键将启动网页浏览器。合成器没有菜单栏，建议用户在迁移之前至少设置一个终端仿真器。手册中包含大量的文档，应在进行完整迁移之前阅读。Hikari "
"的另一个积极方面是，在迁移到合成器时，可以在 Plasma 和 GNOME 桌面环境中启动 Hikari，以便在完全迁移之前进行试用。"

#. type: Plain text
#: documentation/content/en/books/handbook/wayland/_index.adoc:340
#, 
msgid ""
"Locking the screen in Hikari is easy because a default [.filename]#pam.d# "
"configuration file and unlock utility are bundled with the package.  The key"
" binding for locking the screen is kbd:[L] (Windows logo key)+ kbd:[Shift] +"
" kbd:[Backspace].  It should be noted that all views not marked public will "
"be hidden.  These views will never accept input when locked but beware of "
"sensitive information being visible.  For some users, it may be easier to "
"migrate to a different screen locking utility such as swaylock-effects, "
"discussed in this section.  To start Hikari, use the following command:"
msgstr ""
"在 Hikari 中锁定屏幕很容易，因为默认的 [.filename]#pam.d# 配置文件和解锁工具已经与软件包捆绑在一起。锁定屏幕的键绑定是 "
"kbd:[L]（Windows 徽标键）+ kbd:[Shift] + kbd:[Backspace]"
"。需要注意的是，所有未标记为公共的视图将被隐藏。当屏幕锁定时，这些视图将不接受输入，但要注意敏感信息可能可见。对于一些用户来说，可能更容易迁移到其他屏幕锁定工具，比如在本节中讨论的"
" swaylock-effects。要启动 Hikari，请使用以下命令："

#. type: delimited block - 4
#: documentation/content/en/books/handbook/wayland/_index.adoc:344
#,  no-wrap
msgid "% hikari -c ~/.config/hikari/hikari.conf\n"
msgstr ""

#. type: Title ==
#: documentation/content/en/books/handbook/wayland/_index.adoc:347
#,  no-wrap
msgid "The Sway Compositor"
msgstr "Sway 合成器"

#. type: Plain text
#: documentation/content/en/books/handbook/wayland/_index.adoc:353
#, 
msgid ""
"The Sway compositor is a tiling compositor that attempts to replace the i3 "
"windows manager.  It should work with the user's current i3 configuration; "
"however, new features may require some additional setup.  In the forthcoming"
" examples, a fresh installation without migrating any i3 configuration will "
"be assumed.  To install Sway and valuable components, issue the following "
"command as the root user:"
msgstr ""
"Sway 合成器是一种平铺式合成器，旨在取代 i3 窗口管理器。它应该与用户当前的 i3 "
"配置兼容；但是，新功能可能需要一些额外的设置。在接下来的示例中，假设进行了全新安装，没有迁移任何 i3 配置。要安装 Sway 和有价值的组件，请以 "
"root 用户身份执行以下命令："

#. type: delimited block - 4
#: documentation/content/en/books/handbook/wayland/_index.adoc:357
#,  no-wrap
msgid ""
"# pkg install sway swayidle swaylock-effects alacritty dmenu-wayland dmenu\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/wayland/_index.adoc:360
#, 
msgid ""
"For a basic configuration file, issue the following commands and then edit "
"the configuration file after it is copied:"
msgstr "对于一个基本的配置文件，执行以下命令，然后在复制完成后编辑配置文件："

#. type: delimited block - 4
#: documentation/content/en/books/handbook/wayland/_index.adoc:365
#,  no-wrap
msgid ""
"% mkdir ~/.config/sway\n"
"% cp /usr/local/etc/sway/config ~/.config/sway\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/wayland/_index.adoc:369
#, 
msgid ""
"The base configuration file has many defaults, which will be fine for most "
"users.  Several important changes should be made like the following:"
msgstr "基本配置文件有许多默认值，对于大多数用户来说这是可以的。但是还需要进行一些重要的更改，如下所示："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/wayland/_index.adoc:385
#, no-wrap
msgid ""
"# Logo key. Use Mod1 for Alt.\n"
"input * xkb_rules evdev\n"
"set $mod Mod4\n"
"# Your preferred terminal emulator\n"
"set $term alacritty\n"
"set $lock swaylock -f -c 000000\n"
"output \"My Workstation\" mode 1366x786@60Hz position 1366 0\n"
"output * bg ~/wallpapers/mywallpaper.png stretch\n"
"### Idle configuration\n"
"exec swayidle -w \\\n"
"          timeout 300 'swaylock -f -c 000000' \\\n"
"          timeout 600 'swaymsg \"output * dpms off\"' resume 'swaymsg \"output * dpms on\"' \\\n"
"          before-sleep 'swaylock -f -c 000000'\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/wayland/_index.adoc:395
#, 
msgid ""
"In the previous example, the `xkb` rules for man:evdev[4] events are loaded,"
" and the $mod key is set to the Windows logo key for the key bindings.  "
"Next, the terminal emulator was set to be `alacritty`, and a screen lock "
"command was defined; more on this later.  The output keyword, the mode, the "
"position, a background wallpaper, and Sway is also told to stretch this "
"wallpaper to fill out the screen.  Finally, `swaylock` is set to daemonize "
"and lock the screen after a timeout of 300 seconds, placing the screen or "
"monitor into sleep mode after 600 seconds.  The locked background color of "
"000000, which is black, is also defined here.  Using swaylock-effects, a "
"clock may also be displayed with the `--clock` parameter.  See the manual "
"page for more options.  The man:sway-output[5] manual page should also be "
"reviewed; it includes a great deal of information on customing the output "
"options available."
msgstr ""
"在前面的示例中，加载了 `xkb` 规则以处理 man:evdev[4] 事件，并将 $mod 键设置为 Windows "
"徽标键以进行键绑定。接下来，终端仿真器被设置为 `alacritty`，并定义了一个屏幕锁定命令；稍后会详细介绍。输出关键字、模式、位置、背景壁纸以及"
" Sway 还被告知将该壁纸拉伸以填满屏幕。最后，设置 `swaylock` 在 300 "
"秒超时后将屏幕或监视器锁定并进入睡眠模式。在这里还定义了锁定的背景颜色为 000000，即黑色。使用 swaylock-effects，还可以使用 "
"`--clock` 参数显示时钟。有关更多选项，请参阅手册页。还应该查看 man:sway-output[5] "
"手册页；它包含了大量关于自定义输出选项的信息。"

#. type: Plain text
#: documentation/content/en/books/handbook/wayland/_index.adoc:403
#, 
msgid ""
"While in Sway, to bring up a menu of applications, hold the Windows logo key"
" (mod) and press the kbd:[d] key.  The menu may be navigated using the arrow"
" keys on the keyboard.  There is also a method to manipulate the layout of "
"the bar and add a tray; read the man:sway-bar[5] manual page for more "
"information.  The default configuration adds a date and time to the upper "
"right-hand corner.  See the `Bar` stanza in the configuration file for an "
"example.  By default, the configuration does not include locking the screen "
"outside of the example above, enabling a lockout timer.  Creating a lock key"
" binding requires the following line to the `Key bindings` section:"
msgstr ""
"在 Sway 中，要打开应用程序菜单，请按住 Windows 徽标键（mod 键）并按下 kbd:[d] "
"键。可以使用键盘上的箭头键来导航菜单。还有一种方法可以操作栏的布局并添加一个托盘；请阅读 man:sway-bar[5] "
"手册页面获取更多信息。默认配置在右上角添加了日期和时间。在配置文件的 `Bar` "
"部分中可以找到一个示例。默认情况下，配置不包括在上面的示例之外锁定屏幕，启用锁定计时器。创建一个锁定键绑定需要在 `Key bindings` "
"部分添加以下行："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/wayland/_index.adoc:408
#, no-wrap
msgid ""
"# Lock the screen manually\n"
"bindsym $mod+Shift+Return exec $lock\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/wayland/_index.adoc:414
#, 
msgid ""
"Now the screen may be locked using the combination of holding the Windows "
"logo key, pressing and holding shift, and finally pressing return.  When "
"Sway is installed, whether from a package or the FreeBSD Ports Collection, a"
" default file for [.filename]#pam.d# was installed.  The default "
"configuration should be acceptable for most users, but more advanced options"
" are available.  Read through the PAM documentation for more information."
msgstr ""
"现在可以使用按住 Windows 徽标键、按住 Shift 键，最后按下回车键的组合来锁定屏幕。当安装了 Sway，无论是从软件包还是 FreeBSD"
" Ports Collection 安装的，都会安装一个默认的 [.filename]#pam.d# "
"文件。默认配置对大多数用户来说应该是可接受的，但也提供了更高级的选项。请阅读 PAM 文档以获取更多信息。"

#. type: Plain text
#: documentation/content/en/books/handbook/wayland/_index.adoc:420
#, 
msgid ""
"Finally, to exit Sway and return to the shell, hold the Windows logo key, "
"the shift key, and press the kbd:[e] key.  A prompt will be displayed with "
"an option to exit Sway.  During migration, Sway can be started through a "
"terminal emulator on an X11 desktop such as Plasma.  This makes testing "
"different changes and key bindings a little easier prior to fully migrating "
"to this compositor.  To start Sway, issue the following command:"
msgstr ""
"最后，要退出 Sway 并返回到 shell，请按住 Windows 徽标键和 Shift 键，然后按下键盘上的 [e] "
"键。会显示一个提示，其中有一个选项可以退出 Sway。在迁移期间，可以通过在诸如 Plasma 之类的 X11 桌面上的终端模拟器中启动 Sway "
"。这使得在完全迁移到这个合成器之前，测试不同的更改和键绑定变得更加容易。要启动 Sway ，请执行以下命令："

#. type: delimited block - 4
#: documentation/content/en/books/handbook/wayland/_index.adoc:424
#,  no-wrap
msgid "% sway -c ~/.config/sway/config\n"
msgstr ""

#. type: Title ==
#: documentation/content/en/books/handbook/wayland/_index.adoc:427
#,  no-wrap
msgid "Using Xwayland"
msgstr "使用 Xwayland"

#. type: Plain text
#: documentation/content/en/books/handbook/wayland/_index.adoc:431
#, 
msgid ""
"When installing Wayland, the `Xwayland` binary should have been installed "
"unless Wayland was built without X11 support.  If the "
"[.filename]#/usr/local/bin/Xwayland# file does not exist, install it using "
"the following command:"
msgstr ""
"在安装 Wayland 时，除非 Wayland 是没有构建 X11 支持的，否则应该已经安装了 `Xwayland` 二进制文件。如果 "
"[.filename]#/usr/local/bin/Xwayland# 文件不存在，请使用以下命令进行安装："

#. type: delimited block - 4
#: documentation/content/en/books/handbook/wayland/_index.adoc:435
#,  no-wrap
msgid "# pkg install xwayland-devel\n"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/handbook/wayland/_index.adoc:441
#, 
msgid ""
"The development version of Xwayland is recommended and was most likely "
"installed with the Wayland package.  Each compositor has a method of "
"enabling or disabling this feature."
msgstr "推荐使用 Xwayland 的开发版本，并且很可能已经随 Wayland 软件包一起安装。每个合成器都有一种启用或禁用此功能的方法。"

#. type: Plain text
#: documentation/content/en/books/handbook/wayland/_index.adoc:445
#, 
msgid ""
"Once `Xwayland` has been installed, configure it within the chosen "
"compositor.  For Wayfire, the following line is required in the "
"[.filename]#wayfire.ini# file:"
msgstr ""
"一旦安装了 `Xwayland`，请在所选的合成器中进行配置。对于 Wayfire 来说，在 [.filename]#wayfire.ini# "
"文件中需要添加以下行："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/wayland/_index.adoc:449
#, no-wrap
msgid "xwayland = true\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/wayland/_index.adoc:453
#, 
msgid ""
"For the Sway compositor, `Xwayland` should be enabled by default.  Even so, "
"it is recommened to manually add a configuration line in the "
"[.filename]#~/.config/sway/config# like the following:"
msgstr ""
"对于 Sway 合成器，默认情况下应启用 `Xwayland`。即便如此，建议在 [.filename]#~"
"/.config/sway/config# 中手动添加以下配置行："

#. type: delimited block . 5
#: documentation/content/en/books/handbook/wayland/_index.adoc:457
#,  no-wrap
msgid "xwayland enable\n"
msgstr "启用 XWayland \n"

#. type: Plain text
#: documentation/content/en/books/handbook/wayland/_index.adoc:462
#, 
msgid ""
"Finally, for Hikari, no changes are needed.  Support for `Xwayland` is build"
" in by default.  To disable that support, rebuild the package from the ports"
" collection and disable Xwayland support at that time."
msgstr ""
"最后，对于 Hikari 来说，不需要进行任何更改。默认情况下，已经内置了对 `Xwayland` 的支持。要禁用该支持，可以从 ports "
"集合中重新构建该软件包，并在那时禁用 Xwayland 支持。"

#. type: Plain text
#: documentation/content/en/books/handbook/wayland/_index.adoc:466
#, 
msgid ""
"After these changes are made, start the compositor at the command line and "
"execute a terminal from the key bindings.  Within this terminal, issue the "
"`env` command and search for the `DISPLAY` variables.  If the compositor was"
" able to properly start the Xwayland X server, these environment variables "
"should look similar to the following:"
msgstr ""
"在进行这些更改后，通过命令行启动合成器，并从键绑定中执行一个终端。在这个终端中，输入 `env` 命令并搜索 `DISPLAY` "
"变量。如果合成器能够正确启动 Xwayland X 服务器，这些环境变量应该类似于以下内容："

#. type: delimited block - 4
#: documentation/content/en/books/handbook/wayland/_index.adoc:470
#: documentation/content/en/books/handbook/wayland/_index.adoc:500
#,  no-wrap
msgid "% env | grep DISPLAY\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/wayland/_index.adoc:476
#, no-wrap
msgid ""
"WAYLAND_DISPLAY=wayland-1\n"
"DISPLAY=:0\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/wayland/_index.adoc:482
#, 
msgid ""
"In this output, there is a default Wayland display and a display set for the"
" Xwayland server.  Another method to verify that `Xwayland` is functioning "
"properly is to use install and test the small package:[x11/eyes] and check "
"the output.  If the `xeyes` application starts and the eyes follow the mouse"
" pointer, Xwayland is functioning properly.  If an error such as the "
"following is displayed, something happened during the `Xwayland` "
"intitialization and it may need reinstalled:"
msgstr ""
"在这个输出中，有一个默认的 Wayland 显示器和一个为 Xwayland 服务器设置的显示器。验证 `Xwayland` "
"是否正常工作的另一种方法是安装和测试一个小包 package:[x11/eyes]，并检查输出。如果 `xeyes` 应用程序启动并且眼睛跟随鼠标指针移动，那么 "
"Xwayland 正常工作。如果显示了以下错误或类似错误，则在 `Xwayland` 初始化过程中发生了某些问题，可能需要重新安装："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/wayland/_index.adoc:486
#, no-wrap
msgid "Error: Cannot open display wayland-0\n"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/handbook/wayland/_index.adoc:492
#, 
msgid ""
"A security feature of Wayland is that, without running an X server, there is"
" not another network listener.  Once `Xwayland` is enabled, this security "
"feature is no longer applicable to the system."
msgstr ""
"Wayland 的一个安全特性是，在没有运行 X 服务器的情况下，没有其他网络监听器。一旦启用了 `Xwayland`，这个安全特性对系统就不再适用。"

#. type: Plain text
#: documentation/content/en/books/handbook/wayland/_index.adoc:496
#, 
msgid ""
"For some compositors, such as Wayfire, `Xwayland` may not start properly.  "
"As such, `env` will show the following information for the `DISPLAY` "
"environment variables:"
msgstr ""
"对于一些复合器，比如 Wayfire，`Xwayland` 可能无法正常启动。因此，`env` 将显示 `DISPLAY` 环境变量的以下信息："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/wayland/_index.adoc:506
#, no-wrap
msgid ""
"DISPLAY=wayland-1\n"
"WAYLAND_DISPLAY=wayland-1\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/wayland/_index.adoc:511
#, 
msgid ""
"Even though `Xwayfire` was installed and configured, X11 applications will "
"not start giving a display issue.  To work around this, verify that there is"
" already an instance of `Xwayland` using a UNIX socket through these two "
"methods.  First, check the output from `sockstat` and search for X11-unix:"
msgstr ""
"尽管已经安装和配置了 `Xwayfire`，但 X11 应用程序无法启动，出现显示问题。为了解决这个问题，可以通过以下两种方法验证是否已经存在一个使用"
" UNIX 套接字的 `Xwayland` 实例。首先，检查 `sockstat` 的输出，并搜索 X11-unix:"

#. type: delimited block - 4
#: documentation/content/en/books/handbook/wayland/_index.adoc:515
#,  no-wrap
msgid "% sockstat | grep x11\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/wayland/_index.adoc:518
#, 
msgid "There should be something similar to the following information:"
msgstr "应该有类似以下信息的内容："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/wayland/_index.adoc:526
#, no-wrap
msgid ""
"trhodes  Xwayland   2734  8  stream /tmp/.X11-unix/X0\n"
"trhodes  Xwayland   2734  9  stream /tmp/.X11-unix/X0\n"
"trhodes  Xwayland   2734  10 stream /tmp/.X11-unix/X0\n"
"trhodes  Xwayland   2734  27 stream /tmp/.X11-unix/X0_\n"
"trhodes  Xwayland   2734  28 stream /tmp/.X11-unix/X0\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/wayland/_index.adoc:530
#, 
msgid ""
"This suggests the existence of an X11 socket.  This can be further verified "
"by attempting to execute `Xwayland` manually within a terminal emulator "
"running under the compositor:"
msgstr "这表明存在一个 X11 套接字。可以通过在合成器下运行的终端模拟器中尝试手动执行 `Xwayland` 来进一步验证："

#. type: delimited block - 4
#: documentation/content/en/books/handbook/wayland/_index.adoc:534
#,  no-wrap
msgid "% Xwayland\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/wayland/_index.adoc:537
#, 
msgid ""
"If an X11 socket is already available, the following error should be "
"presented to the user:"
msgstr "如果已经存在一个 X11 套接字，则应向用户显示以下错误："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/wayland/_index.adoc:546
#, no-wrap
msgid ""
"(EE)\n"
"Fatal server error:\n"
"(EE) Server is already active for display 0\n"
"\tIf this server is no longer running, remove /tmp/.X0-lock\n"
"\tand start again.\n"
"(EE)\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/wayland/_index.adoc:550
#, 
msgid ""
"Since there is an active X display available using display zero, the "
"environment variable was just set improperly, to fix this, change the "
"`DISPLAY` environment variable to `:0` and attempt to execute the "
"application again.  The following example uses package:mail/claws-mail[] as "
"the application which needs the `Xwayland` service:"
msgstr ""
"由于存在一个可用的活动 X 显示器，使用显示器零，环境变量设置不正确，要修复这个问题，将 `DISPLAY` 环境变量更改为 `:0`"
"，然后尝试再次执行应用程序。以下示例使用 `package:mail/claws-mail[]` 作为需要 `Xwayland` 服务的应用程序："

#. type: delimited block - 4
#: documentation/content/en/books/handbook/wayland/_index.adoc:554
#,  no-wrap
msgid "export DISPLAY=:0\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/wayland/_index.adoc:557
#, 
msgid ""
"After this change, the package:mail/claws-mail[] application should now "
"start using `Xwayland` and function as expected."
msgstr "在这个改变之后，package:mail/claws-mail[] 应用程序现在应该开始使用 `Xwayland` 并正常工作。"

#. type: Title ==
#: documentation/content/en/books/handbook/wayland/_index.adoc:559
#,  no-wrap
msgid "Remote Desktop Using VNC"
msgstr "使用 VNC 进行远程桌面访问"

#. type: Plain text
#: documentation/content/en/books/handbook/wayland/_index.adoc:565
#, 
msgid ""
"Earlier in this document it was noted that Wayland does not provide the same"
" X server style access as Xorg provides.  Instead, users are free to pick "
"and choose a remote desktop protocol such as RDP or VNC.  The FreeBSD Ports "
"collection includes the `wayvnc`, which will support wlroots based "
"compositors such as the ones discussed here.  This application may be "
"installed using:"
msgstr ""
"在本文档中早些时候已经指出， Wayland 不像 Xorg 提供相同的 X 服务器样式访问。相反，用户可以自由选择远程桌面协议，如 RDP 或 VNC"
"。FreeBSD Ports 集合中包括 `wayvnc`，它将支持基于 wlroots "
"的合成器，例如在这里讨论的合成器。可以使用以下命令安装此应用程序："

#. type: delimited block - 4
#: documentation/content/en/books/handbook/wayland/_index.adoc:569
#,  no-wrap
msgid "# pkg install wayvnc\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/wayland/_index.adoc:573
#, 
msgid ""
"Unlike some other packages, `wayvnc` does not come with a configuration "
"file.  Thankfully, the manual page documents the important options and they "
"may be extrapolated into a simple configuration file:"
msgstr "与其他一些软件包不同，`wayvnc` 不提供配置文件。幸运的是，手册页面记录了重要的选项，并且可以将它们推导成一个简单的配置文件："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/wayland/_index.adoc:582
#, no-wrap
msgid ""
"address=0.0.0.0\n"
"enable_auth=true\n"
"username=username\n"
"password=password\n"
"private_key_file=/path/to/key.pem\n"
"certificate_file=/path/to/cert.pem\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/wayland/_index.adoc:588
#, 
msgid ""
"The key files will need to be generated, and it is highly recommended they "
"be used for increased security of the connection.  When invoked, wayvnc will"
" search for the configuration file in [.filename]#~/.config/wayvnc/config#."
"  This could be overwritten using the `-C configuration_file` option when "
"starting the server.  Thus, to start the `wayvnc` server, issue the "
"following command:"
msgstr ""
"需要生成密钥文件，并强烈建议使用它们以增加连接的安全性。当调用时，wayvnc 将在 [.filename]#~"
"/.config/wayvnc/config# 中搜索配置文件。可以使用 `-C configuration_file` "
"选项在启动服务器时覆盖该文件。因此，要启动 `wayvnc` 服务器，请执行以下命令："

#. type: delimited block - 4
#: documentation/content/en/books/handbook/wayland/_index.adoc:592
#,  no-wrap
msgid "% wayvnc -C ~/.config/wayvnc/config\n"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/handbook/wayland/_index.adoc:599
#, 
msgid ""
"At the time of this writing, there is no rc.d script to start `wayvnc` on "
"system initialization.  If that functionality is desired, a local startup "
"file will need to be created.  This is probably a feature request for the "
"port maintainer."
msgstr ""
"在撰写本文时，系统初始化时没有 rc.d 脚本来启动 `wayvnc`"
"。如果需要这个功能，需要创建一个本地启动文件。这可能是对端口维护者的一个功能请求。"

#. type: Title ==
#: documentation/content/en/books/handbook/wayland/_index.adoc:602
#,  no-wrap
msgid "Wayland Login Manager"
msgstr "Wayland 登录管理器"

#. type: Plain text
#: documentation/content/en/books/handbook/wayland/_index.adoc:606
#, 
msgid ""
"While several login managers exist and are slowly migrating to Wayland, one "
"option is the package:x11/ly[] text user interface (TUI) manager.  Needing "
"minimal configuration, `ly` will start Sway, Wayfire, and others by "
"presenting a login window on system initialization.  To install `ly`, issue "
"the following command:"
msgstr ""
"虽然存在多个登录管理器，并且正在逐渐迁移到 Wayland，但其中一个选择是 package:x11/ly[] 中的文本用户界面（TUI）管理器。`ly` "
"只需要最少的配置，它会在系统初始化时显示一个登录窗口来启动 Sway、Wayfire 等桌面环境。要安装 `ly`，请执行以下命令："

#. type: delimited block - 4
#: documentation/content/en/books/handbook/wayland/_index.adoc:610
#,  no-wrap
msgid "# pkg install ly\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/wayland/_index.adoc:613
#, 
msgid ""
"There will be some configuration hints presented, the import steps are to "
"add the following lines to [.filename]#/etc/gettytab#:"
msgstr "将会提供一些配置提示，导入步骤是将以下行添加到 [.filename]#/etc/gettytab# 文件中："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/wayland/_index.adoc:619
#, no-wrap
msgid ""
"Ly:\\\n"
"  :lo=/usr/local/bin/ly:\\\n"
"  :al=root:\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/wayland/_index.adoc:622
#, 
msgid ""
"And then modify the ttyv1 line in [.filename]#/etc/ttys# to match the "
"following line:"
msgstr "然后在 [.filename]#/etc/ttys# 中修改 ttyv1 行，使其与以下行匹配："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/wayland/_index.adoc:626
#, no-wrap
msgid "ttyv1 \"/usr/libexec/getty Ly\" xterm onifexists secure\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/wayland/_index.adoc:631
#, 
msgid ""
"After a system reboot, a login should appear.  To configure specific "
"settings, such as language and edit "
"[.filename]#/usr/local/etc/ly/config.ini#.  At minimal, this file should "
"have the designated tty that was previously specified in "
"[.filename]#/etc/ttys#."
msgstr ""
"系统重新启动后，应该出现登录界面。要配置特定的设置，例如语言和编辑 [.filename]#/usr/local/etc/ly/config.ini# "
"。至少，这个文件应该有之前在 [.filename]#/etc/ttys# 中指定的终端。"

#. type: delimited block = 4
#: documentation/content/en/books/handbook/wayland/_index.adoc:635
#, 
msgid ""
"If setting ttyv0 up as the login terminal, it may be required to press the "
"kbd:[alt] and kbd:[F1] keys to properly see the login window."
msgstr "如果将 ttyv0 设置为登录终端，可能需要按下 kbd:[alt] 和 kbd:[F1] 键才能正确显示登录窗口。"

#. type: Plain text
#: documentation/content/en/books/handbook/wayland/_index.adoc:638
#, 
msgid ""
"When the login window appears, using the left and right arrows will swap "
"through different, supported, window managers."
msgstr "当登录窗口出现时，使用左右箭头可以在不同支持的窗口管理器之间切换。"

#. type: Title ==
#: documentation/content/en/books/handbook/wayland/_index.adoc:640
#,  no-wrap
msgid "Useful Utilities"
msgstr "有用的工具"

#. type: Plain text
#: documentation/content/en/books/handbook/wayland/_index.adoc:646
#, 
msgid ""
"One useful Wayland utility which all compositors can make use of is the "
"waybar.  While Wayfire does come with a launch menu, an easy-to-use and fast"
" taskbar is a good accessory for any compositor or desktop manager.  A "
"Wayland compatible taskbar that is fast and easy to configure is waybar.  To"
" install the package and a supporting audio control utility, issue the "
"following command:"
msgstr ""
"所有合成器都可以使用的一个有用的 Wayland 实用程序是 waybar。虽然 Wayfire "
"带有一个启动菜单，但一个易于使用和快速的任务栏对于任何合成器或桌面管理器来说都是一个很好的附件。一个快速且易于配置的 Wayland 兼容的任务栏是 "
"waybar。要安装该软件包和一个支持音频控制的实用程序，请执行以下命令："

#. type: delimited block - 4
#: documentation/content/en/books/handbook/wayland/_index.adoc:650
#,  no-wrap
msgid "# pkg install pavucontrol waybar\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/wayland/_index.adoc:653
#, 
msgid ""
"To create the configuration directory and copy over a default configuration "
"file, execute the following commands:"
msgstr "要创建配置目录并复制默认配置文件，请执行以下命令："

#. type: delimited block - 4
#: documentation/content/en/books/handbook/wayland/_index.adoc:658
#,  no-wrap
msgid ""
"% mkdir ~/.config/waybar\n"
"% cp /usr/local/etc/xdg/waybar/config ~/.config/waybar\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/wayland/_index.adoc:662
#, 
msgid ""
"The `lavalauncher` utility provides a launch bar for various applications.  "
"There is no example configuration file provided with the package, so the "
"following actions must be taken:"
msgstr "`lavalauncher` 实用程序为各种应用程序提供了一个启动栏。软件包中没有提供示例配置文件，因此必须执行以下操作："

#. type: delimited block - 4
#: documentation/content/en/books/handbook/wayland/_index.adoc:666
#,  no-wrap
msgid "mkdir ~/.config/lavalauncher\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/wayland/_index.adoc:669
#, 
msgid ""
"An example configuration file that only includes Firefox, and is placed on "
"the right, is below:"
msgstr "下面是一个只包含 Firefox 的示例配置文件，并且放置在右侧："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/wayland/_index.adoc:675
#, no-wrap
msgid ""
"global-settings {\n"
"\twatch-config-file = true;\n"
"}\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/wayland/_index.adoc:680
#, no-wrap
msgid ""
"bar {\n"
"\toutput            = eDP-1;\n"
"\tposition          = bottom;\n"
"\tbackground-colour = \"#202020\";\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/wayland/_index.adoc:683
#, no-wrap
msgid ""
"\t# Condition for the default configuration set.\n"
"\tcondition-resolution = wider-than-high;\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/wayland/_index.adoc:687
#, no-wrap
msgid ""
"\tconfig {\n"
"\t\tposition = right;\n"
"\t}\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/wayland/_index.adoc:696
#, no-wrap
msgid ""
"\tbutton {\n"
"\t\timage-path          =     /usr/local/lib/firefox/browser/chrome/icons/default/default48.png;\n"
"\t\tcommand[mouse-left] =     /usr/local/bin/firefox;\n"
"\t}\n"
"\tbutton {\n"
"\t  image-path           =   /usr/local/share/pixmaps/thunderbird.png;\n"
"\t  command[mouse-left]  =   /usr/local/bin/thunderbird;\n"
"}\n"
msgstr ""
