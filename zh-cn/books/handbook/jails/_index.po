# SOME DESCRIPTIVE TITLE
# Copyright (C) YEAR The FreeBSD Project
# This file is distributed under the same license as the FreeBSD Documentation package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: FreeBSD Documentation VERSION\n"
"POT-Creation-Date: 2023-12-17 07:06+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: \n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. type: YAML Front Matter: description
#: documentation/content/en/books/handbook/jails/_index.adoc:1
#, fuzzy, no-wrap
msgid ""
"Jails improve on the concept of the traditional chroot environment in "
"several ways"
msgstr "Jails在多个方面改进了传统chroot环境的概念。"

#. type: YAML Front Matter: part
#: documentation/content/en/books/handbook/jails/_index.adoc:1
#, fuzzy, no-wrap
msgid "Part III. System Administration"
msgstr "第三部分. 系统管理"

#. type: YAML Front Matter: title
#: documentation/content/en/books/handbook/jails/_index.adoc:1
#, fuzzy, no-wrap
msgid "Chapter 17. Jails and Containers"
msgstr "第17章 监狱和容器"

#. type: Title =
#: documentation/content/en/books/handbook/jails/_index.adoc:14
#, fuzzy, no-wrap
msgid "Jails and Containers"
msgstr "监狱和容器"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:39
#, fuzzy
msgid ""
"include::shared/attributes/attributes-{{% lang %}}.adoc[] "
"include::shared/{{% lang %}}/teams.adoc[] include::shared/{{% lang "
"%}}/mailing-lists.adoc[] include::shared/{{% lang %}}/urls.adoc[]"
msgstr ""
"include::shared/attributes/attributes-{{% lang %}}.adoc[] "
"include::shared/{{% lang %}}/teams.adoc[] include::shared/{{% lang "
"%}}/mailing-lists.adoc[] include::shared/{{% lang %}}/urls.adoc[]"

#. type: Title ==
#: documentation/content/en/books/handbook/jails/_index.adoc:52
#, fuzzy, no-wrap
msgid "Synopsis"
msgstr "简介"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:58
#, fuzzy
msgid ""
"Since system administration is a difficult task, many tools have been "
"developed to make life easier for the administrator.  These tools often "
"enhance the way systems are installed, configured, and maintained.  One of "
"the tools which can be used to enhance the security of a FreeBSD system is "
"_jails_.  Jails have been available since FreeBSD 4.X and continue to be "
"enhanced in their usefulness, performance, reliability, and security."
msgstr ""
"由于系统管理是一项困难的任务，因此开发了许多工具来简化管理员的工作。这些工具通常可以增强系统的安装、配置和维护方式。其中一个可以用来增强FreeBSD系统安全性的工具是_jails_。自FreeBSD"
" 4.X以来，jails一直在其有用性、性能、可靠性和安全性方面得到改进。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:63
#, fuzzy
msgid ""
"Jails build upon the man:chroot[2] concept, which is used to change the root"
" directory of a set of processes.  This creates a safe environment, separate"
" from the rest of the system.  Processes created in the chrooted environment"
" can not access files or resources outside of it.  For that reason, "
"compromising a service running in a chrooted environment should not allow "
"the attacker to compromise the entire system."
msgstr ""
"Jails是基于man:chroot[2]概念构建的，该概念用于更改一组进程的根目录。这样可以创建一个与系统其余部分分离的安全环境。在chroot环境中创建的进程无法访问其外部的文件或资源。因此，入侵chroot环境中运行的服务不应允许攻击者危害整个系统。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:67
#, fuzzy
msgid ""
"However, a chroot has several limitations.  It is suited to easy tasks which"
" do not require much flexibility or complex, advanced features.  Over time, "
"many ways have been found to escape from a chrooted environment, making it a"
" less than ideal solution for securing services."
msgstr ""
"然而，chroot有一些限制。它适用于不需要太多灵活性或复杂高级功能的简单任务。随着时间的推移，人们发现了许多逃离chroot环境的方法，使其成为不太理想的保护服务的解决方案。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:69
#, fuzzy
msgid ""
"Jails improve on the concept of the traditional chroot environment in "
"several ways."
msgstr "Jails在多个方面改进了传统chroot环境的概念。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:75
#, fuzzy
msgid ""
"In a traditional chroot environment, processes are only limited in the part "
"of the file system they can access.  The rest of the system resources, "
"system users, running processes, and the networking subsystem are shared by "
"the chrooted processes and the processes of the host system.  Jails expand "
"this model by virtualizing access to the file system, the set of users, and "
"the networking subsystem.  More fine-grained controls are available for "
"tuning the access of a jailed environment.  Jails can be considered as a "
"type of operating system-level virtualization."
msgstr ""
"在传统的chroot环境中，进程只能访问文件系统的一部分。其余的系统资源、系统用户、运行中的进程和网络子系统由chroot进程和主机系统的进程共享。Jails通过虚拟化对文件系统、用户集和网络子系统的访问来扩展这个模型。可以使用更精细的控制来调整被监禁环境的访问权限。Jails可以被看作是一种操作系统级别的虚拟化。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:77
#, fuzzy
msgid "This chapter covers:"
msgstr "本章内容包括："

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:79
#, fuzzy
msgid "What a jail is and what purpose it may serve in FreeBSD installations."
msgstr "在FreeBSD安装中，监狱是什么以及它可能起到的作用。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:80
#, fuzzy
msgid "The different types of jail."
msgstr "不同类型的监狱。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:81
#, fuzzy
msgid "The different ways to configure the network for a jail."
msgstr "配置监狱网络的不同方法。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:82
#, fuzzy
msgid "The jail configuration file."
msgstr "监狱配置文件。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:83
#, fuzzy
msgid "How to create the different types of jail."
msgstr "如何创建不同类型的监狱。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:84
#, fuzzy
msgid "How to start, stop, and restart a jail."
msgstr "如何启动、停止和重启一个jail。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:85
#, fuzzy
msgid ""
"The basics of jail administration, both from inside and outside the jail."
msgstr "监狱管理的基础知识，包括监狱内部和外部的管理。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:86
#, fuzzy
msgid "How to upgrade the different types of jail."
msgstr "如何升级不同类型的监狱。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:87
#, fuzzy
msgid "A incomplete list of the different FreeBSD jail managers."
msgstr "一个不完整的FreeBSD监狱管理器列表。"

#. type: Title ==
#: documentation/content/en/books/handbook/jails/_index.adoc:89
#, fuzzy, no-wrap
msgid "Jail Types"
msgstr "监狱类型"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:93
#, fuzzy
msgid ""
"Some administrators divide jails into different types, although the "
"underlying technology is the same.  Each administrator will have to assess "
"what type of jail to create in each case depending on the problem they have "
"to solve."
msgstr "一些管理员将监狱分为不同类型，尽管底层技术是相同的。每个管理员都必须根据他们需要解决的问题来评估在每种情况下创建哪种类型的监狱。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:95
#, fuzzy
msgid ""
"Below can be found a list of the different types, their characteristics, and"
" considerations for use."
msgstr "下面是不同类型的列表，包括它们的特点和使用时需要考虑的事项。"

#. type: Title ===
#: documentation/content/en/books/handbook/jails/_index.adoc:97
#, fuzzy, no-wrap
msgid "Thick Jails"
msgstr "厚实的监狱"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:104
#, fuzzy
msgid ""
"A thick jail is a traditional form of FreeBSD Jail.  In a thick jail, a "
"complete copy of the base system is replicated within the jail's "
"environment.  This means that the jail has its own separate instance of the "
"FreeBSD base system, including libraries, executables, and configuration "
"files.  The jail can be thought of as an almost complete standalone FreeBSD "
"installation, but running within the confines of the host system.  This "
"isolation ensures that the processes within the jail are kept separate from "
"those on the host and other jails."
msgstr ""
"厚型监狱是FreeBSD监狱的一种传统形式。在厚型监狱中，基本系统的完整副本被复制到监狱的环境中。这意味着监狱拥有自己独立的FreeBSD基本系统实例，包括库、可执行文件和配置文件。可以将监狱视为一个几乎完整的独立FreeBSD安装，但在主机系统的限制下运行。这种隔离确保监狱内的进程与主机和其他监狱中的进程保持分离。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:106
#, fuzzy
msgid "Advantages of Thick Jails:"
msgstr "厚实监狱的优势："

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:108
#, fuzzy
msgid ""
"High degree of isolation: Processes within the jail are isolated from the "
"host system and other jails."
msgstr "高度隔离性：监狱内的进程与主机系统和其他监狱之间是隔离的。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:109
#, fuzzy
msgid ""
"Independence: Thick jails can have different versions of libraries, "
"configurations, and software than the host system or other jails."
msgstr "独立性：厚型监狱可以拥有与主机系统或其他监狱不同版本的库、配置和软件。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:110
#, fuzzy
msgid ""
"Security: Since the jail contains its own base system, vulnerabilities or "
"issues affecting the jail environment won't directly impact the host or "
"other jails."
msgstr "安全性：由于监狱包含了自己的基本系统，影响监狱环境的漏洞或问题不会直接影响主机或其他监狱。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:112
#, fuzzy
msgid "Disadvantages of Thick Jails:"
msgstr "厚壁狱的缺点："

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:114
#, fuzzy
msgid ""
"Resource overhead: Because each jail maintains its own separate base system,"
" thick jails consume more resources compared to thin jails."
msgstr "资源开销：由于每个监狱都维护着自己独立的基础系统，相比于薄监狱，厚监狱消耗更多的资源。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:115
#, fuzzy
msgid ""
"Maintenance: Each jail requires its own maintenance and updates for its base"
" system components."
msgstr "维护：每个监狱都需要对其基本系统组件进行维护和更新。"

#. type: Title ==
#: documentation/content/en/books/handbook/jails/_index.adoc:117
#: documentation/content/en/books/handbook/jails/_index.adoc:383
#, fuzzy, no-wrap
msgid "Thin Jails"
msgstr "薄型监狱"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:123
#, fuzzy
msgid ""
"A thin jail shares the base system using OpenZFS snapshots or NullFS mounts "
"from a template.  Only a minimal subset of base system is duplicated for "
"each thin jail, resulting in less resource consumption compared to a thick "
"jail.  However, this also means that thin jails have less isolation and "
"independence compared to thick jails.  Changes in shared components could "
"potentially affect multiple thin jails simultaneously."
msgstr ""
"一个薄型监狱使用OpenZFS快照或NullFS挂载从模板共享基础系统。每个薄型监狱仅复制基础系统的最小子集，与厚型监狱相比，资源消耗更少。然而，这也意味着薄型监狱与厚型监狱相比具有较少的隔离性和独立性。共享组件的更改可能会同时影响多个薄型监狱。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:125
#, fuzzy
msgid ""
"In summary, a FreeBSD Thin Jail is a type of FreeBSD Jail that replicates a "
"substantial portion, but not all, of the base system within the isolated "
"environment."
msgstr "简而言之，FreeBSD Thin Jail是一种FreeBSD Jail，它在隔离环境中复制了基本系统的大部分内容，但并非全部。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:127
#, fuzzy
msgid "Advantages of Thin Jails:"
msgstr "薄型监狱的优势："

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:129
#, fuzzy
msgid ""
"Resource Efficiency: Thin jails are more resource-efficient compared to "
"thick jails. Since they share most of the base system, they consume less "
"disk space and memory. This makes it possible to run more jails on the same "
"hardware without consuming excessive resources."
msgstr ""
"资源效率：与厚型监狱相比，薄型监狱在资源利用上更高效。由于它们共享大部分基础系统，所以占用的磁盘空间和内存较少。这使得在同一硬件上运行更多的监狱成为可能，而不会消耗过多的资源。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:130
#, fuzzy
msgid ""
"Faster Deployment: Creating and launching thin jails is generally faster "
"compared to thick jails. This can be particularly advantageous when you need"
" to rapidly deploy multiple instances."
msgstr "更快的部署：创建和启动轻量级监狱通常比创建和启动厚重监狱更快。当您需要快速部署多个实例时，这可能特别有优势。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:131
#, fuzzy
msgid ""
"Unified Maintenance: Since thin jails share the majority of their base "
"system with the host system, updates and maintenance of common base system "
"components (such as libraries and binaries) only need to be done once on the"
" host. This simplifies the maintenance process compared to maintaining an "
"individual base system for each thick jail."
msgstr ""
"统一维护：由于薄型监狱与主机系统共享大部分基础系统（如库和二进制文件），因此只需要在主机上进行一次更新和维护常见的基础系统组件。与为每个厚型监狱维护单独的基础系统相比，这简化了维护过程。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:132
#, fuzzy
msgid ""
"Shared Resources: Thin jails can more easily share common resources such as "
"libraries and binaries with the host system. This can potentially lead to "
"more efficient disk caching and improved performance for applications within"
" the jail."
msgstr "共享资源：薄型监狱可以更轻松地与主机系统共享常见的资源，如库和二进制文件。这可能会导致更高效的磁盘缓存和监狱内应用程序的性能改善。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:134
#, fuzzy
msgid "Disadvantages of Thin Jails:"
msgstr "薄型监狱的缺点："

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:136
#, fuzzy
msgid ""
"Reduced Isolation: The primary disadvantage of thin jails is that they offer"
" less isolation compared to thick jails. Since they share a significant "
"portion of the template's base system, vulnerabilities or issues affecting "
"shared components could potentially impact multiple jails simultaneously."
msgstr ""
"降低的隔离性：薄型监狱的主要缺点是相比于厚型监狱，它们提供的隔离性较低。由于它们共享模板基础系统的大部分内容，可能会同时影响多个监狱的漏洞或问题。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:137
#, fuzzy
msgid ""
"Security Concerns: The reduced isolation in thin jails could pose security "
"risks, as a compromise in one jail might have a greater potential to affect "
"other jails or the host system."
msgstr "安全问题：薄型监狱中减少的隔离性可能会带来安全风险，因为一个监狱的妥协可能对其他监狱或主机系统产生更大的影响潜力。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:138
#, fuzzy
msgid ""
"Dependency Conflicts: If multiple thin jails require different versions of "
"the same libraries or software, managing dependencies can become complex. In"
" some cases, this might require additional effort to ensure compatibility."
msgstr "依赖冲突：如果多个独立的容器需要不同版本的相同库或软件，管理依赖关系可能会变得复杂。在某些情况下，这可能需要额外的努力来确保兼容性。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:139
#, fuzzy
msgid ""
"Compatibility Challenges: Applications within a thin jail might encounter "
"compatibility issues if they assume a certain base system environment that "
"differs from the shared components provided by the template."
msgstr "兼容性挑战：在一个狭窄的监狱中，应用程序可能会遇到兼容性问题，如果它们假设某个基本系统环境与模板提供的共享组件不同。"

#. type: Title ===
#: documentation/content/en/books/handbook/jails/_index.adoc:141
#, fuzzy, no-wrap
msgid "VNET Jails"
msgstr "VNET Jails是一种虚拟网络隔离技术。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:146
#, fuzzy
msgid ""
"A FreeBSD VNET jail is a virtualized environment that allows for the "
"isolation and control of network resources for processes running within it."
"  It provides a high level of network segmentation and security by creating "
"a separate network stack for processes within the jail, ensuring that "
"network traffic within the jail is isolated from the host system and other "
"jails."
msgstr ""
"FreeBSD "
"VNET监狱是一种虚拟化环境，允许对其中运行的进程的网络资源进行隔离和控制。它通过为监狱内的进程创建单独的网络堆栈，确保监狱内的网络流量与主机系统和其他监狱隔离，从而提供了高级别的网络分割和安全性。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:149
#, fuzzy
msgid ""
"In essence, FreeBSD VNET jails add a network configuration mechanism.  This "
"means a VNET jail can be created as a Thick or Thin Jail."
msgstr "实质上，FreeBSD VNET jails添加了一种网络配置机制。这意味着VNET jail可以创建为厚型或薄型Jail。"

#. type: Title ===
#: documentation/content/en/books/handbook/jails/_index.adoc:151
#, fuzzy, no-wrap
msgid "Linux Jails"
msgstr ""
"Linux "
"Jails是一种操作系统级别的虚拟化技术，用于隔离和限制进程的运行环境。它可以创建一个独立的虚拟环境，其中的进程只能访问该环境内的资源，而无法访问主机系统的资源。Linux"
" "
"Jails可以提供更高的安全性和隔离性，使得不同的应用程序可以在同一台主机上同时运行，而互不干扰。这种技术在服务器环境中广泛应用，可以有效地提高系统的稳定性和安全性。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:156
#, fuzzy
msgid ""
"A FreeBSD Linux Jail is a feature in the FreeBSD operating system that "
"enables the use of Linux binaries and applications within a FreeBSD jail.  "
"This functionality is achieved by incorporating a compatibility layer that "
"allows certain Linux system calls and libraries to be translated and "
"executed on the FreeBSD kernel.  The purpose of a Linux Jail is to "
"facilitate the execution of Linux software on a FreeBSD system without "
"needing a separate Linux virtual machine or environment."
msgstr ""
"FreeBSD Linux Jail是FreeBSD操作系统中的一个功能，它允许在FreeBSD "
"jail中使用Linux二进制文件和应用程序。通过引入一个兼容层，该功能可以实现将某些Linux系统调用和库转换并在FreeBSD内核上执行。Linux"
" Jail的目的是在不需要单独的Linux虚拟机或环境的情况下，在FreeBSD系统上执行Linux软件。"

#. type: Title ==
#: documentation/content/en/books/handbook/jails/_index.adoc:158
#, fuzzy, no-wrap
msgid "Host Configuration"
msgstr "主机配置"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:161
#, fuzzy
msgid ""
"Before creating any jail on the host system it is necessary to perform "
"certain configuration and obtain some information from the host system."
msgstr "在主机系统上创建任何监狱之前，需要进行一些配置并从主机系统中获取一些信息。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:163
#, fuzzy
msgid ""
"It will be necessary to configure the man:jail[8] utility, create the "
"necessary directories to configure and install jails, obtain information "
"from the host's network, and check whether the host uses OpenZFS or UFS as "
"its file system."
msgstr ""
"需要配置man:jail[8]实用程序，创建必要的目录来配置和安装jails，从主机的网络获取信息，并检查主机是否使用OpenZFS或UFS作为其文件系统。"

#. type: delimited block = 4
#: documentation/content/en/books/handbook/jails/_index.adoc:167
#, fuzzy
msgid ""
"The FreeBSD version running in the jail can not be newer than the version "
"running in the host."
msgstr "在jail中运行的FreeBSD版本不能比主机中运行的版本更新。"

#. type: Title ===
#: documentation/content/en/books/handbook/jails/_index.adoc:170
#, fuzzy, no-wrap
msgid "Jail Utility"
msgstr "监狱实用工具"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:173
#, fuzzy
msgid "The man:jail[8] utility manages jails."
msgstr "man:jail[8]实用程序用于管理jails。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:175
#, fuzzy
msgid "To start jails when the system boots, run the following commands:"
msgstr "要在系统启动时启动jails，请运行以下命令："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:180
#, no-wrap
msgid ""
"# sysrc jail_enable=\"YES\"\n"
"# sysrc jail_parallel_start=\"YES\"\n"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/handbook/jails/_index.adoc:185
#, fuzzy
msgid ""
"With `jail_parallel_start`, all configured jails will be started in the "
"background."
msgstr "使用`jail_parallel_start`，所有配置的监狱将在后台启动。"

#. type: Title ===
#: documentation/content/en/books/handbook/jails/_index.adoc:188
#, fuzzy, no-wrap
msgid "Networking"
msgstr "网络"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:191
#, fuzzy
msgid "Networking for FreeBSD jails can be configured several different ways:"
msgstr "FreeBSD jails的网络配置有多种不同的方式："

#. type: Labeled list
#: documentation/content/en/books/handbook/jails/_index.adoc:192
#, fuzzy, no-wrap
msgid "Host Networking Mode (IP Sharing)"
msgstr "主机网络模式（IP共享）"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:196
#, fuzzy
msgid ""
"In host networking mode, a jail shares the same networking stack as the host"
" system.  When a jail is created in host networking mode it uses the same "
"network interface and IP address.  This means that the jail doesn't have a "
"separate IP address, and its network traffic is associated with the host's "
"IP."
msgstr ""
"在主机网络模式下，一个jail与主机系统共享相同的网络堆栈。当一个jail在主机网络模式下创建时，它使用相同的网络接口和IP地址。这意味着jail没有单独的IP地址，它的网络流量与主机的IP地址相关联。"

#. type: Labeled list
#: documentation/content/en/books/handbook/jails/_index.adoc:197
#, fuzzy, no-wrap
msgid "Virtual Networks (VNET)"
msgstr "虚拟网络（VNET）"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:201
#, fuzzy
msgid ""
"Virtual Networks are a feature of FreeBSD jails that offer more advanced and"
" flexible networking solutions than a basic networking mode like host "
"networking.  VNET allows the creation of isolated network stacks for each "
"jail, providing them with their own separate IP addresses, routing tables, "
"and network interfaces.  This offers a higher level of network isolation and"
" allows jails to function as if they are running on separate virtual "
"machines."
msgstr ""
"虚拟网络是FreeBSD "
"jails的一个特性，提供比主机网络等基本网络模式更高级和灵活的网络解决方案。VNET允许为每个jail创建隔离的网络堆栈，为它们提供独立的IP地址、路由表和网络接口。这提供了更高级别的网络隔离，并允许jails像运行在独立的虚拟机上一样运行。"

#. type: Labeled list
#: documentation/content/en/books/handbook/jails/_index.adoc:202
#, fuzzy, no-wrap
msgid "The netgraph system"
msgstr "netgraph系统"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:205
#, fuzzy
msgid ""
"man:netgraph[4] is a versatile kernel framework for creating custom network "
"configurations.  It can be used to define how network traffic flows between "
"jails and the host system and between different jails."
msgstr ""
"man:netgraph[4]是一个多功能的内核框架，用于创建自定义的网络配置。它可以用于定义网络流量在jails和主机系统之间以及不同jails之间的流动方式。"

#. type: Title ===
#: documentation/content/en/books/handbook/jails/_index.adoc:207
#, fuzzy, no-wrap
msgid "Setting Up the Jail Directory Tree"
msgstr "设置监狱目录树"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:210
#, fuzzy
msgid "There is no specific place to put the files for the jails."
msgstr "没有特定的位置来放置监狱的文件。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:213
#, fuzzy
msgid ""
"Some administrators use [.filename]#/jail#, others [.filename]#/usr/jail#, "
"and still others [.filename]#/usr/local/jails#.  In this chapter "
"[.filename]#/usr/local/jails# will be used."
msgstr ""
"一些管理员使用`/jail`，其他人使用`/usr/jail`，还有一些人使用`/usr/local/jails`。在本章中，将使用`/usr/local/jails`。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:215
#, fuzzy
msgid ""
"Apart from [.filename]#/usr/local/jails# other directories will be created:"
msgstr "除了 [.filename]#/usr/local/jails# 目录之外，还会创建其他目录："

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:217
#, fuzzy
msgid ""
"[.filename]#media# will contain the compressed files of the downloaded "
"userlands."
msgstr "[.filename]#media# 将包含已下载用户空间的压缩文件。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:218
#, fuzzy
msgid ""
"[.filename]#templates# will contain the templates when using Thin Jails."
msgstr "在使用Thin Jails时，[.filename]#templates#文件夹将包含模板。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:219
#, fuzzy
msgid "[.filename]#containers# will contain the jails."
msgstr "[.filename]#containers# 将包含监狱。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:221
#, fuzzy
msgid ""
"When using OpenZFS, execute the following commands to create datasets for "
"these directories:"
msgstr "在使用OpenZFS时，执行以下命令为这些目录创建数据集："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:228
#, no-wrap
msgid ""
"# zfs create -o mountpoint=/usr/local/jails zroot/jails\n"
"# zfs create zroot/jails/media\n"
"# zfs create zroot/jails/templates\n"
"# zfs create zroot/jails/containers\n"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/handbook/jails/_index.adoc:233
#, fuzzy
msgid ""
"In this case, `zroot` was used for the parent dataset, but other datasets "
"could have been used."
msgstr "在这种情况下，`zroot`被用作父数据集，但也可以使用其他数据集。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:236
#, fuzzy
msgid ""
"When using UFS, execute the following commands to create the directories:"
msgstr "在使用UFS时，执行以下命令来创建目录："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:243
#, no-wrap
msgid ""
"# mkdir /usr/local/jails/\n"
"# mkdir /usr/local/jails/media\n"
"# mkdir /usr/local/jails/templates\n"
"# mkdir /usr/local/jails/containers\n"
msgstr ""

#. type: Title ===
#: documentation/content/en/books/handbook/jails/_index.adoc:246
#, fuzzy, no-wrap
msgid "Jail Configuration Files"
msgstr "监狱配置文件"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:249
#, fuzzy
msgid "There are two ways to configure jails."
msgstr "有两种方法来配置jails。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:252
#, fuzzy
msgid ""
"The first one is to add an entry for each jail to the file "
"[.filename]#/etc/jail.conf#.  The other option is to create a file for each "
"jail in the directory [.filename]#/etc/jail.conf.d/#."
msgstr ""
"第一种方法是在文件[.filename]#/etc/jail.conf#中为每个监狱添加一个条目。另一种选项是在目录[.filename]#/etc/jail.conf.d/#中为每个监狱创建一个文件。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:255
#, fuzzy
msgid ""
"There is no right or wrong option.  Each administrator must choose the one "
"that best suits their needs."
msgstr "没有正确或错误的选择。每个管理员必须选择最适合他们需求的选项。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:258
#, fuzzy
msgid ""
"In case a host system has few jails, an entry for each jail can be added in "
"the file [.filename]#/etc/jail.conf#.  If the host system has many jails, it"
" is good idea to have one configuration file for each jail in the "
"[.filename]#/etc/jail.conf.d/# directory."
msgstr ""
"如果主机系统只有几个jail，可以在文件[.filename]#/etc/jail.conf#中为每个jail添加一个条目。如果主机系统有很多jail，最好在[.filename]#/etc/jail.conf.d/#目录中为每个jail拥有一个配置文件。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:260
#, fuzzy
msgid "A typical jail entry would look like this:"
msgstr "一个典型的监狱入口会是这样的："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:268
#, no-wrap
msgid ""
"jailname { <.>\n"
"  # STARTUP/LOGGING\n"
"  exec.start = \"/bin/sh /etc/rc\"; <.>\n"
"  exec.stop = \"/bin/sh /etc/rc.shutdown\"; <.>\n"
"  exec.consolelog = \"/var/log/jail_console_${name}.log\"; <.>\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:273
#, no-wrap
msgid ""
"  # PERMISSIONS\n"
"  allow.raw_sockets; <.>\n"
"  exec.clean; <.>\n"
"  mount.devfs; <.>\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:277
#, no-wrap
msgid ""
"  # HOSTNAME/PATH\n"
"  host.hostname = \"${name}\"; <.>\n"
"  path = \"/usr/local/jails/containers/${name}\"; <.>\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:283
#, no-wrap
msgid ""
"  # NETWORK\n"
"  ip4.addr = 192.168.1.151; <.>\n"
"  ip6.addr = ::ffff:c0a8:197 <.>\n"
"  interface = em0; <.>\n"
"}\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:297
#, fuzzy
msgid ""
"<.> `jailname` - Name of the jail.  <.> `exec.start` - Command(s) to run in "
"the jail environment when a jail is created. A typical command to run is "
"\"/bin/sh /etc/rc\".  <.> `exec.stop` - Command(s) to run in the jail "
"environment before a jail is removed. A typical command to run is \"/bin/sh "
"/etc/rc.shutdown\".  <.> `exec.consolelog` - A file to direct command output"
" (stdout and stderr) to.  <.> `allow.raw_sockets` - Allow creating raw "
"sockets inside the jail. Setting this parameter allows utilities like "
"man:ping[8] and man:traceroute[8] to operate inside the jail.  <.> "
"`exec.clean` - Run commands in a clean environment.  <.> `mount.devfs` - "
"Mount a man:devfs[5] filesystem on the chrooted [.filename]#/dev# directory,"
" and apply the ruleset in the devfs_ruleset parameter to restrict the "
"devices visible inside the jail.  <.> `host.hostname` - The hostname of the "
"jail.  <.> `path` - The directory which is to be the root of the jail. Any "
"commands that are run inside the jail, either by jail or from man:jexec[8], "
"are run from this directory.  <.> `ip4.addr` - IPv4 address. There are two "
"configuration possibilities for IPv4. The first is to establish an IP or a "
"list of IPs as has been done in the example. The other is to use `ip4` "
"instead and set the `inherit` value to inherit the host's IP address.  <.> "
"`ip6.addr` - IPv6 address. There are two configuration possibilities for "
"IPv6. The first is to establish an IP or a list of IPs as has been done in "
"the example. The other is to use `ip6` instead and set the `inherit` value "
"to inherit the host's IP address.  <.> `interface` - A network interface to "
"add the jail's IP addresses. Usually the host interface."
msgstr ""
"<.> `jailname` - 监狱的名称。\n"
"<.> `exec.start` - 创建监狱时在监狱环境中运行的命令。通常运行的命令是 \"/bin/sh /etc/rc\"。\n"
"<.> `exec.stop` - 删除监狱之前在监狱环境中运行的命令。通常运行的命令是 \"/bin/sh /etc/rc.shutdown\"。\n"
"<.> `exec.consolelog` - 将命令输出（stdout 和 stderr）重定向到的文件。\n"
"<.> `allow.raw_sockets` - 允许在监狱内创建原始套接字。设置此参数允许像 man:ping[8] 和 man:traceroute[8] 这样的实用程序在监狱内运行。\n"
"<.> `exec.clean` - 在一个干净的环境中运行命令。\n"
"<.> `mount.devfs` - 在 chrooted [.filename]#/dev# 目录上挂载一个 man:devfs[5] 文件系统，并应用 devfs_ruleset 参数中的规则集来限制监狱内可见的设备。\n"
"<.> `host.hostname` - 监狱的主机名。\n"
"<.> `path` - 监狱的根目录。在监狱内运行的任何命令，无论是通过 jail 还是 man:jexec[8] 运行，都是从此目录开始的。\n"
"<.> `ip4.addr` - IPv4 地址。IPv4 有两种配置可能性。第一种是像示例中所做的那样建立一个 IP 或 IP 列表。另一种是使用 `ip4` 替代，并将 `inherit` 值设置为继承主机的 IP 地址。\n"
"<.> `ip6.addr` - IPv6 地址。IPv6 有两种配置可能性。第一种是像示例中所做的那样建立一个 IP 或 IP 列表。另一种是使用 `ip6` 替代，并将 `inherit` 值设置为继承主机的 IP 地址。\n"
"<.> `interface` - 添加监狱的 IP 地址的网络接口。通常是主机接口。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:299
#, fuzzy
msgid ""
"More information about configuration variables can be found in man:jail[8] "
"and man:jail.conf[5]."
msgstr "有关配置变量的更多信息可以在 man:jail[8] 和 man:jail.conf[5] 中找到。"

#. type: Title ==
#: documentation/content/en/books/handbook/jails/_index.adoc:301
#, fuzzy, no-wrap
msgid "Classic Jail (Thick Jail)"
msgstr "经典监狱（厚重监狱）"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:305
#, fuzzy
msgid ""
"These jails resemble a real FreeBSD system.  They can be managed more or "
"less like a normal host system and updated independently."
msgstr "这些监狱类似于真实的FreeBSD系统。它们可以像普通主机系统一样进行管理，并且可以独立更新。"

#. type: Title ===
#: documentation/content/en/books/handbook/jails/_index.adoc:307
#, fuzzy, no-wrap
msgid "Creating a Classic Jail"
msgstr "创建一个经典监狱"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:310
#, fuzzy
msgid ""
"In principle, a jail only needs a hostname, a root directory, an IP address,"
" and a userland."
msgstr "原则上，一个jail只需要一个主机名、一个根目录、一个IP地址和一个用户空间。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:312
#, fuzzy
msgid ""
"The userland for the jail can be obtained from the official FreeBSD download"
" servers."
msgstr "可以从官方的FreeBSD下载服务器获取用于监狱的用户空间。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:314
#, fuzzy
msgid "Execute the following command to download the userland:"
msgstr "执行以下命令以下载用户空间："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:318
#: documentation/content/en/books/handbook/jails/_index.adoc:412
#: documentation/content/en/books/handbook/jails/_index.adoc:515
#, no-wrap
msgid ""
"# fetch "
"https://download.freebsd.org/ftp/releases/amd64/amd64/13.2-RELEASE/base.txz "
"-o /usr/local/jails/media/13.2-RELEASE-base.txz\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:321
#, fuzzy
msgid ""
"Once the download is complete, it will be necessary to extract the contents "
"into the jail directory."
msgstr "下载完成后，需要将内容解压到监狱目录中。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:323
#, fuzzy
msgid ""
"Execute the following commands to extract the userland into the jail's "
"directory:"
msgstr "执行以下命令将用户空间提取到监狱目录中："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:328
#, no-wrap
msgid ""
"# mkdir -p /usr/local/jails/containers/classic\n"
"# tar -xf /usr/local/jails/media/13.2-RELEASE-base.txz -C /usr/local/jails/containers/classic --unlink\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:331
#, fuzzy
msgid ""
"With the userland extracted in the jail directory, it will be necessary to "
"copy the timezone and DNS server files:"
msgstr "在监狱目录中提取用户空间后，需要复制时区和DNS服务器文件："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:336
#, no-wrap
msgid ""
"# cp /etc/resolv.conf /usr/local/jails/containers/classic/etc/resolv.conf\n"
"# cp /etc/localtime /usr/local/jails/containers/classic/etc/localtime\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:339
#, fuzzy
msgid ""
"With the files copied, the next thing to do is update to the latest patch "
"level by executing the following command:"
msgstr "在复制文件后，下一步是通过执行以下命令更新到最新的补丁级别："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:343
#, no-wrap
msgid "# freebsd-update -b /usr/local/jails/containers/classic/ fetch install\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:347
#: documentation/content/en/books/handbook/jails/_index.adoc:456
#, fuzzy
msgid ""
"The last step is to configure the jail.  It will be necessary to add an "
"entry to the configuration file [.filename]#/etc/jail.conf# or in "
"[.filename]#jail.conf.d# with the parameters of the jail."
msgstr ""
"最后一步是配置监狱。需要在配置文件[.filename]#/etc/jail.conf#或[.filename]#jail.conf.d#中添加一个条目，包含监狱的参数。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:349
#: documentation/content/en/books/handbook/jails/_index.adoc:458
#, fuzzy
msgid "An example would be the following:"
msgstr "一个例子如下："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:357
#, no-wrap
msgid ""
"classic {\n"
"  # STARTUP/LOGGING\n"
"  exec.start = \"/bin/sh /etc/rc\";\n"
"  exec.stop = \"/bin/sh /etc/rc.shutdown\";\n"
"  exec.consolelog = \"/var/log/jail_console_${name}.log\";\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:362
#: documentation/content/en/books/handbook/jails/_index.adoc:471
#: documentation/content/en/books/handbook/jails/_index.adoc:625
#, no-wrap
msgid ""
"  # PERMISSIONS\n"
"  allow.raw_sockets;\n"
"  exec.clean;\n"
"  mount.devfs;\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:366
#: documentation/content/en/books/handbook/jails/_index.adoc:475
#: documentation/content/en/books/handbook/jails/_index.adoc:629
#: documentation/content/en/books/handbook/jails/_index.adoc:834
#, no-wrap
msgid ""
"  # HOSTNAME/PATH\n"
"  host.hostname = \"${name}\";\n"
"  path = \"/usr/local/jails/containers/${name}\";\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:371
#, no-wrap
msgid ""
"  # NETWORK\n"
"  ip4.addr = 192.168.1.151;\n"
"  interface = em0;\n"
"}\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:374
#: documentation/content/en/books/handbook/jails/_index.adoc:483
#: documentation/content/en/books/handbook/jails/_index.adoc:648
#, fuzzy
msgid "Execute the following command to start the jail:"
msgstr "执行以下命令以启动监狱："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:378
#, no-wrap
msgid "# service jail start classic\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:381
#: documentation/content/en/books/handbook/jails/_index.adoc:490
#, fuzzy
msgid ""
"More information on how to manage jails can be found in the section <<jail-"
"management>>."
msgstr "有关如何管理jails的更多信息可以在<<jail-management>>部分找到。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:389
#, fuzzy
msgid ""
"Although Thin Jails use the same technology as Thick Jails, the creation "
"procedure is different.  Thin jails can be created using OpenZFS snapshots "
"or using templates and NullFS.  The use of OpenZFS snapshots and templates "
"using NullFS have certain advantages over classic jails, such as being able "
"to create them faster from snapshots or being able to update multiple jails "
"using NullFS."
msgstr ""
"尽管Thin Jails使用与Thick Jails相同的技术，但创建过程是不同的。可以使用OpenZFS快照或使用模板和NullFS来创建Thin "
"jails。使用OpenZFS快照和使用NullFS的模板相比传统的jails具有一定的优势，例如可以更快地从快照创建它们，或者可以使用NullFS更新多个jails。"

#. type: Title ===
#: documentation/content/en/books/handbook/jails/_index.adoc:391
#, fuzzy, no-wrap
msgid "Creating a Thin Jail Using OpenZFS Snapshots"
msgstr "使用OpenZFS快照创建一个轻量级监狱"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:394
#, fuzzy
msgid ""
"Due to the good integration between FreeBSD and OpenZFS it is very easy to "
"create new Thin Jails using OpenZFS Snapshots."
msgstr "由于FreeBSD和OpenZFS之间的良好集成，使用OpenZFS快照创建新的Thin Jails非常容易。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:396
#, fuzzy
msgid ""
"To create a Thin Jail using OpenZFS Snapshots the first step is to create a "
"template."
msgstr "使用OpenZFS快照创建Thin Jail的第一步是创建一个模板。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:399
#, fuzzy
msgid ""
"Templates will only be used to create new jails.  For this reason they are "
"created in \"read-only\" mode so that jails are created with an immutable "
"base."
msgstr "模板只用于创建新的监狱。因此，它们以“只读”模式创建，以便监狱以不可变的基础创建。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:401
#, fuzzy
msgid "To create the dataset for the template, execute the following command:"
msgstr "要为模板创建数据集，请执行以下命令："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:405
#, no-wrap
msgid "# zfs create -p zroot/jails/templates/13.2-RELEASE\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:408
#: documentation/content/en/books/handbook/jails/_index.adoc:511
#, fuzzy
msgid "Then execute the following command to download the userland:"
msgstr "然后执行以下命令来下载用户空间："

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:415
#: documentation/content/en/books/handbook/jails/_index.adoc:518
#, fuzzy
msgid ""
"Once the download is complete, it will be necessary to extract the contents "
"in the template directory by executing the following command:"
msgstr "下载完成后，需要执行以下命令将内容解压到模板目录中："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:419
#, no-wrap
msgid ""
"# tar -xf /usr/local/jails/media/13.2-RELEASE-base.txz -C "
"/usr/local/jails/templates/13.2-RELEASE --unlink\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:422
#, fuzzy
msgid ""
"With the userland extracted in the templates directory, it will be necessary"
" to copy the timezone and DNS server files to the template directory by "
"executing the following command:"
msgstr "在模板目录中提取用户空间后，需要通过执行以下命令将时区和DNS服务器文件复制到模板目录中："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:427
#, no-wrap
msgid ""
"# cp /etc/resolv.conf /usr/local/jails/templates/13.2-RELEASE/etc/resolv.conf\n"
"# cp /etc/localtime /usr/local/jails/templates/13.2-RELEASE/etc/localtime\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:430
#, fuzzy
msgid ""
"The next thing to do is update to the latest patch level by executing the "
"following command:"
msgstr "下一步要做的是通过执行以下命令更新到最新的补丁级别："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:434
#, no-wrap
msgid ""
"# freebsd-update -b /usr/local/jails/templates/13.2-RELEASE/ fetch install\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:437
#, fuzzy
msgid "Once the update is finished, the template is ready."
msgstr "一旦更新完成，模板就准备好了。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:439
#, fuzzy
msgid ""
"To create an OpenZFS Snapshot from the template, execute the following "
"command:"
msgstr "要从模板创建一个OpenZFS快照，请执行以下命令："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:443
#, no-wrap
msgid "# zfs snapshot zroot/jails/templates/13.2-RELEASE@base\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:446
#, fuzzy
msgid ""
"Once the OpenZFS Snapshot has been created, infinite jails can be created "
"using the OpenZFS clone function."
msgstr "一旦创建了OpenZFS快照，就可以使用OpenZFS克隆功能创建无限个jail。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:448
#, fuzzy
msgid "To create a Thin Jail named `thinjail`, execute the following command:"
msgstr "要创建一个名为`thinjail`的Thin Jail，请执行以下命令："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:452
#, no-wrap
msgid ""
"# zfs clone zroot/jails/templates/13.2-RELEASE@base "
"zroot/jails/containers/thinjail\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:466
#: documentation/content/en/books/handbook/jails/_index.adoc:620
#, no-wrap
msgid ""
"thinjail {\n"
"  # STARTUP/LOGGING\n"
"  exec.start = \"/bin/sh /etc/rc\";\n"
"  exec.stop = \"/bin/sh /etc/rc.shutdown\";\n"
"  exec.consolelog = \"/var/log/jail_console_${name}.log\";\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:480
#, no-wrap
msgid ""
"  # NETWORK\n"
"  ip4 = inherit;\n"
"  interface = em0;\n"
"}\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:487
#: documentation/content/en/books/handbook/jails/_index.adoc:652
#, no-wrap
msgid "# service jail start thinjail\n"
msgstr ""

#. type: Title ===
#: documentation/content/en/books/handbook/jails/_index.adoc:492
#, fuzzy, no-wrap
msgid "Creating a Thin Jail Using NullFS"
msgstr "使用NullFS创建一个薄型监狱"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:495
#, fuzzy
msgid ""
"A jail can be created with reduced duplication of system files by using the "
"Thin Jail technique and using NullFS to selectively share specific "
"directories from the host system into the jail."
msgstr "使用Thin Jail技术和使用NullFS将特定目录从主机系统选择性地共享到监狱中，可以减少系统文件的重复创建。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:497
#, fuzzy
msgid ""
"The first step is to create the dataset to save the template, execute the "
"following command if using OpenZFS:"
msgstr "第一步是创建数据集以保存模板，如果使用OpenZFS，请执行以下命令："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:501
#, no-wrap
msgid "# zfs create -p zroot/jails/templates/13.2-RELEASE-base\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:504
#, fuzzy
msgid "Or this one if using UFS:"
msgstr "如果使用UFS，则使用以下命令："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:508
#, no-wrap
msgid "# mkdir /usr/local/jails/templates/13.2-RELEASE-base\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:522
#, no-wrap
msgid ""
"# tar -xf /usr/local/jails/media/13.2-RELEASE-base.txz -C "
"/usr/local/jails/templates/13.2-RELEASE-base --unlink\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:525
#, fuzzy
msgid ""
"Once the userland is extracted in the templates directory, it will be "
"necessary to copy the timezone and DNS server files to the template "
"directory by executing the following command:"
msgstr "一旦用户空间在模板目录中被提取出来，就需要通过执行以下命令将时区和DNS服务器文件复制到模板目录中："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:530
#, no-wrap
msgid ""
"# cp /etc/resolv.conf /usr/local/jails/templates/13.2-RELEASE-base/etc/resolv.conf\n"
"# cp /etc/localtime /usr/local/jails/templates/13.2-RELEASE-base/etc/localtime\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:533
#, fuzzy
msgid ""
"With the files moved to the template, the next thing to do is update to the "
"latest patch level by executing the following command:"
msgstr "将文件移动到模板后，下一步要做的是通过执行以下命令更新到最新的补丁级别："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:537
#, no-wrap
msgid ""
"# freebsd-update -b /usr/local/jails/templates/13.2-RELEASE-base/ fetch "
"install\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:541
#, fuzzy
msgid ""
"In addition to the base template, it is also necessary to create a directory"
" where the `skeleton` will be located.  Some directories will be copied from"
" the template to the `skeleton`."
msgstr "除了基本模板之外，还需要创建一个目录，用于存放“骨架”。一些目录将从模板复制到“骨架”中。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:543
#, fuzzy
msgid ""
"Execute the following command to create the dataset for the `skeleton` in "
"case of using OpenZFS:"
msgstr "在使用OpenZFS的情况下，执行以下命令创建`skeleton`的数据集："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:547
#, no-wrap
msgid "# zfs create -p zroot/jails/templates/13.2-RELEASE-skeleton\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:550
#, fuzzy
msgid "Or this one in case of using UFS:"
msgstr "如果使用UFS，则使用以下命令："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:554
#, no-wrap
msgid "# mkdir /usr/local/jails/templates/13.2-RELEASE-skeleton\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:558
#, fuzzy
msgid ""
"Then create the `skeleton` directories.  The `skeleton` directories will "
"hold the local directories of the jails."
msgstr "然后创建`骨架（skeleton）`目录。`骨架（skeleton）`目录将保存监狱的本地目录。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:560
#, fuzzy
msgid "Execute the following commands to create the directories:"
msgstr "执行以下命令创建目录："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:570
#, no-wrap
msgid ""
"# mkdir -p /usr/local/jails/templates/13.2-RELEASE-skeleton/home\n"
"# mkdir -p /usr/local/jails/templates/13.2-RELEASE-skeleton/usr\n"
"# mv /usr/local/jails/templates/13.2-RELEASE-base/etc /usr/local/jails/templates/13.2-RELEASE-skeleton/etc\n"
"# mv /usr/local/jails/templates/13.2-RELEASE-base/usr/local /usr/local/jails/templates/13.2-RELEASE-skeleton/usr/local\n"
"# mv /usr/local/jails/templates/13.2-RELEASE-base/tmp /usr/local/jails/templates/13.2-RELEASE-skeleton/tmp\n"
"# mv /usr/local/jails/templates/13.2-RELEASE-base/var /usr/local/jails/templates/13.2-RELEASE-skeleton/var\n"
"# mv /usr/local/jails/templates/13.2-RELEASE-base/root /usr/local/jails/templates/13.2-RELEASE-skeleton/root\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:573
#, fuzzy
msgid ""
"The next step is to create the symlinks to the `skeleton` by executing the "
"following commands:"
msgstr "下一步是通过执行以下命令创建到`skeleton`的符号链接："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:584
#, no-wrap
msgid ""
"# cd /usr/local/jails/templates/13.2-RELEASE-base/\n"
"# mkdir skeleton\n"
"# ln -s skeleton/etc etc\n"
"# ln -s skeleton/home home\n"
"# ln -s skeleton/root root\n"
"# ln -s skeleton/usr/local usr/local\n"
"# ln -s skeleton/tmp tmp\n"
"# ln -s skeleton/var var\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:587
#, fuzzy
msgid ""
"With the `skeleton` ready, it will be necessary to copy the data to the jail"
" directory."
msgstr "准备好了`skeleton`之后，需要将数据复制到监狱目录中。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:589
#, fuzzy
msgid ""
"In case of using OpenZFS, OpenZFS snapshots can be used to easily create as "
"many jails as necessary by executing the following commands:"
msgstr "如果使用OpenZFS，可以使用OpenZFS快照通过执行以下命令轻松创建所需数量的jails："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:594
#, no-wrap
msgid ""
"# zfs snapshot zroot/jails/templates/13.2-RELEASE-skeleton@base\n"
"# zfs clone zroot/jails/templates/13.2-RELEASE-skeleton@base zroot/jails/containers/thinjail\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:597
#, fuzzy
msgid ""
"In case of using UFS the man:cp[1] program can be used by executing the "
"following commands:"
msgstr "如果使用UFS文件系统，可以通过执行以下命令来使用man:cp[1]程序："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:602
#, no-wrap
msgid ""
"# mkdir /usr/local/jails/containers/thinjail\n"
"# cp -R /usr/local/jails/templates/13.2-RELEASE-skeleton /usr/local/jails/containers/thinjail\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:605
#, fuzzy
msgid ""
"Then create the directory in which the base template and the skeleton will "
"be mounted:"
msgstr "然后创建一个目录，用于挂载基本模板和骨架："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:609
#, no-wrap
msgid "# mkdir -p /usr/local/jails/thinjail-nullfs-base\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:612
#, fuzzy
msgid ""
"Add a jail entry in [.filename]#/etc/jail.conf# or a file in "
"[.filename]#jail.conf.d# as follows:"
msgstr ""
"在[.filename]#/etc/jail.conf#中添加一个监狱条目，或者在[.filename]#jail.conf.d#目录中添加一个文件，内容如下："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:633
#, no-wrap
msgid ""
"  # NETWORK\n"
"  ip4.addr = 192.168.1.153;\n"
"  interface = em0;\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:637
#, no-wrap
msgid ""
"  # MOUNT\n"
"  mount.fstab = \"/usr/local/jails/thinjail-nullfs-base.fstab\";\n"
"}\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:640
#, fuzzy
msgid ""
"Then the create the [.filename]#/usr/local/jails/thinjail-nullfs-base.fstab#"
" file as follows:"
msgstr "然后按照以下方式创建[.filename]#/usr/local/jails/thinjail-nullfs-base.fstab#文件："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:645
#, no-wrap
msgid ""
"/usr/local/jails/templates/13.2-RELEASE-base  /usr/local/jails/thinjail-nullfs-base/ nullfs   ro          0 0\n"
"/usr/local/jails/containers/thinjail     /usr/local/jails/thinjail-nullfs-base/skeleton nullfs  rw  0 0\n"
msgstr ""

#. type: Title ===
#: documentation/content/en/books/handbook/jails/_index.adoc:655
#, fuzzy, no-wrap
msgid "Creating a VNET Jail"
msgstr "创建一个VNET监狱"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:658
#, fuzzy
msgid ""
"FreeBSD VNET Jails have their own distinct networking stack, including "
"interfaces, IP addresses, routing tables, and firewall rules."
msgstr "FreeBSD VNET Jails拥有独立的网络堆栈，包括接口、IP地址、路由表和防火墙规则。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:660
#, fuzzy
msgid ""
"The first step to create a VNET jail is to create the man:bridge[4] by "
"executing the following command:"
msgstr "创建VNET jail的第一步是通过执行以下命令创建man:bridge[4]。"

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:664
#, no-wrap
msgid "# ifconfig bridge create\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:667
#: documentation/content/en/books/handbook/jails/_index.adoc:883
#: documentation/content/en/books/handbook/jails/_index.adoc:899
#, fuzzy
msgid "The output should be similar to the following:"
msgstr "输出应该类似于以下内容："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:671
#, no-wrap
msgid "bridge0\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:674
#, fuzzy
msgid ""
"With the `bridge` created, it will be necessary to attach it to the `em0` "
"interface by executing the following command:"
msgstr "创建了`bridge`之后，需要通过执行以下命令将其附加到`em0`接口："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:678
#, no-wrap
msgid "# ifconfig bridge0 addm em0\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:681
#, fuzzy
msgid ""
"To make this setting persist across reboots, add the following lines to "
"[.filename]#/etc/rc.conf#:"
msgstr "要使此设置在重新启动后保持不变，请将以下行添加到 [.filename]#/etc/rc.conf# 文件中："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:687
#, no-wrap
msgid ""
"defaultrouter=\"192.168.1.1\"\n"
"cloned_interfaces=\"bridge0\"\n"
"ifconfig_bridge0=\"inet 192.168.1.150/24 addm em0 up\"\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:690
#, fuzzy
msgid "The next step is to create the jail as indicated above."
msgstr "下一步是按照上述所示创建监狱。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:693
#, fuzzy
msgid ""
"Either the <<classic-jail>> procedure and the <<thin-jail>> procedure can be"
" used.  The only thing that will change is the configuration in the "
"[.filename]#/etc/jail.conf# file."
msgstr ""
"可以使用<<classic-jail>>过程和<<thin-"
"jail>>过程。唯一需要更改的是[.filename]#/etc/jail.conf#文件中的配置。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:695
#, fuzzy
msgid ""
"The path [.filename]#/usr/local/jails/containers/vnet# will be used as an "
"example for the created jail."
msgstr "路径[.filename]#/usr/local/jails/containers/vnet#将被用作创建的jail的示例。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:697
#, fuzzy
msgid "The following is an example configuration for a VNET jail:"
msgstr "以下是一个VNET监狱的配置示例："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:705
#, no-wrap
msgid ""
"vnet {\n"
"  # STARTUP/LOGGING\n"
"  exec.start = \"/bin/sh /etc/rc\";\n"
"  exec.stop  = \"/bin/sh /etc/rc.shutdown\";\n"
"  exec.consolelog = \"/var/log/jail_console_${name}.log\";\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:711
#, no-wrap
msgid ""
"  # PERMISSIONS\n"
"  allow.raw_sockets;\n"
"  exec.clean;\n"
"  mount.devfs;\n"
"  devfs_ruleset = 5;\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:715
#, no-wrap
msgid ""
"  # PATH/HOSTNAME\n"
"  path = \"/usr/local/jails/containers/${name}\";\n"
"  host.hostname = \"${name}\";\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:719
#, no-wrap
msgid ""
"  # VNET/VIMAGE\n"
"  vnet;\n"
"  vnet.interface = \"${epair}b\";\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:726
#, no-wrap
msgid ""
"  # NETWORKS/INTERFACES\n"
"  $id = \"154\"; <.>\n"
"  $ip = \"192.168.1.${id}/24\";\n"
"  $gateway = \"192.168.1.1\";\n"
"  $bridge = \"bridge0\"; <.>\n"
"  $epair = \"epair${id}\";\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:736
#, no-wrap
msgid ""
"  # ADD TO bridge INTERFACE\n"
"  exec.prestart += \"ifconfig ${epair} create up\";\n"
"  exec.prestart += \"ifconfig ${epair}a up descr jail:${name}\";\n"
"  exec.prestart += \"ifconfig ${bridge} addm ${epair}a up\";\n"
"  exec.start    += \"ifconfig ${epair}b ${ip} up\";\n"
"  exec.start    += \"route add default ${gateway}\";\n"
"  exec.poststop = \"ifconfig ${bridge} deletem ${epair}a\";\n"
"  exec.poststop += \"ifconfig ${epair}a destroy\";\n"
"}\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:740
#, fuzzy
msgid ""
"<.> Represents the IP of the Jail, it must be *unique*.  <.> Refers to the "
"bridge created previously."
msgstr "<.> 表示Jail的IP地址，它必须是*唯一的*。 <.> 指的是之前创建的桥接。"

#. type: Title ===
#: documentation/content/en/books/handbook/jails/_index.adoc:742
#, fuzzy, no-wrap
msgid "Creating a Linux Jail"
msgstr "创建一个Linux监狱"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:748
#, fuzzy
msgid ""
"FreeBSD can run Linux inside a jail using crossref:linuxemu[linuxemu,Linux "
"Binary Compatibility] and man:debootstrap[8].  Jails do not have a kernel.  "
"They run on the host's kernel.  Therefore it is necessary to enable Linux "
"Binary Compatibility in the host system."
msgstr ""
"FreeBSD可以使用crossref:linuxemu[linuxemu，Linux二进制兼容性]和man:debootstrap[8]在监狱中运行Linux。监狱没有内核，它们在主机的内核上运行。因此，在主机系统中启用Linux二进制兼容性是必要的。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:750
#, fuzzy
msgid "To enable the Linux ABI at boot time, execute the following command:"
msgstr "要在启动时启用Linux ABI，请执行以下命令："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:754
#, no-wrap
msgid "# sysrc linux_enable=\"YES\"\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:757
#, fuzzy
msgid ""
"Once enabled, it can be started without rebooting by executing the following"
" command:"
msgstr "一旦启用，可以通过执行以下命令来启动，无需重新启动："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:761
#, no-wrap
msgid "# service linux start\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:765
#, fuzzy
msgid ""
"The next step will be to create a jail as indicated above, for example in "
"<<creating-thin-jail-openzfs-snapshots>>, but *without* performing the "
"configuration.  FreeBSD Linux jails require a specific configuration that "
"will be detailed below."
msgstr ""
"下一步将是按照上述所示创建一个监狱，例如在<<creating-thin-jail-openzfs-"
"snapshots>>中，但*不要*执行配置。FreeBSD Linux监狱需要特定的配置，将在下面详细说明。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:767
#, fuzzy
msgid ""
"Once the jail has been created as explained above, execute the following "
"command to perform required configuration for the jail and start it:"
msgstr "一旦按照上述说明创建了监狱，执行以下命令进行所需的监狱配置并启动它："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:788
#, no-wrap
msgid ""
"# jail -cm \\\n"
"    name=ubuntu \\\n"
"    host.hostname=\"ubuntu.example.com\" \\\n"
"    path=\"/usr/local/jails/ubuntu\" \\\n"
"    interface=\"em0\" \\\n"
"    ip4.addr=\"192.168.1.150\" \\\n"
"    exec.start=\"/bin/sh /etc/rc\" \\\n"
"    exec.stop=\"/bin/sh /etc/rc.shutdown\" \\\n"
"    mount.devfs \\\n"
"    devfs_ruleset=4 \\\n"
"    allow.mount \\\n"
"    allow.mount.devfs \\\n"
"    allow.mount.fdescfs \\\n"
"    allow.mount.procfs \\\n"
"    allow.mount.linprocfs \\\n"
"    allow.mount.linsysfs \\\n"
"    allow.mount.tmpfs \\\n"
"    enforce_statfs=1\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:791
#, fuzzy
msgid ""
"To access the jail, it will be necessary to install "
"package:sysutils/debootstrap[]."
msgstr "要访问jail，需要安装包：sysutils/debootstrap[]。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:793
#, fuzzy
msgid "Execute the following command to access the FreeBSD Linux jail:"
msgstr "执行以下命令以访问FreeBSD Linux监狱："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:797
#, no-wrap
msgid "# jexec -u root ubuntu\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:800
#, fuzzy
msgid ""
"Inside the jail, execute the following commands to install "
"package:sysutils/debootstrap[] and prepare the Ubuntu environment:"
msgstr "在监狱内执行以下命令来安装包：sysutils/debootstrap[] 并准备Ubuntu环境："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:805
#, no-wrap
msgid ""
"# pkg install debootstrap\n"
"# debootstrap jammy /compat/ubuntu\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:809
#, fuzzy
msgid ""
"When the process has finished and the message `Base system installed "
"successfully` is displayed on the console, it will be necessary to stop the "
"jail from the host system by executing the following command:"
msgstr "当进程完成并在控制台上显示“基本系统安装成功”消息时，需要通过执行以下命令在主机系统上停止jail："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:813
#, no-wrap
msgid "# service jail ubuntu onestop\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:816
#, fuzzy
msgid "Then add an entry in [.filename]#/etc/jail.conf# for the Linux jail:"
msgstr "然后在[/etc/jail.conf]文件中添加一个Linux监狱的条目："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:824
#, no-wrap
msgid ""
"ubuntu {\n"
"  # STARTUP/LOGGING\n"
"  exec.start = \"/bin/sh /etc/rc\";\n"
"  exec.stop = \"/bin/sh /etc/rc.shutdown\";\n"
"  exec.consolelog = \"/var/log/jail_console_${name}.log\";\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:830
#, no-wrap
msgid ""
"  # PERMISSIONS\n"
"  allow.raw_sockets;\n"
"  exec.clean;\n"
"  mount.devfs;\n"
"  devfs_ruleset=4;\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:838
#, no-wrap
msgid ""
"  # NETWORK\n"
"  ip4.addr = 192.168.1.155;\n"
"  interface = em0;\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:848
#, no-wrap
msgid ""
"  # MOUNT\n"
"  mount += \"devfs     $path/compat/ubuntu/dev     devfs     rw  0 0\";\n"
"  mount += \"tmpfs     $path/compat/ubuntu/dev/shm tmpfs     rw,size=1g,mode=1777  0 0\";\n"
"  mount += \"fdescfs   $path/compat/ubuntu/dev/fd  fdescfs   rw,linrdlnk 0 0\";\n"
"  mount += \"linprocfs $path/compat/ubuntu/proc    linprocfs rw  0 0\";\n"
"  mount += \"linsysfs  $path/compat/ubuntu/sys     linsysfs  rw  0 0\";\n"
"  mount += \"/tmp      $path/compat/ubuntu/tmp     nullfs    rw  0 0\";\n"
"  mount += \"/home     $path/compat/ubuntu/home    nullfs    rw  0 0\";\n"
"}\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:851
#, fuzzy
msgid "Then the jail can be started as usual with the following command:"
msgstr "然后可以使用以下命令正常启动监狱："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:855
#, no-wrap
msgid "# service jail start ubuntu\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:858
#, fuzzy
msgid "The Ubuntu environment can be accessed using the following command:"
msgstr "可以使用以下命令访问Ubuntu环境："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:862
#, no-wrap
msgid "# jexec ubuntu chroot /compat/ubuntu /bin/bash\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:865
#, fuzzy
msgid ""
"More information can be found in the chapter "
"crossref:linuxemu[linuxemu,Linux Binary Compatibility]."
msgstr "更多信息可以在章节crossref:linuxemu[linuxemu,Linux二进制兼容性]中找到。"

#. type: Title ==
#: documentation/content/en/books/handbook/jails/_index.adoc:867
#, fuzzy, no-wrap
msgid "Jail Management"
msgstr "监狱管理"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:871
#, fuzzy
msgid ""
"Once the jail is created, there are a number of operations that can be "
"performed, like starting, rebooting or deleting the jail, installing "
"software in it, etc.  In this section the different actions that can be done"
" with jails from the host will be described."
msgstr "一旦创建了监狱，就可以执行许多操作，比如启动、重启或删除监狱，安装软件等。本节将描述可以在主机上执行的不同监狱操作。"

#. type: Title ===
#: documentation/content/en/books/handbook/jails/_index.adoc:873
#, fuzzy, no-wrap
msgid "List Running Jails"
msgstr "列出运行中的Jails"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:876
#, fuzzy
msgid ""
"To list the jails that are running on the host system, the command "
"man:jls[8] can be used:"
msgstr "要列出运行在主机系统上的jails，可以使用命令man:jls[8]。"

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:880
#, no-wrap
msgid "# jls\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:887
#, no-wrap
msgid ""
"   JID  IP Address      Hostname                      Path\n"
"     1  192.168.250.70  classic                       /usr/local/jails/containers/classic\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:890
#, fuzzy
msgid ""
"man:jls[8] supports the `--libxo` argument, which through the man:libxo[3] "
"library allows other types of formats to be displayed, such as `JSON`, "
"`HTML`, etc."
msgstr ""
"man:jls[8] 支持 `--libxo` 参数，通过 man:libxo[3] 库可以显示其他类型的格式，例如 `JSON`、`HTML` 等。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:892
#, fuzzy
msgid "For example, execute the following command to get the `JSON` output:"
msgstr "例如，执行以下命令以获取`JSON`输出："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:896
#, no-wrap
msgid "# jls --libxo=json\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:902
#, no-wrap
msgid ""
"{\"__version\": \"2\", \"jail-information\": {\"jail\": "
"[{\"jid\":1,\"ipv4\":\"192.168.250.70\",\"hostname\":\"classic\",\"path\":\"/usr/local/jails/containers/classic\"}]}}\n"
msgstr ""

#. type: Title ===
#: documentation/content/en/books/handbook/jails/_index.adoc:905
#, fuzzy, no-wrap
msgid "Start, Restart, and Stop a Jail"
msgstr "启动、重新启动和停止一个Jail"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:908
#, fuzzy
msgid "man:service[8] is used to start, reboot, or stop a jail on the host."
msgstr "man:service[8]用于在主机上启动、重启或停止一个jail。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:910
#, fuzzy
msgid "For example, to start a jail, run the following command:"
msgstr "例如，要启动一个监狱，请运行以下命令："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:914
#, no-wrap
msgid "# service jail start jailname\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:917
#, fuzzy
msgid ""
"Change the `start` argument to `restart` or `stop` to perform other actions "
"on the jail."
msgstr "将`start`参数更改为`restart`或`stop`以执行其他对监狱的操作。"

#. type: Title ===
#: documentation/content/en/books/handbook/jails/_index.adoc:919
#, fuzzy, no-wrap
msgid "Destroy a Jail"
msgstr "摧毁一个监狱"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:922
#, fuzzy
msgid ""
"Destroying a jail is not as simple as stopping the jail using man:service[8]"
" and removing the jail directory and [.filename]#/etc/jail.conf# entry."
msgstr ""
"销毁一个监狱并不像使用man:service[8]停止监狱和删除监狱目录以及[.filename]#/etc/jail.conf#条目那样简单。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:926
#, fuzzy
msgid ""
"FreeBSD takes system security very seriously.  For this reason there are "
"certain files that not even the root user can delete.  This functionality is"
" known as File Flags."
msgstr "FreeBSD非常重视系统安全。因此，有一些文件即使是root用户也无法删除。这种功能被称为文件标志。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:928
#, fuzzy
msgid ""
"The first step is to stop the desired jail executing the following command:"
msgstr "第一步是停止所需的监狱执行以下命令："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:932
#, no-wrap
msgid "# service jail stop jailname\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:935
#, fuzzy
msgid ""
"The second step is to remove these flags with man:chflags[1] by executing "
"the following command, in which `classic` is the name of the jail to remove:"
msgstr "第二步是使用man:chflags[1]命令来移除这些标志，执行以下命令，其中`classic`是要移除的监狱的名称："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:939
#, no-wrap
msgid "# chflags -R 0 /usr/local/jails/classic\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:942
#, fuzzy
msgid "The third step is to delete the directory where the jail was:"
msgstr "第三步是删除监狱所在的目录："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:946
#, no-wrap
msgid "# rm -rf /usr/local/jails/classic\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:949
#, fuzzy
msgid ""
"Finally, it will be necessary to remove the jail entry in "
"[.filename]#/etc/jail.conf# or in [.filename]#jail.conf.d#."
msgstr "最后，需要在[.filename]#/etc/jail.conf#或[.filename]#jail.conf.d#中删除监狱条目。"

#. type: Title ===
#: documentation/content/en/books/handbook/jails/_index.adoc:951
#, fuzzy, no-wrap
msgid "Handle Packages in a Jail"
msgstr "在监狱中处理软件包"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:954
#, fuzzy
msgid ""
"The man:pkg[8] tool supports the `-j` argument in order to handle packages "
"installed inside the jail."
msgstr "man:pkg[8]工具支持`-j`参数，以处理安装在监狱内的软件包。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:956
#, fuzzy
msgid ""
"For example, to install package:nginx-lite[] in the jail, the next command "
"can be executed *from the host*:"
msgstr "例如，在jail中安装package:nginx-lite[]，可以从主机上执行以下命令："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:960
#, no-wrap
msgid "# pkg -j classic install nginx-lite\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:963
#, fuzzy
msgid ""
"For more information on working with packages in FreeBSD, see "
"crossref:ports[ports,\"Installing Applications: Packages and Ports\"]."
msgstr "有关在FreeBSD中使用软件包的更多信息，请参阅crossref:ports[ports,\"安装应用程序：软件包和端口\"]。"

#. type: Title ===
#: documentation/content/en/books/handbook/jails/_index.adoc:965
#, fuzzy, no-wrap
msgid "Access a Jail"
msgstr "访问一个监狱"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:968
#, fuzzy
msgid ""
"While it has been stated above that it is best to manage jails from the host"
" system, a jail can be entered with man:jexec[8]."
msgstr "虽然上面已经提到最好从主机系统管理监狱，但可以使用man:jexec[8]进入监狱。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:970
#, fuzzy
msgid "The jail can be entered by running man:jexec[8] from the host:"
msgstr "可以通过在主机上运行man:jexec[8]来进入监狱。"

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:974
#, no-wrap
msgid "# jexec -u root jailname\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:977
#, fuzzy
msgid ""
"When gaining access to the jail, the message configured in man:motd[5] will "
"be displayed."
msgstr "当访问监狱时，将显示在man:motd[5]中配置的消息。"

#. type: Title ===
#: documentation/content/en/books/handbook/jails/_index.adoc:979
#, fuzzy, no-wrap
msgid "Execute Commands in a Jail"
msgstr "在监狱中执行命令"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:982
#, fuzzy
msgid ""
"To execute a command from the host system in a jail the man:jexec[8] can be "
"used."
msgstr "要在一个jail中从主机系统执行命令，可以使用man:jexec[8]命令。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:984
#, fuzzy
msgid ""
"For example, to stop a service that is running inside a jail, the command "
"will be executed:"
msgstr "例如，要停止在jail中运行的服务，将执行以下命令："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:988
#, no-wrap
msgid "# jexec -l jailname service stop nginx\n"
msgstr ""

#. type: Title ==
#: documentation/content/en/books/handbook/jails/_index.adoc:991
#, fuzzy, no-wrap
msgid "Jail Upgrading"
msgstr "监狱升级"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:994
#, fuzzy
msgid ""
"Upgrading FreeBSD Jails ensures that the isolated environments remain "
"secure, up-to-date, and in line with the latest features and improvements "
"available in the FreeBSD ecosystem."
msgstr "升级FreeBSD Jails可以确保隔离环境保持安全、最新，并与FreeBSD生态系统中的最新功能和改进保持一致。"

#. type: Title ===
#: documentation/content/en/books/handbook/jails/_index.adoc:996
#, fuzzy, no-wrap
msgid "Upgrading a Classic Jail or a Thin Jail using OpenZFS Snapshots"
msgstr "使用OpenZFS快照升级经典监狱或薄监狱"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:1001
#, fuzzy
msgid ""
"Jails *must be updated from the host* operating system.  The default "
"behavior in FreeBSD is to disallow the use of man:chflags[1] in a jail.  "
"This will prevent the update of some files so updating from withing the jail"
" will fail."
msgstr ""
"Jails必须从主机操作系统进行更新。在FreeBSD中，默认行为是禁止在jail中使用man:chflags[1]命令。这将阻止对某些文件的更新，因此在jail内部进行更新将失败。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:1003
#, fuzzy
msgid ""
"To update the jail to the latest patch release of the version of FreeBSD it "
"is running, execute the following commands on the host:"
msgstr "要将jail更新到运行的FreeBSD版本的最新补丁版本，请在主机上执行以下命令："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:1008
#, no-wrap
msgid ""
"# freebsd-update -j classic fetch install\n"
"# service jail restart classic\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:1012
#, fuzzy
msgid ""
"To upgrade the jail to a new major or minor version, first upgrade the host "
"system as described in crossref:cutting-edge[freebsdupdate-"
"upgrade,\"Performing Major and Minor Version Upgrades\"].  Once the host has"
" been upgraded and rebooted, the jail can then be upgraded."
msgstr ""
"要将监狱升级到新的主要或次要版本，首先按照crossref:cutting-edge[freebsdupdate-"
"upgrade,\"执行主要和次要版本升级\"]中描述的方法升级主机系统。一旦主机升级并重新启动，就可以升级监狱。"

#. type: delimited block = 4
#: documentation/content/en/books/handbook/jails/_index.adoc:1016
#, fuzzy
msgid ""
"In case of upgrade from one version to another, it is easier to create a new"
" jail than to upgrade completely."
msgstr "如果从一个版本升级到另一个版本，创建一个新的监狱比完全升级更容易。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:1019
#, fuzzy
msgid ""
"For example to upgrade from 13.1-RELEASE to 13.2-RELEASE, execute the "
"following commands on the host:"
msgstr "例如，要从13.1-RELEASE升级到13.2-RELEASE，请在主机上执行以下命令："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:1027
#, no-wrap
msgid ""
"# freebsd-update -j classic -r 13.2-RELEASE upgrade\n"
"# freebsd-update -j classic install\n"
"# service jail restart classic\n"
"# freebsd-update -j classic install\n"
"# service jail restart classic\n"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/handbook/jails/_index.adoc:1033
#, fuzzy
msgid ""
"It is necessary to execute the `install` step two times.  The first one "
"upgrades the kernel, and the second one upgrades the rest of the components."
msgstr "需要执行两次`install`步骤。第一次升级内核，第二次升级其他组件。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:1037
#, fuzzy
msgid ""
"Then, if it was a major version upgrade, reinstall all installed packages "
"and restart the jail again.  This is required because the ABI version "
"changes when upgrading between major versions of FreeBSD."
msgstr ""
"然后，如果是一个主要版本的升级，重新安装所有已安装的软件包并重新启动jail。这是必需的，因为在FreeBSD的主要版本之间升级时，ABI版本会发生变化。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:1039
#, fuzzy
msgid "From the host:"
msgstr "来自主机："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:1044
#, no-wrap
msgid ""
"# pkg -j jailname upgrade -f\n"
"# service jail restart jailname\n"
msgstr ""

#. type: Title ===
#: documentation/content/en/books/handbook/jails/_index.adoc:1047
#, fuzzy, no-wrap
msgid "Upgrading a Thin Jail Using NullFS"
msgstr ""
"使用NullFS升级Thin Jail\n"
"\n"
"在升级Thin Jail时使用NullFS"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:1052
#, fuzzy
msgid ""
"Since Thin Jails that use NullFS share the majority of system directories, "
"they are very easy to update.  It is enough to update the template.  This "
"allows updating multiple jails at the same time."
msgstr "由于使用NullFS的Thin Jails共享了大部分系统目录，因此它们非常容易更新。只需更新模板即可，这样可以同时更新多个Jail。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:1054
#, fuzzy
msgid ""
"To update the template to the latest patch release of the version of FreeBSD"
" it is running, execute the following commands on the host:"
msgstr "要将模板更新到运行的FreeBSD版本的最新补丁版本，请在主机上执行以下命令："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:1059
#, no-wrap
msgid ""
"# freebsd-update -b /usr/local/jails/templates/13.1-RELEASE-base/ fetch install\n"
"# service jail restart\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:1063
#, fuzzy
msgid ""
"To upgrade the template to a new major or minor version, first upgrade the "
"host system as described in crossref:cutting-edge[freebsdupdate-"
"upgrade,\"Performing Major and Minor Version Upgrades\"].  Once the host has"
" been upgraded and rebooted, the template can then be upgraded."
msgstr ""
"要将模板升级到新的主要或次要版本，首先按照crossref:cutting-edge[freebsdupdate-"
"upgrade,\"执行主要和次要版本升级\"]中描述的方式升级主机系统。一旦主机升级并重新启动，然后可以升级模板。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:1065
#, fuzzy
msgid ""
"For example, to upgrade from 13.1-RELEASE to 13.2-RELEASE, execute the "
"following commands on the host:"
msgstr "例如，要从13.1-RELEASE升级到13.2-RELEASE，请在主机上执行以下命令："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:1073
#, no-wrap
msgid ""
"# freebsd-update -b /usr/local/jails/templates/13.1-RELEASE-base/ -r 13.2-RELEASE upgrade\n"
"# freebsd-update -b /usr/local/jails/templates/13.1-RELEASE-base/ install\n"
"# service jail restart\n"
"# freebsd-update -b /usr/local/jails/templates/13.1-RELEASE-base/ install\n"
"# service jail restart\n"
msgstr ""

#. type: Title ==
#: documentation/content/en/books/handbook/jails/_index.adoc:1076
#, fuzzy, no-wrap
msgid "Jail Resource Limits"
msgstr "监狱资源限制"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:1079
#, fuzzy
msgid ""
"Controlling the resources that a jail uses from the host system is a task to"
" be taken into account by the system administrator."
msgstr "系统管理员需要考虑从主机系统控制监狱使用的资源的任务。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:1081
#, fuzzy
msgid ""
"man:rctl[8] allows you to manage the resources that a jail can use from the "
"host system."
msgstr "man:rctl[8]允许您从主机系统管理监狱可以使用的资源。"

#. type: delimited block = 4
#: documentation/content/en/books/handbook/jails/_index.adoc:1085
#, fuzzy
msgid ""
"The `kern.racct.enable` tunable must be enabled at "
"[.filename]#/boot/loader.conf#."
msgstr "必须在`/boot/loader.conf`文件中启用`tunables`的`kern.racct.enable`选项。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:1088
#, fuzzy
msgid "The syntax to limit the resources of a jail is as follows:"
msgstr "限制监狱资源的语法如下："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:1092
#, no-wrap
msgid "rctl -a jail:<jailname>:resource:action=amount/percentage\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:1095
#, fuzzy
msgid ""
"For example, to limit the maximum RAM that a jail can access, run the "
"following command:"
msgstr "例如，要限制一个jail可以访问的最大RAM，运行以下命令："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:1099
#, no-wrap
msgid "# rctl -a jail:classic:memoryuse:deny=2G\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:1102
#, fuzzy
msgid ""
"To make the limitation persistent across reboots of the host system, it will"
" be necessary to add the rule to the [.filename]#/etc/rctl.conf# file as "
"follows:"
msgstr "为了使限制在主机系统重新启动后仍然有效，需要将规则添加到 [.filename]#/etc/rctl.conf# 文件中，如下所示："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/jails/_index.adoc:1106
#, no-wrap
msgid "jail:classic:memoryuse:deny=2G/jail\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:1109
#, fuzzy
msgid ""
"More information on resource limits can be found in the security chapter in "
"the crossref:security[security-resourcelimits,\"Resource Limits section\"]."
msgstr ""
"有关资源限制的更多信息可以在安全章节中找到，具体请参考crossref:security[security-"
"resourcelimits,\"Resource Limits section\"]。"

#. type: Title ==
#: documentation/content/en/books/handbook/jails/_index.adoc:1111
#, fuzzy, no-wrap
msgid "Jail Managers and Containers"
msgstr "监狱管理员和容器"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:1114
#, fuzzy
msgid ""
"As previously explained, each type of FreeBSD Jail can be created and "
"configured manually, but FreeBSD also has third-party utilities to make "
"configuration and administration easier."
msgstr "如前所述，每种类型的FreeBSD Jail都可以手动创建和配置，但FreeBSD还有第三方工具可以使配置和管理更加简便。"

#. type: Plain text
#: documentation/content/en/books/handbook/jails/_index.adoc:1116
#, fuzzy
msgid "Below is an incomplete list of the different FreeBSD Jail managers:"
msgstr "下面是一个不完整的不同FreeBSD Jail管理器的列表："

#. type: Block title
#: documentation/content/en/books/handbook/jails/_index.adoc:1117
#, fuzzy, no-wrap
msgid "Jail Managers"
msgstr "监狱管理者"

#. type: Table
#: documentation/content/en/books/handbook/jails/_index.adoc:1120
#, fuzzy, no-wrap
msgid "Name"
msgstr "名称"

#. type: Table
#: documentation/content/en/books/handbook/jails/_index.adoc:1120
#, fuzzy, no-wrap
msgid "License"
msgstr "许可证"

#. type: Table
#: documentation/content/en/books/handbook/jails/_index.adoc:1120
#, fuzzy, no-wrap
msgid "Package"
msgstr "包"

#. type: Table
#: documentation/content/en/books/handbook/jails/_index.adoc:1122
#, fuzzy, no-wrap
msgid "Documentation"
msgstr "文档"

#. type: Table
#: documentation/content/en/books/handbook/jails/_index.adoc:1123
#, fuzzy, no-wrap
msgid "BastilleBSD"
msgstr ""
"BastilleBSD是一个开源项目，旨在提供一个安全且易于使用的操作系统容器管理工具。它基于FreeBSD操作系统，并使用ZFS文件系统和Jails技术来实现容器化。BastilleBSD允许用户快速创建、启动、停止和销毁容器，并提供了一套简单的命令行工具来管理容器的配置和网络设置。该项目的目标是提供一个轻量级的容器解决方案，以便用户可以更好地隔离和保护他们的应用程序和数据。"

#. type: Table
#: documentation/content/en/books/handbook/jails/_index.adoc:1124
#: documentation/content/en/books/handbook/jails/_index.adoc:1129
#: documentation/content/en/books/handbook/jails/_index.adoc:1139
#, fuzzy, no-wrap
msgid "BSD-3"
msgstr "BSD-3是指BSD三条款许可证。"

#. type: Table
#: documentation/content/en/books/handbook/jails/_index.adoc:1125
#, fuzzy, no-wrap
msgid "package:sysutils/bastille[]"
msgstr "包：sysutils/bastille[]"

#. type: Table
#: documentation/content/en/books/handbook/jails/_index.adoc:1127
#, fuzzy, no-wrap
msgid "link:https://bastille.readthedocs.io/en/latest/[Documentation]"
msgstr "链接：https://bastille.readthedocs.io/en/latest/[文档]"

#. type: Table
#: documentation/content/en/books/handbook/jails/_index.adoc:1128
#, fuzzy, no-wrap
msgid "pot"
msgstr "锅"

#. type: Table
#: documentation/content/en/books/handbook/jails/_index.adoc:1130
#, fuzzy, no-wrap
msgid "package:sysutils/pot[]"
msgstr "包：sysutils/pot[]"

#. type: Table
#: documentation/content/en/books/handbook/jails/_index.adoc:1132
#, fuzzy, no-wrap
msgid "link:https://pot.pizzamig.dev/[Documentation]"
msgstr "链接：https://pot.pizzamig.dev/[文档]"

#. type: Table
#: documentation/content/en/books/handbook/jails/_index.adoc:1133
#, fuzzy, no-wrap
msgid "cbsd"
msgstr ""
"CBSD是一个开源的操作系统级虚拟化和容器化解决方案。它允许用户在单个物理主机上运行多个独立的操作系统实例，并提供了强大的管理和监控功能。CBSD支持多种操作系统，包括FreeBSD、Linux和Windows。它还提供了一套丰富的命令行工具和API，使用户可以方便地管理和配置虚拟机和容器。CBSD是一个灵活、高效和可扩展的解决方案，适用于各种场景，包括开发、测试和生产环境。"

#. type: Table
#: documentation/content/en/books/handbook/jails/_index.adoc:1134
#: documentation/content/en/books/handbook/jails/_index.adoc:1144
#, fuzzy, no-wrap
msgid "BSD-2"
msgstr "BSD-2是指BSD许可证的第二个版本。"

#. type: Table
#: documentation/content/en/books/handbook/jails/_index.adoc:1135
#, fuzzy, no-wrap
msgid "package:sysutils/cbsd[]"
msgstr "包：sysutils/cbsd[]"

#. type: Table
#: documentation/content/en/books/handbook/jails/_index.adoc:1137
#, fuzzy, no-wrap
msgid "link:https://www.bsdstore.ru/en/docs.html[Documentation]"
msgstr "链接：https://www.bsdstore.ru/en/docs.html[文档]"

#. type: Table
#: documentation/content/en/books/handbook/jails/_index.adoc:1138
#, fuzzy, no-wrap
msgid "AppJail"
msgstr ""
"AppJail是一种应用程序隔离技术。它可以将应用程序限制在一个受控的环境中，以防止其对系统造成潜在的危害。通过使用AppJail，可以确保应用程序只能访问其所需的资源，并且无法对其他应用程序或系统进行干扰。这种技术在保护系统安全和隐私方面非常有用，特别是在处理敏感数据或运行不受信任的应用程序时。"

#. type: Table
#: documentation/content/en/books/handbook/jails/_index.adoc:1140
#, fuzzy, no-wrap
msgid "package:sysutils/appjail[], for devel package:sysutils/appjail-devel[]"
msgstr "包：sysutils/appjail[]，用于开发包：sysutils/appjail-devel[]。"

#. type: Table
#: documentation/content/en/books/handbook/jails/_index.adoc:1142
#, fuzzy, no-wrap
msgid "link:https://github.com/DtxdF/AppJail#getting-started[Documentation]"
msgstr "链接：https://github.com/DtxdF/AppJail#getting-started[文档]"

#. type: Table
#: documentation/content/en/books/handbook/jails/_index.adoc:1143
#, fuzzy, no-wrap
msgid "iocage"
msgstr ""
"iocage是一个用于管理和运行FreeBSD操作系统的容器化解决方案。它提供了一个简单而强大的命令行界面，使用户能够轻松地创建、启动、停止和删除容器。iocage还支持网络配置、存储管理和资源限制等功能，使用户能够灵活地管理和控制容器的行为。无论是在开发、测试还是生产环境中，iocage都是一个非常有用的工具，可以帮助用户更好地组织和管理他们的应用程序和服务。"

#. type: Table
#: documentation/content/en/books/handbook/jails/_index.adoc:1145
#, fuzzy, no-wrap
msgid "package:sysutils/iocage[]"
msgstr "包：sysutils/iocage[]"

#. type: Table
#: documentation/content/en/books/handbook/jails/_index.adoc:1147
#, fuzzy, no-wrap
msgid "link:https://iocage.readthedocs.io/en/latest/[Documentation]"
msgstr "链接：https://iocage.readthedocs.io/en/latest/[文档]"

#. type: Table
#: documentation/content/en/books/handbook/jails/_index.adoc:1148
#, fuzzy, no-wrap
msgid "ezjail"
msgstr ""
"ezjail是一个用于在FreeBSD操作系统上管理和创建基于Jails的工具。Jail是一种轻量级的虚拟化技术，允许在单个主机上创建多个隔离的环境，每个环境都有自己的文件系统、进程和网络栈。ezjail简化了Jail的创建和管理过程，提供了一组命令和脚本，使用户可以轻松地创建、启动、停止和删除Jails。ezjail还提供了一些额外的功能，如自动化安装和配置Jails，以及与主机系统的集成。它是一个方便而强大的工具，适用于需要在FreeBSD上部署和管理多个隔离环境的用户。"

#. type: Table
#: documentation/content/en/books/handbook/jails/_index.adoc:1149
#, fuzzy, no-wrap
msgid "link:https://erdgeist.org/beerware.html[Beer Ware]"
msgstr "链接：https://erdgeist.org/beerware.html[Beer Ware]"

#. type: Table
#: documentation/content/en/books/handbook/jails/_index.adoc:1150
#, fuzzy, no-wrap
msgid "package:sysutils/ezjail[]"
msgstr "包：sysutils/ezjail[]"

#. type: Table
#: documentation/content/en/books/handbook/jails/_index.adoc:1152
#, fuzzy, no-wrap
msgid "link:https://erdgeist.org/arts/software/ezjail/[Documentation]"
msgstr "链接：https://erdgeist.org/arts/software/ezjail/ [文档]"
