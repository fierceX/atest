<!DOCTYPE html>
<html class="theme-light" lang="zh-cn">
  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="已经有数百种关于如何保护系统和网络的标准实践被撰写出来，作为 FreeBSD 的用户，了解如何防御攻击和入侵者是必须的。"/>
  <meta name="keywords" content="security, TCP Wrappers, Kerberos, OpenSSL, OpenSSH, ACL, NFSv4 ACLs, advisories, sudo, doas, capsicum, monitoring"/>
  <meta name="copyright" content="1995-2024 The FreeBSD Foundation" />
  <link rel="canonical" href="https://free.bsd-doc.org/zh-cn/books/handbook/security/" />

  <title>第 16 章 安全 |  FreeBSD 中文文档</title>

  <meta name="theme-color" content="#790000">
  <meta name="color-scheme" content="system light dark high-contrast">

  <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.0/fuse.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js"></script>


    <link rel="shortcut icon" href="https://free.bsd-doc.org/favicon.ico">
    <link rel="stylesheet" href="/styles/main.min.css">
    <link rel="stylesheet" href="https://free.bsd-doc.org/css/font-awesome-min.css">
    <script defer src="/js/theme-chooser.min.js"></script>
    <script defer src="/js/copy-clipboard.min.js"></script>
    <script defer src="/js/search.min.js"></script>
    <script defer src="/js/fssearch.min.js"></script>

  
  
    
    <meta property="og:title" content="第 16 章 安全" />
    <meta property="og:description" content="已经有数百种关于如何保护系统和网络的标准实践被撰写出来，作为 FreeBSD 的用户，了解如何防御攻击和入侵者是必须的。" />
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://free.bsd-doc.orgfavicon.ico"/>
    <meta property="og:image:alt" content="FreeBSD Logo">
    <meta property="og:locale" content="zh-cn" />
    <meta property="og:url" content="https://free.bsd-doc.org/zh-cn/books/handbook/security/" />
    <meta property="og:site_name" content="FreeBSD 中文文档" />
    <script type="application/ld+json">
      {
        "@context": "http://schema.org",
        "@type": "Article",
        "url": "https:\/\/free.bsd-doc.org\/zh-cn\/books\/handbook\/security\/",
        "name": "FreeBSD 中文文档",
        "headline": "FreeBSD 中文文档",
        "description": "FreeBSD 中文文档"
      }
    </script>
    

  
</head>


  <body>
    <header>
  <div class="header-container">
    <div class="logo-menu-bars-container">
      <a href="https://free.bsd-doc.org" class="logo">
        <img src="https://free.bsd-doc.org/images/FreeBSD-monochromatic.svg" width="160" height="50" alt="FreeBSD logo" />
      </a>
      <label class="menu-bars" for="menu-bars">
        <i class="fa fa-bars" aria-hidden="true"></i>
      </label>
    </div>
    <input id="menu-bars" type="checkbox" />
    <nav>
      <ul class="menu">
        <li class="menu-item">
          <input id="about" type="checkbox" />
          <a href="#" aria-label="Navigate to About section">
            <label class="menu-item-description" for="about">
              关于
              <i class="fa fa-angle-down fa-lg" aria-hidden="true"></i>
            </label>
          </a>
          <ul class="sub-menu">
            <li class="title"><a href=https://free.bsd-doc.org/zh-cn/articles/translators target="_blank">翻译说明</a></li>
            
            
            
            
          </ul>
        </li>
        <li class="menu-item">
          <input id="download" type="checkbox" />
          <a href="#" aria-label="Navigate to get FreeBSD section">
            <label class="menu-item-description" for="download">
              获取 FreeBSD
              <i class="fa fa-angle-down fa-lg" aria-hidden="true"></i>
            </label>
          </a>
          <ul class="sub-menu">
            <li class="title"><a href="https://www.freebsd.org/where/" target="_blank">获取 FreeBSD</a></li>
            <li><a href="https://www.freebsd.org/releases/" target="_blank">发布信息</a></li>
            <li><a href="https://www.freebsd.org/releng/" target="_blank">发布工程</a></li>
            <li><a href="https://www.freebsd.org/security/" target="_blank">安全公告</a></li>
          </ul>
        </li>
        
      </ul>
    </nav>
    <div class="search-donate-container">
      
      <form class="search" method="get" id="search-header-form" action="https://free.bsd-doc.org/zh-cn/search" name="search-header-form">
        <input id="search-query" name="s" type="text" size="20" maxlength="255" value="" />
        <button>
          <i class="fa fa-search" aria-hidden="true"></i>
        </button>
      </form>
      <div class="donate">
        <a href="https://github.com/fierceX/freebsd-doc-cn" target="_blank">
          <span class="heart">♥</span>
          GitHub
        </a>
      </div>
    </div>
  </div>
</header>

    
<input type="checkbox" class="hidden toggle" id="menu-control">
<main class="main-wrapper-book">
  <a id="top"></a>
  
  <aside class="book-menu">
    <div class="book-menu-content">
      <input id="search-book" type="text" placeholder="搜索" aria-label="搜索" maxlength="128" />
      <nav id="MenuContents">
        
  <ul>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-8ada319c45e780947f82b569049480cc" class="toggle"  />
          <label  class="icon cursor"  for="chapter-8ada319c45e780947f82b569049480cc"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn/books/handbook/preface/">
              前言
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/preface/#preface-audience">预期读者</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/preface/#preface-changes-from4">第四版</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/preface/#preface-changes-from3">第三版</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/preface/#preface-changes-from2">第二版（2004 年）</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/preface/#preface-changes">第一版（2001 年）</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/preface/#preface-overview">本书的组织结构</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/preface/#preface-conv">本书中使用的约定</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/preface/#preface-conv-typographic">排版约定</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/preface/#preface-conv-commands">用户输入</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/preface/#preface-conv-examples">示例</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/preface/#preface-acknowledgements">致谢</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-32a83d18a326852a8d9ae2582360bbc8" class="toggle"  />
          <label  for="chapter-32a83d18a326852a8d9ae2582360bbc8"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn/books/handbook/parti/">
              第一部分：入门指南
            </a>
            
            
          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-a4909db05d872d16d5be86a57cbc2dc7" class="toggle"  />
          <label  class="icon cursor"  for="chapter-a4909db05d872d16d5be86a57cbc2dc7"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn/books/handbook/introduction/">
              第 1 章 引言
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/introduction/#introduction-synopsis">1.1. 简介</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/introduction/#nutshell">1.2. 欢迎来到 FreeBSD ！</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/introduction/#os-overview">1.2.1. FreeBSD 可以做什么？</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/introduction/#introduction-nutshell-users">1.2.2. 谁使用 FreeBSD ？</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/introduction/#history">1.3. 关于 FreeBSD 项目</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/introduction/#intro-history">1.3.1. FreeBSD 的简要历史</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/introduction/#goals">1.3.2. FreeBSD 项目的目标</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/introduction/#development">1.3.3. FreeBSD 开发模型</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/introduction/#third-party-programs">1.3.4. 第三方程序</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/introduction/#_附加文档">1.3.5. 附加文档</a></li>
      </ul>
    </li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-3c2455cadf89eadd3f6e77461085d5e9" class="toggle"  />
          <label  class="icon cursor"  for="chapter-3c2455cadf89eadd3f6e77461085d5e9"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn/books/handbook/bsdinstall/">
              第 2 章 安装 FreeBSD
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/bsdinstall/#bsdinstall-synopsis">2.1. 简介</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/bsdinstall/#bsdinstall-hardware">2.2. 最低硬件要求</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/bsdinstall/#bsdinstall-pre">2.3. 安装前的任务</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/bsdinstall/#bsdinstall-installation-media">2.3.1. 准备安装介质</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/bsdinstall/#bsdinstall-start">2.4. 开始安装</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/bsdinstall/#bsdinstall-view-probe">2.4.1. FreeBSD 启动菜单</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/bsdinstall/#using-bsdinstall">2.5. 使用 bsdinstall</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/bsdinstall/#bsdinstall-keymap">2.5.1. 选择键映射菜单</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/bsdinstall/#bsdinstall-hostname">2.5.2. 设置主机名</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/bsdinstall/#bsdinstall-components">2.5.3. 选择要安装的组件</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/bsdinstall/#bsdinstall-netinstall">2.5.4. 从网络安装</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/bsdinstall/#bsdinstall-partitioning">2.6. 分配磁盘空间</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/bsdinstall/#configtuning-initial">2.6.1. 设计分区布局</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/bsdinstall/#bsdinstall-part-guided">2.6.2. 使用 UFS 进行引导分区</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/bsdinstall/#bsdinstall-part-manual">2.6.3. 手动分区</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/bsdinstall/#bsdinstall-part-zfs">2.6.4. 使用 Root-on-ZFS 进行引导分区</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/bsdinstall/#bsdinstall-part-shell">2.6.5. Shell 模式分区</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/bsdinstall/#bsdinstall-fetching-distribution">2.7. 获取分发文件</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/bsdinstall/#bsdinstall-post">2.8. 网络接口，账户，时区，服务和加固</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/bsdinstall/#bsdinstall-post-root">2.8.1. 设置 <code>root</code> 密码</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/bsdinstall/#bsdinstall-config-network-dev">2.8.2. 配置网络接口</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/bsdinstall/#bsdinstall-timezone">2.8.3. 设置时区</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/bsdinstall/#bsdinstall-sysconf">2.8.4. 启用服务</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/bsdinstall/#bsdinstall-hardening">2.8.5. 启用强化安全选项</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/bsdinstall/#bsdinstall-addusers">2.8.6. 添加用户</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/bsdinstall/#bsdinstall-final-conf">2.8.7. 最终配置</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/bsdinstall/#bsdinstall-install-trouble">2.9. 故障排除</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/bsdinstall/#using-live-cd">2.10. 使用 Live CD</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-709481b75d22ad36960f7ac166b3306c" class="toggle"  />
          <label  class="icon cursor"  for="chapter-709481b75d22ad36960f7ac166b3306c"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn/books/handbook/basics/">
              第 3 章 FreeBSD 基础知识
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/basics/#basics-synopsis">3.1. 简介</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/basics/#consoles">3.2. 虚拟控制台和终端</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/basics/#consoles-virtual">3.2.1. 虚拟控制台</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/basics/#consoles-singleuser">3.2.2. 单用户模式</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/basics/#consoles-vidcontrol">3.2.3. 更改控制台视频模式</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/basics/#users-synopsis">3.3. 用户和基本账户管理</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/basics/#users-introduction">3.3.1. 账户类型</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/basics/#users-modifying">3.3.2. 管理账户</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/basics/#users-groups">3.3.3. 管理群组</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/basics/#permissions">3.4. 权限</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/basics/#_符号权限">3.4.1. 符号权限</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/basics/#_freebsd_文件标志">3.4.2. FreeBSD 文件标志</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/basics/#_setuid_setgid_和_sticky_权限">3.4.3. setuid 、setgid 和 sticky 权限</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/basics/#dirstructure">3.5. 目录结构</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/basics/#disk-organization">3.6. 磁盘组织</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/basics/#disks-file-systems">3.6.1. 文件系统</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/basics/#disks-partitions">3.6.2. 磁盘分区</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/basics/#mount-unmount">3.7. 挂载和卸载文件系统</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/basics/#disks-fstab">3.7.1. fstab 文件</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/basics/#disks-mount">3.7.2. 使用 mount(8)</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/basics/#disks-umount">3.7.3. 使用 umount(8)</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/basics/#basics-processes">3.8. 进程和守护进程</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/basics/#_查看进程">3.8.1. 查看进程</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/basics/#basics-daemons">3.8.2. 杀死进程</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/basics/#shells">3.9. Shells</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/basics/#changing-shells">3.9.1. 更改 Shell</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/basics/#_高级_shell_技巧">3.9.2. 高级 Shell 技巧</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/basics/#editors">3.10. 文本编辑器</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/basics/#basics-devices">3.11. 设备和设备节点</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/basics/#basics-more-information">3.12. 手册页</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/basics/#basics-info">3.12.1. GNU Info 文件</a></li>
      </ul>
    </li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-58c050d31a1fbecd859248dacefeb567" class="toggle"  />
          <label  class="icon cursor"  for="chapter-58c050d31a1fbecd859248dacefeb567"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn/books/handbook/ports/">
              第 4 章 安装应用程序：软件包和 Ports
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/ports/#ports-synopsis">4.1. 简介</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/ports/#ports-overview">4.2. 软件安装概述</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/ports/#ports-finding-applications">4.3. 寻找软件</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/ports/#pkgng-intro">4.4. 使用 pkg 进行二进制包管理</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/ports/#pkgng-initial-setup">4.4.1. 开始使用 pkg</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/ports/#quarterly-latest-branch">4.4.2. 季度和最新的 ports 分支</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/ports/#pkg-configuration">4.4.3. 配置 pkg</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/ports/#pkg-search">4.4.4. 搜索软件包</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/ports/#pkg-installing-fetching">4.4.5. 安装和获取软件包</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/ports/#pkgng-pkg-info">4.4.6. 获取已安装软件包的信息</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/ports/#pkgng-upgrading">4.4.7. 升级已安装的软件包</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/ports/#pkgng-auditing">4.4.8. 审核已安装的软件包</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/ports/#pkg-delete">4.4.9. 移除软件包</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/ports/#pkgng-autoremove">4.4.10. 自动删除未使用的软件包</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/ports/#pkgng-clean">4.4.11. 移除过期的软件包</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/ports/#pkg-locking-unlocking">4.4.12. 锁定和解锁软件包</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/ports/#pkgng-set">4.4.13. 修改软件包元数据</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/ports/#ports-using">4.5. 使用 Ports 集合</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/ports/#ports-using-installation-methods">4.5.1. 安装 Ports 集合</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/ports/#_安装_ports">4.5.2. 安装 Ports</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/ports/#ports-removing">4.5.3. 移除已安装的 ports</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/ports/#ports-upgrading">4.5.4. 升级 ports</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/ports/#ports-disk-space">4.5.5. ports 和磁盘空间</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/ports/#ports-poudriere">4.6. 使用 poudriere 构建软件包</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/ports/#poudriere-initialization">4.6.1. 初始化 Jails 和 Port Trees</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/ports/#_配置_pkg_客户端以使用_poudriere_仓库">4.6.2. 配置 pkg 客户端以使用 poudriere 仓库</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/ports/#ports-nextsteps">4.7. 安装后的考虑事项</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/ports/#ports-broken">4.8. 处理损坏的 ports</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-e5a000ce7f50680a180e2c1b83c121bc" class="toggle"  />
          <label  class="icon cursor"  for="chapter-e5a000ce7f50680a180e2c1b83c121bc"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn/books/handbook/x11/">
              第 5 章 X Window 系统
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/x11/#x11-synopsis">5.1. 简介</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/x11/#x-install">5.2. 安装 Xorg</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/x11/#x-graphic-card-drivers">5.3. 显卡驱动程序</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/x11/#x-configuration-intel">5.3.1. Intel®</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/x11/#x-configuration-amd">5.3.2. AMD®</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/x11/#x-configuration-nvidia">5.3.3. NVIDIA®</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/x11/#x-config">5.4. Xorg 配置</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/x11/#x-config-files">5.4.1. 配置文件</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/x11/#x-config-files-single-or-multi">5.4.2. 单个文件或多个文件</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/x11/#x-config-video-cards">5.4.3. 视频卡</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/x11/#x-config-monitors">5.4.4. 显示器</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/x11/#x-config-input">5.4.5. 输入设备</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/x11/#x-fonts">5.5. 在 Xorg 中使用字体</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/x11/#type1">5.5.1. Type1 字体</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/x11/#truetype">5.5.2. TrueType® 字体</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/x11/#antialias">5.5.3. 抗锯齿字体</a></li>
      </ul>
    </li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-235af08fb87fd7a58003348706d2111d" class="toggle"  />
          <label  class="icon cursor"  for="chapter-235af08fb87fd7a58003348706d2111d"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn/books/handbook/wayland/">
              第 6 章 Wayland
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/wayland/#wayland-synopsis">6.1. Wayland 概述</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/wayland/#wayland-wayfire">6.2. Wayfire 合成器</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/wayland/#wayland-hikari">6.3. Hikari 合成器</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/wayland/#wayland-sway">6.4. Sway 合成器</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/wayland/#wayland-xwayland">6.5. 使用 Xwayland</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/wayland/#wayland-remotedesktop">6.6. 使用 VNC 进行远程桌面访问</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/wayland/#wayland-ly">6.7. Wayland 登录管理器</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/wayland/#wayland-utilities">6.8. 有用的工具</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-4de18483dde20bf9ed0024176afd09da" class="toggle"  />
          <label  class="icon cursor"  for="chapter-4de18483dde20bf9ed0024176afd09da"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn/books/handbook/network/">
              第 7 章 网络
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network/#network-synopsis">7.1. 简介</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network/#config-network-setup">7.2. 设置网络</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network/#config-identify-network-adapter">7.2.1. 识别网络适配器</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network/#config-network-connection">7.3. 有线网络</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network/#config-static-ip-v4">7.3.1. 配置静态 IPv4 地址</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network/#config-dynamic-ip-v4">7.3.2. 配置动态 IPv4 地址</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network/#network-ipv6">7.3.3. IPv6</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network/#config-static-ip-v6">7.3.4. 配置静态 IPv6 地址</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network/#config-dynamic-ip-v6">7.3.5. 配置动态 IPv6 地址</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network/#_路由器通告和主机自动配置">7.3.6. 路由器通告和主机自动配置</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network/#_ipv6_和_ipv4_地址映射">7.3.7. IPv6 和 IPv4 地址映射</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network/#network-wireless">7.4. 无线网络</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network/#network-wireless-quick-start">7.4.1. 连接无线网络的快速入门指南</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network/#basic-wireless-configuration">7.4.2. 基本无线配置</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network/#scan-wireless-networks">7.4.3. 扫描无线网络</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network/#wireless-authentication">7.4.4. 连接和认证无线网络</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network/#_同时使用有线和无线连接">7.4.5. 同时使用有线和无线连接</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network/#hostname">7.5. 主机名</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network/#get-hostname">7.5.1. 检查当前主机名</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network/#change-hostname">7.5.2. 更改主机名</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network/#dns">7.6. DNS</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network/#local-addresses">7.6.1. 本地地址</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network/#configuring-nameserver">7.6.2. 配置域名服务器</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network/#troubleshooting">7.7. 故障排除</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network/#wired-troubleshooting">7.7.1. 有线网络故障排除</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network/#wireless-troubleshooting">7.7.2. 无线网络故障排除</a></li>
      </ul>
    </li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-5eb30759c3a2873e716dc31d7760054c" class="toggle"  />
          <label  for="chapter-5eb30759c3a2873e716dc31d7760054c"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn/books/handbook/partii/">
              第二部分：常见任务
            </a>
            
            
          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-c96504f017c56f4bc7f71548cccf5382" class="toggle"  />
          <label  class="icon cursor"  for="chapter-c96504f017c56f4bc7f71548cccf5382"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn/books/handbook/desktop/">
              第 8 章 桌面环境
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/desktop/#desktop-synopsis">8.1. 简介</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/desktop/#desktop-environments">8.2. 桌面环境</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/desktop/#kde-environment">8.2.1. KDE Plasma</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/desktop/#gnome-environment">8.2.2. GNOME</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/desktop/#xfce-environment">8.2.3. XFCE</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/desktop/#mate-environment">8.2.4. MATE</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/desktop/#cinnamon-environment">8.2.5. Cinnamon</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/desktop/#lxqt-environment">8.2.6. LXQT</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/desktop/#desktop-browsers">8.3. 浏览器</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/desktop/#firefox">8.3.1. Firefox</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/desktop/#chromium">8.3.2. Chromium</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/desktop/#iridium">8.3.3. Iridium browser</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/desktop/#falkon">8.3.4. Falkon</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/desktop/#konqueror">8.3.5. Konqueror</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/desktop/#gnome-web-epiphany">8.3.6. Gnome Web (Epiphany)</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/desktop/#qutebrowser">8.3.7. qutebrowser</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/desktop/#dillo">8.3.8. Dillo</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/desktop/#links">8.3.9. Links</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/desktop/#w3m">8.3.10. w3m</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/desktop/#desktop-development">8.4. 开发工具</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/desktop/#vs-code">8.4.1. Visual Studio Code</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/desktop/#qt-creator">8.4.2. Qt Creator</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/desktop/#kdevelop">8.4.3. kdevelop</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/desktop/#eclipse">8.4.4. Eclipse IDE</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/desktop/#vim">8.4.5. Vim</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/desktop/#neovim">8.4.6. Neovim</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/desktop/#gnu-emacs">8.4.7. GNU Emacs</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/desktop/#desktop-productivity">8.5. 桌面办公生产力</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/desktop/#libreoffice">8.5.1. LibreOffice</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/desktop/#calligra">8.5.2. Calligra</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/desktop/#abiword">8.5.3. AbiWord</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/desktop/#desktop-viewers">8.6. 文档查看器</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/desktop/#okular">8.6.1. Okular</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/desktop/#evince">8.6.2. Evince</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/desktop/#epdfview">8.6.3. ePDFView</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/desktop/#xpdf">8.6.4. Xpdf</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/desktop/#desktop-finance">8.7. 金融</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/desktop/#kmymoney">8.7.1. KMyMoney</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/desktop/#gnucash">8.7.2. GnuCash</a></li>
      </ul>
    </li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-e1898af36aaacc168e13b673d25b908f" class="toggle"  />
          <label  class="icon cursor"  for="chapter-e1898af36aaacc168e13b673d25b908f"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn/books/handbook/multimedia/">
              Chapter 9. Multimedia
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/multimedia/#multimedia-synopsis">9.1. Synopsis</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/multimedia/#sound-setup">9.2. Setting Up the Sound Card</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/multimedia/#sound-testing">9.2.1. Testing Sound</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/multimedia/#sound-mixer">9.2.2. Mixer</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/multimedia/#graphics-card-sound">9.2.3. Graphics Card Sound</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/multimedia/#automatically-switching-headphones">9.2.4. Automatically Switching to Headphones</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/multimedia/#troubleshooting-sound">9.2.5. Troubleshooting Sound</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/multimedia/#audio-ports">9.3. Audio players</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/multimedia/#elisa">9.3.1. Elisa</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/multimedia/#gnome-music">9.3.2. GNOME Music</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/multimedia/#audacious">9.3.3. Audacious</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/multimedia/#moc-music-on-console">9.3.4. MOC (music on console)</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/multimedia/#video-ports">9.4. Video players</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/multimedia/#mplayer">9.4.1. MPlayer</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/multimedia/#smplayer">9.4.2. SMPlayer</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/multimedia/#vlc">9.4.3. VLC media player</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/multimedia/#kodi">9.4.4. Kodi (XBMC)</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/multimedia/#conferencing-meetings">9.5. Conferencing and Meetings</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/multimedia/#webcam-setup">9.5.1. Setting Up the Webcam</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/multimedia/#meetings-software-status">9.5.2. Meetings software status</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/multimedia/#scanners">9.6. Image Scanners</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/multimedia/#scanners-kernel-usb">9.6.1. Checking the Scanner</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/multimedia/#_sane_configuration">9.6.2. SANE Configuration</a></li>
      </ul>
    </li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-6926664836e63c5cae4b2fa60855f91d" class="toggle"  />
          <label  class="icon cursor"  for="chapter-6926664836e63c5cae4b2fa60855f91d"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn/books/handbook/kernelconfig/">
              第 10 章 配置 FreeBSD 内核
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/kernelconfig/#kernelconfig-synopsis">10.1. 简介</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/kernelconfig/#kernelconfig-custom-kernel">10.2. 为什么要构建自定义内核？</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/kernelconfig/#kernelconfig-devices">10.3. 查找系统硬件</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/kernelconfig/#kernelconfig-config">10.4. 配置文件</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/kernelconfig/#kernelconfig-building">10.5. 构建和安装自定义内核</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/kernelconfig/#kernelconfig-trouble">10.6. 如果出现问题</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-19d36bd70a320268f0ea1f66e4f3e224" class="toggle"  />
          <label  class="icon cursor"  for="chapter-19d36bd70a320268f0ea1f66e4f3e224"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn/books/handbook/printing/">
              Chapter 11. Printing
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/printing/#printing-quick-start">11.1. Quick Start</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/printing/#printing-connections">11.2. Printer Connections</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/printing/#printing-connections-summary">11.2.1. Summary</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/printing/#printing-pdls">11.3. Common Page Description Languages</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/printing/#print-pdls-table">11.3.1. Converting PostScript® to Other PDLs</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/printing/#print-pdls-summary">11.3.2. Summary</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/printing/#printing-direct">11.4. Direct Printing</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/printing/#printing-lpd">11.5. LPD (Line Printer Daemon)</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/printing/#printing-lpd-setup">11.5.1. Initial Setup</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/printing/#printing-lpd-lpr">11.5.2. Printing with lpr(1)</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/printing/#printing-lpd-filters">11.5.3. Filters</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/printing/#printing-lpd-queues">11.5.4. Multiple Queues</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/printing/#printing-lpd-monitor">11.5.5. Monitoring and Controlling Printing</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/printing/#printing-lpd-shared">11.5.6. Shared Printers</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/printing/#printing-lpd-references">11.5.7. References</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/printing/#printing-other">11.6. Other Printing Systems</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/printing/#printing-other-cups">11.6.1. CUPS (Common UNIX® Printing System)</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/printing/#printing-other-hplip">11.6.2. HPLIP</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/printing/#printing-other-lprng">11.6.3. LPRng</a></li>
      </ul>
    </li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-a07f539e6c18f2db4da5dbb2b5bb1e79" class="toggle"  />
          <label  class="icon cursor"  for="chapter-a07f539e6c18f2db4da5dbb2b5bb1e79"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn/books/handbook/linuxemu/">
              第 12 章 Linux 二进制兼容性
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/linuxemu/#linuxemu-synopsis">12.1. 简介</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/linuxemu/#linuxemu-lbc-install">12.2. 配置 Linux 二进制兼容性</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/linuxemu/#linux-userlands">12.3. Linux 用户空间</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/linuxemu/#linuxemu-packages">12.3.1. 从 FreeBSD 软件包中获取的 CentOS 基本系统</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/linuxemu/#linuxemu-debootstrap">12.3.2. 使用 debootstrap 创建 Debian/Ubuntu 基础系统</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/linuxemu/#linuxemu-advanced">12.4. 高级主题</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/linuxemu/#linuxemu-libs-manually">12.4.1. 手动安装额外的库</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/linuxemu/#_标记_linux_elf_可执行文件">12.4.2. 标记 Linux ELF 可执行文件</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/linuxemu/#_安装基于_linux_rpm_的应用程序">12.4.3. 安装基于 Linux RPM 的应用程序</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/linuxemu/#_配置主机名解析器">12.4.4. 配置主机名解析器</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/linuxemu/#linuxemu-misc">12.4.5. 杂项</a></li>
      </ul>
    </li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-af234c193ce95c480af0ff5ec3f32f5c" class="toggle"  />
          <label  class="icon cursor"  for="chapter-af234c193ce95c480af0ff5ec3f32f5c"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn/books/handbook/wine/">
              Chapter 13. WINE
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/wine/#wine-synopsis">13.1. Synopsis</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/wine/#wine-overview-concepts">13.2. WINE Overview & Concepts</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/wine/#what-is-wine">13.2.1. What is WINE?</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/wine/#wine-and-the-os-system">13.2.2. WINE and the FreeBSD System</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/wine/#graphical-versus-text-modeterminal-programs-in-wine">13.2.3. Graphical Versus Text Mode/Terminal Programs in WINE</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/wine/#wine-derivative-projects">13.2.4. WINE Derivative Projects</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/wine/#alternatives-to-wine">13.2.5. Alternatives to WINE</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/wine/#installing-wine-on-freebsd">13.3. Installing WINE on FreeBSD</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/wine/#wine-prerequistes">13.3.1. WINE Prerequistes</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/wine/#installing-wine">13.3.2. Installing WINE via FreeBSD Package Repositories</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/wine/#thirtytwo-vs-sixtyfour-bit-wine">13.3.3. Concerns of 32- Versus 64-Bit in WINE Installations</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/wine/#running-first-wine-program">13.4. Running a First WINE Program on FreeBSD</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/wine/#running-a-program-from-the-command-line">13.4.1. Running a Program from the Command Line</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/wine/#running-a-program-from-a-gui">13.4.2. Running a Program from a GUI</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/wine/#configuring-wine-installation">13.5. Configuring WINE Installation</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/wine/#wine-prefixes">13.5.1. WINE Prefixes</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/wine/#creating-and-using-wine-prefixes">13.5.2. Creating and Using WINE Prefixes</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/wine/#configuring-wine-prefixes-with-winecfg">13.5.3. Configuring WINE Prefixes with winecfg</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/wine/#wine-management-guis">13.6. WINE Management GUIs</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/wine/#winetricks">13.6.1. Winetricks</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/wine/#homura">13.6.2. Suyimazu</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/wine/#running-multiple-management-guis">13.6.3. Running Multiple Management GUIs</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/wine/#wine-in-multi-user-os-installations">13.7. WINE in Multi-User FreeBSD Installations</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/wine/#issues-with-using-a-common-wine-prefix">13.7.1. Issues with Using a Common WINE Prefix</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/wine/#installing-applications-to-a-common-drivesettings">13.7.2. Installing Applications to a Common Drive</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/wine/#using-a-common-installation-of-wine">13.7.3. Using a Common Installation of WINE</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/wine/#wine-on-os-faq">13.8. WINE on FreeBSD FAQ</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/wine/#basic-installation-and-usage">13.8.1. Basic Installation and Usage</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/wine/#install-optimization">13.8.2. Install Optimization</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/wine/#application-specific">13.8.3. Application-Specific</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/wine/#other-os-resources">13.8.4. Other OS Resources</a></li>
      </ul>
    </li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-51416fdea9d5a1dfa1c2718cd825213a" class="toggle"  />
          <label  for="chapter-51416fdea9d5a1dfa1c2718cd825213a"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn/books/handbook/partiii/">
              第三部分：系统管理
            </a>
            
            
          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-532d0380ba66d66e033765a0b6930ee7" class="toggle"  />
          <label  class="icon cursor"  for="chapter-532d0380ba66d66e033765a0b6930ee7"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn/books/handbook/config/">
              第 14 章 配置、服务、日志和电源管理
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/config/#config-synopsis">14.1. 简介</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/config/#configtuning-configfiles">14.2. 配置文件</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/config/#_etc_目录">14.2.1. <span class="filename">/etc</span> 目录</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/config/#configtuning-sysctl">14.2.2. sysctl 实用程序</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/config/#configtuning-sysctlconf">14.2.3. <span class="filename">/etc/sysctl.conf</span> 文件</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/config/#configtuning-core-configuration">14.2.4. 管理系统特定配置</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/config/#configtuning-rcd">14.3. 在 FreeBSD 中管理服务</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/config/#configtuning-starting-services">14.3.1. 启动服务</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/config/#configtuning-status-services">14.3.2. 服务的状态</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/config/#configtuning-reload-services">14.3.3. 重新加载服务</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/config/#_使用服务启动服务">14.3.4. 使用服务启动服务</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/config/#cron-periodic">14.4. Cron 和周期性任务</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/config/#configtuning-cron">14.4.1. Cron</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/config/#configtuning-installcrontab">14.4.2. 创建用户的定时任务表</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/config/#configtuning-periodic">14.4.3. Periodic</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/config/#enable-disable-periodic">14.4.4. 启用或禁用定期任务</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/config/#configuring-output-periodic-tasks">14.4.5. 配置定期任务的输出</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/config/#configtuning-syslog">14.5. 配置系统日志</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/config/#_配置本地日志记录">14.5.1. 配置本地日志记录</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/config/#logging-facilities">14.5.2. 日志记录设施</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/config/#logging-levels">14.5.3. 日志级别</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/config/#read-log-messages">14.5.4. 阅读日志消息</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/config/#_日志管理和轮转">14.5.5. 日志管理和轮转</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/config/#network-syslogd">14.5.6. 配置远程日志记录</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/config/#acpi-overview">14.6. 功耗和资源管理</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/config/#acpi-config">14.6.1. ACPI 配置</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/config/#cpu-power-management">14.6.2. CPU 功耗管理</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/config/#cpufreq">14.6.3. CPU 频率控制</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/config/#est">14.6.4. Intel® Enhanced Speed Step™</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/config/#hwpstate_intel">14.6.5. Intel Speed Shift™</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/config/#graphics-card-power-management">14.6.6. 图形卡功耗管理</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/config/#_挂起恢复">14.6.7. 挂起/恢复</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/config/#adding-swap-space">14.7. 添加交换空间</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/config/#new-drive-swap">14.7.1. 在新硬盘或现有分区上进行交换</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/config/#create-swapfile">14.7.2. 创建交换文件</a></li>
      </ul>
    </li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-d05f41680fb7e3d68b354ae03de368b1" class="toggle"  />
          <label  class="icon cursor"  for="chapter-d05f41680fb7e3d68b354ae03de368b1"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn/books/handbook/boot/">
              第 15 章 FreeBSD 的引导过程
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/boot/#boot-synopsis">15.1. 简介</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/boot/#boot-introduction">15.2. FreeBSD 引导过程</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/boot/#boot-boot0">15.2.1. 引导管理器</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/boot/#boot-boot1">15.2.2. 第一阶段和第二阶段</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/boot/#boot-loader">15.2.3. 第三阶段</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/boot/#boot-init">15.2.4. 最后阶段</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/boot/#device-hints">15.3. 设备提示</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/boot/#boot-shutdown">15.4. 关机序列</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-513e8e407c57354df334059688e9b60a" class="toggle"  checked  />
          <label  class="icon cursor"  for="chapter-513e8e407c57354df334059688e9b60a"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn/books/handbook/security/">
              第 16 章 安全
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/security/#security-synopsis">16.1. 简介</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/security/#security-intro">16.2. 介绍</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/security/#sec-accounts">16.3. 保护账户安全</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/security/#security-accounts">16.3.1. 防止登录</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/security/#security-passwords">16.3.2. 密码哈希值</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/security/#security-pwpolicy">16.3.3. 密码策略强制执行</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/security/#security-sudo">16.3.4. 使用 sudo 进行共享管理</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/security/#security-doas">16.3.5. 使用 Doas 进行共享管理</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/security/#security-ids">16.4. 入侵检测系统（IDS）</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/security/#security-ids-generate-spec-file">16.4.1. 生成规范文件</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/security/#security-ids-spec-file-structure">16.4.2. 规范文件结构</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/security/#security-ids-verify-specification-file">16.4.3. 验证规范文件</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/security/#security-secure-levels">16.5. 安全级别</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/security/#security-secure-levels-definitions">16.5.1. 安全级别定义</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/security/#security-modify-secure-levels">16.5.2. 修改安全级别</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/security/#security-file-flags">16.6. 文件标志</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/security/#security-work-file-flag">16.6.1. 处理文件标志</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/security/#openssh">16.7. OpenSSH</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/security/#_使用_ssh_客户端工具">16.7.1. 使用 SSH 客户端工具</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/security/#security-ssh-keygen">16.7.2. 基于密钥的身份验证</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/security/#security-ssh-tunneling">16.7.3. SSH 隧道</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/security/#_启用_ssh_服务器">16.7.4. 启用 SSH 服务器</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/security/#config-publickey-auth">16.7.5. 配置公钥身份验证方法</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/security/#security-sshd-security-options">16.7.6. SSH 服务器安全选项</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/security/#openssl">16.8. OpenSSL</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/security/#generating-certificates">16.8.1. 生成证书</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/security/#fips-provider">16.8.2. 配置 FIPS 提供程序</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/security/#kerberos5">16.9. Kerberos</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/security/#_设置_heimdal_kdc">16.9.1. 设置 Heimdal KDC</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/security/#_配置服务器使用_kerberos">16.9.2. 配置服务器使用 Kerberos</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/security/#_配置客户端使用_kerberos">16.9.3. 配置客户端使用 Kerberos</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/security/#_与_mit_的差异">16.9.4. 与 MIT 的差异</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/security/#_kerberos_提示技巧和故障排除">16.9.5. Kerberos 提示、技巧和故障排除</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/security/#_缓解_kerberos_的限制">16.9.6. 缓解 Kerberos 的限制</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/security/#_资源和进一步信息">16.9.7. 资源和进一步信息</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/security/#tcpwrappers">16.10. TCP Wrappers</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/security/#tcpwrappers-initial-configuration">16.10.1. 初始配置</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/security/#tcpwrappers-advanced-config">16.10.2. 高级配置</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/security/#fs-acl">16.11. 访问控制列表</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/security/#acl-enabling-support-ufs">16.11.1. 在 UFS 中启用 ACL 支持</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/security/#security-acl-info">16.11.2. 获取 ACL 信息</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/security/#security-working-acls">16.11.3. 使用 ACLs 进行工作</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/security/#capsicum">16.12. Capsicum</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/security/#security-accounting">16.13. 进程账户</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/security/#_启用和利用进程账户">16.13.1. 启用和利用进程账户</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/security/#security-resourcelimits">16.14. 资源限制</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/security/#security-resource-limits-types">16.14.1. 资源的类型</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/security/#users-limiting">16.14.2. 配置登录类</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/security/#security-rctl">16.14.3. 启用和配置资源限制</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/security/#security-pkg">16.15. 监控第三方安全问题</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/security/#security-advisories">16.16. FreeBSD 安全公告</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/security/#_安全公告的格式">16.16.1. 安全公告的格式</a></li>
      </ul>
    </li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-0f7d2858504c83a029928c048d394e2a" class="toggle"  />
          <label  class="icon cursor"  for="chapter-0f7d2858504c83a029928c048d394e2a"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn/books/handbook/jails/">
              第 17 章 Jails 和容器
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/jails/#jails-synopsis">17.1. 简介</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/jails/#jail-types">17.2. Jail 类型</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/jails/#thick-jails">17.2.1. 厚（Thick）Jails</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/jails/#thin-jails">17.2.2. 薄（Thin）Jails</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/jails/#vnet-jails">17.2.3. VNET Jails</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/jails/#linux-jails">17.2.4. Linux Jails</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/jails/#host-configuration">17.3. 主机配置</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/jails/#host-configuration-jail-utility">17.3.1. Jail 实用工具</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/jails/#jails-networking">17.3.2. 网络</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/jails/#host-configuration-directories">17.3.3. 设置 jail 目录树</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/jails/#jail-configuration-files">17.3.4. Jail 配置文件</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/jails/#classic-jail">17.4. 经典 Jail（厚 Jail ）</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/jails/#creating-classic-jail">17.4.1. 创建一个经典 Jail</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/jails/#thin-jail">17.5. 薄（Thin）Jails</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/jails/#creating-thin-jail-openzfs-snapshots">17.5.1. 使用 OpenZFS 快照创建一个瘦 Jail</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/jails/#creating-thin-jail-nullfs">17.5.2. 使用 NullFS 创建一个薄 Jail</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/jails/#creating-vnet-jail">17.5.3. 创建一个 VNET Jail</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/jails/#creating-linux-jail">17.5.4. 创建一个 Linux Jail</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/jails/#jail-management">17.6. Jail 管理</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/jails/#list-running-jails">17.6.1. 列出运行中的 Jails</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/jails/#start-jail">17.6.2. 启动、重新启动和停止一个 Jail</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/jails/#destroy-jail">17.6.3. 销毁一个 jail</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/jails/#handle-packages-jail">17.6.4. 在 Jail 中处理软件包</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/jails/#access-jail">17.6.5. 访问一个 Jail</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/jails/#execute-commands-jail">17.6.6. 在 Jail 中执行命令</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/jails/#jail-upgrading">17.7. Jail 升级</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/jails/#jails-updating">17.7.1. 使用 OpenZFS 快照升级经典 Jail 或薄 Jail</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/jails/#upgrading-thin-jail">17.7.2. 使用 NullFS 升级薄 Jail</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/jails/#jail-resource-limits">17.8. Jail 资源限制</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/jails/#jail-managers-and-containers">17.9. Jail 管理器和容器</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-15be125ce5997f51c5499e3a0dee6c2c" class="toggle"  />
          <label  class="icon cursor"  for="chapter-15be125ce5997f51c5499e3a0dee6c2c"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn/books/handbook/mac/">
              第 18 章 强制访问控制
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/mac/#mac-synopsis">18.1. 简介</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/mac/#mac-inline-glossary">18.2. 关键术语</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/mac/#mac-understandlabel">18.3. 理解 MAC 标签</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/mac/#_标签配置">18.3.1. 标签配置</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/mac/#_预定义标签">18.3.2. 预定义标签</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/mac/#_数字标签">18.3.3. 数字标签</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/mac/#_用户标签">18.3.4. 用户标签</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/mac/#_网络接口标签">18.3.5. 网络接口标签</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/mac/#mac-planning">18.4. 规划安全配置</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/mac/#mac-policies">18.5. 可用的 MAC 策略</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/mac/#mac-seeotheruids">18.5.1. MAC 查看其他 UID 策略</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/mac/#mac-bsdextended">18.5.2. MAC BSD 扩展策略</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/mac/#mac-ifoff">18.5.3. MAC 接口禁止策略</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/mac/#mac-portacl">18.5.4. MAC 端口访问控制列表策略</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/mac/#mac-partition">18.5.5. MAC 分区策略</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/mac/#mac-mls">18.5.6. MAC 多级安全模块</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/mac/#mac-biba">18.5.7. MAC Biba 模块</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/mac/#mac-lomac">18.5.8. MAC 低水位标记模块</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/mac/#mac-userlocked">18.6. 用户锁定</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/mac/#mac-implementing">18.7. 在 MAC Jail 中的 Nagios</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/mac/#_创建一个不安全的用户类">18.7.1. 创建一个不安全的用户类</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/mac/#_配置用户">18.7.2. 配置用户</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/mac/#_创建上下文文件">18.7.3. 创建上下文文件</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/mac/#_加载器配置">18.7.4. 加载器配置</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/mac/#_测试配置">18.7.5. 测试配置</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/mac/#mac-troubleshoot">18.8. 解决 MAC 框架的问题</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-3f7e8d763b17c7d0c44c60505cf0feea" class="toggle"  />
          <label  class="icon cursor"  for="chapter-3f7e8d763b17c7d0c44c60505cf0feea"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn/books/handbook/audit/">
              第 19 章 安全事件审计
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/audit/#audit-synopsis">19.1. 简介</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/audit/#audit-inline-glossary">19.2. 关键术语</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/audit/#audit-config">19.3. 审计配置</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/audit/#_事件选择表达式">19.3.1. 事件选择表达式</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/audit/#_配置文件">19.3.2. 配置文件</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/audit/#audit-administration">19.4. 使用审计跟踪功能</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/audit/#_使用审计管道进行实时监控">19.4.1. 使用审计管道进行实时监控</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/audit/#_旋转和压缩审计日志文件">19.4.2. 旋转和压缩审计日志文件</a></li>
      </ul>
    </li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-7bb1cb2287cd08a3672cc878e604f0d0" class="toggle"  />
          <label  class="icon cursor"  for="chapter-7bb1cb2287cd08a3672cc878e604f0d0"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn/books/handbook/disks/">
              第 20 章 存储
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/disks/#disks-synopsis">20.1. 简介</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/disks/#disks-adding">20.2. 添加磁盘</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/disks/#disks-growing">20.3. 调整和扩展磁盘大小</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/disks/#usb-disks">20.4. USB 存储设备</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/disks/#_设备配置">20.4.1. 设备配置</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/disks/#_自动挂载可移动介质">20.4.2. 自动挂载可移动介质</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/disks/#creating-cds">20.5. 创建和使用 CD 媒体</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/disks/#atapicam">20.5.1. 支持的设备</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/disks/#cdrecord">20.5.2. 刻录光盘</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/disks/#mkisofs">20.5.3. 将数据写入 ISO 文件系统</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/disks/#mounting-cd">20.5.4. 使用数据光盘</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/disks/#duplicating-audiocds">20.5.5. 复制音频 CDs</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/disks/#creating-dvds">20.6. 创建和使用 DVD 媒体</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/disks/#_配置">20.6.1. 配置</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/disks/#_刻录数据_dvd">20.6.2. 刻录数据 DVD</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/disks/#_刻录_dvd_视频">20.6.3. 刻录 DVD 视频</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/disks/#_使用_dvdrw">20.6.4. 使用 DVD+RW</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/disks/#_使用_dvd_rw">20.6.5. 使用 DVD-RW</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/disks/#_多会话">20.6.6. 多会话</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/disks/#_更多信息请参考">20.6.7. 更多信息请参考</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/disks/#creating-dvd-ram">20.6.8. 使用 DVD-RAM</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/disks/#floppies">20.7. 创建和使用软盘</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/disks/#using-ntfs">20.8. 使用 NTFS 磁盘</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/disks/#backup-basics">20.9. 备份基础知识</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/disks/#_文件系统备份">20.9.1. 文件系统备份</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/disks/#_目录备份">20.9.2. 目录备份</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/disks/#backups-tapebackups">20.9.3. 使用数据磁带进行备份</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/disks/#backups-programs-amanda">20.9.4. 第三方备份工具</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/disks/#_紧急恢复">20.9.5. 紧急恢复</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/disks/#disks-virtual">20.10. 内存磁盘</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/disks/#disks-mdconfig">20.10.1. 附加和分离现有镜像</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/disks/#disks-md-freebsd5">20.10.2. 创建一个基于文件或内存的内存磁盘</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/disks/#snapshots">20.11. 文件系统快照</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/disks/#quotas">20.12. 磁盘配额</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/disks/#_启用磁盘配额">20.12.1. 启用磁盘配额</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/disks/#_设置配额限制">20.12.2. 设置配额限制</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/disks/#_检查配额限制和磁盘使用情况">20.12.3. 检查配额限制和磁盘使用情况</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/disks/#_nfs_上的配额限制">20.12.4. NFS 上的配额限制</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/disks/#disks-encrypting">20.13. 加密磁盘分区</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/disks/#_使用_gbde_进行磁盘加密">20.13.1. 使用 gbde 进行磁盘加密</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/disks/#disks-encrypting-geli">20.13.2. 使用 <code>geli</code> 进行磁盘加密</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/disks/#swap-encrypting">20.14. 加密交换分区</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/disks/#_配置加密交换空间">20.14.1. 配置加密交换空间</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/disks/#_加密交换验证">20.14.2. 加密交换验证</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/disks/#disks-hast">20.15. 高可用存储（Highly Available Storage，HAST）</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/disks/#_hast_操作">20.15.1. HAST 操作</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/disks/#_hast_配置">20.15.2. HAST 配置</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/disks/#_故障排除">20.15.3. 故障排除</a></li>
      </ul>
    </li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-dec5fc4f0100e5030db0fb188d8d4b2f" class="toggle"  />
          <label  class="icon cursor"  for="chapter-dec5fc4f0100e5030db0fb188d8d4b2f"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn/books/handbook/geom/">
              Chapter 21. GEOM: Modular Disk Transformation Framework
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/geom/#geom-synopsis">21.1. Synopsis</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/geom/#geom-striping">21.2. RAID0 - Striping</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/geom/#geom-mirror">21.3. RAID1 - Mirroring</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/geom/#geom-mirror-metadata">21.3.1. Metadata Issues</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/geom/#geom-mirror-two-new-disks">21.3.2. Creating a Mirror with Two New Disks</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/geom/#geom-mirror-existing-drive">21.3.3. Creating a Mirror with an Existing Drive</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/geom/#gmirror-troubleshooting">21.3.4. Troubleshooting</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/geom/#_recovering_from_disk_failure">21.3.5. Recovering from Disk Failure</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/geom/#geom-raid3">21.4. RAID3 - Byte-level Striping with Dedicated Parity</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/geom/#_creating_a_dedicated_raid3_array">21.4.1. Creating a Dedicated RAID3 Array</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/geom/#geom-graid">21.5. Software RAID Devices</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/geom/#geom-graid-creating">21.5.1. Creating an Array</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/geom/#geom-graid-volumes">21.5.2. Multiple Volumes</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/geom/#geom-graid-converting">21.5.3. Converting a Single Drive to a Mirror</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/geom/#geom-graid-inserting">21.5.4. Inserting New Drives into the Array</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/geom/#geom-graid-removing">21.5.5. Removing Drives from the Array</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/geom/#geom-graid-stopping">21.5.6. Stopping the Array</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/geom/#geom-graid-status">21.5.7. Checking Array Status</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/geom/#geom-graid-deleting">21.5.8. Deleting Arrays</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/geom/#geom-graid-unexpected">21.5.9. Deleting Unexpected Arrays</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/geom/#geom-ggate">21.6. GEOM Gate Network</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/geom/#geom-glabel">21.7. Labeling Disk Devices</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/geom/#_label_types_and_examples">21.7.1. Label Types and Examples</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/geom/#geom-gjournal">21.8. UFS Journaling Through GEOM</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-7f1657a05627dd16bad31d4c7f675604" class="toggle"  />
          <label  class="icon cursor"  for="chapter-7f1657a05627dd16bad31d4c7f675604"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn/books/handbook/zfs/">
              第 22 章 Z 文件系统（ZFS）
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/zfs/#zfs-differences">22.1. ZFS 有何不同之处</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/zfs/#zfs-quickstart">22.2. 快速入门指南</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/zfs/#zfs-quickstart-single-disk-pool">22.2.1. 单磁盘池</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/zfs/#zfs-quickstart-raid-z">22.2.2. RAID-Z</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/zfs/#zfs-quickstart-recovering-raid-z">22.2.3. 恢复 RAID-Z</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/zfs/#zfs-quickstart-data-verification">22.2.4. 数据验证</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/zfs/#zfs-zpool">22.3. <code>zpool</code> 管理</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/zfs/#zfs-zpool-create">22.3.1. 创建和销毁存储池</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/zfs/#zfs-zpool-attach">22.3.2. 添加和移除设备</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/zfs/#zfs-zpool-status">22.3.3. 检查池的状态</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/zfs/#zfs-zpool-clear">22.3.4. 清除错误</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/zfs/#zfs-zpool-replace">22.3.5. 替换一个正常工作的设备</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/zfs/#zfs-zpool-resilver">22.3.6. 处理故障设备</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/zfs/#zfs-zpool-scrub">22.3.7. Scrubbing 池</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/zfs/#zfs-zpool-selfheal">22.3.8. 自我修复</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/zfs/#zfs-zpool-online">22.3.9. 扩展池</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/zfs/#zfs-zpool-import">22.3.10. 导入和导出存储池</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/zfs/#zfs-zpool-upgrade">22.3.11. 升级存储池</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/zfs/#zfs-zpool-history">22.3.12. 显示池的历史记录</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/zfs/#zfs-zpool-iostat">22.3.13. 性能监控</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/zfs/#zfs-zpool-split">22.3.14. 分割存储池</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/zfs/#zfs-zfs">22.4. <code>zfs</code> 管理</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/zfs/#zfs-zfs-create">22.4.1. 创建和销毁数据集</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/zfs/#zfs-zfs-volume">22.4.2. 创建和销毁卷</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/zfs/#zfs-zfs-rename">22.4.3. 重命名数据集</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/zfs/#zfs-zfs-set">22.4.4. 设置数据集属性</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/zfs/#zfs-zfs-snapshot">22.4.5. 管理快照</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/zfs/#zfs-zfs-clones">22.4.6. 管理克隆实例</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/zfs/#zfs-zfs-send">22.4.7. 复制</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/zfs/#zfs-zfs-quota">22.4.8. 数据集、用户和组配额</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/zfs/#zfs-zfs-reservation">22.4.9. 预留空间</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/zfs/#zfs-zfs-compression">22.4.10. 压缩</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/zfs/#zfs-zfs-compression-zstd">22.4.11. Zstandard 压缩</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/zfs/#zfs-zfs-deduplication">22.4.12. 去重</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/zfs/#zfs-zfs-jail">22.4.13. ZFS 和 Jails</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/zfs/#zfs-zfs-allow">22.5. 委派管理</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/zfs/#zfs-zfs-allow-create">22.5.1. 委托数据集创建</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/zfs/#zfs-zfs-allow-allow">22.5.2. 委派权限委派</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/zfs/#zfs-advanced">22.6. 高级主题</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/zfs/#zfs-advanced-tuning">22.6.1. 调优</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/zfs/#zfs-advanced-i386">22.6.2. i386 上的 ZFS</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/zfs/#zfs-links">22.7. 进一步资源</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/zfs/#zfs-term">22.8. ZFS 功能和术语</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-4c6bf6828e601b79edb2813329ac6604" class="toggle"  />
          <label  class="icon cursor"  for="chapter-4c6bf6828e601b79edb2813329ac6604"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn/books/handbook/filesystems/">
              第 23 章 其他文件系统
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/filesystems/#filesystems-synopsis">23.1. 简介</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/filesystems/#filesystems-linux">23.2. Linux® 文件系统</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/filesystems/#_ext2_ext3_ext4">23.2.1. ext2 / ext3 / ext4</a></li>
      </ul>
    </li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-ae23289d4b6415f3f878893f9d3ef9b8" class="toggle"  />
          <label  class="icon cursor"  for="chapter-ae23289d4b6415f3f878893f9d3ef9b8"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn/books/handbook/virtualization/">
              Chapter 24. Virtualization
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/virtualization/#virtualization-synopsis">24.1. Synopsis</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/virtualization/#virtualization-guest-parallelsdesktop">24.2. FreeBSD as a Guest on Parallels Desktop for macOS®</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/virtualization/#virtualization-guest-parallelsdesktop-install">24.2.1. Installing FreeBSD on Parallels Desktop on Mac®</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/virtualization/#virtualization-guest-parallels-configure">24.2.2. Configuring FreeBSD on Parallels</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/virtualization/#virtualization-guest-vmware">24.3. FreeBSD as a Guest on VMware Fusion for macOS®</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/virtualization/#virtualization-guest-vmware-install">24.3.1. Installing FreeBSD on VMware Fusion</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/virtualization/#virtualization-guest-vmware-configure">24.3.2. Configuring FreeBSD on VMware Fusion</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/virtualization/#virtualization-guest-virtualbox">24.4. FreeBSD as a Guest on VirtualBox™</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/virtualization/#virtualization-host-virtualbox">24.5. FreeBSD as a Host with VirtualBox™</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/virtualization/#virtualization-virtualbox-install">24.5.1. Installing VirtualBox™</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/virtualization/#virtualization-virtualbox-usb-support">24.5.2. VirtualBox™ USB Support</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/virtualization/#virtualization-virtualbox-host-dvd-cd-access">24.5.3. VirtualBox™ Host DVD/CD Access</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/virtualization/#virtualization-host-bhyve">24.6. FreeBSD as a Host with bhyve</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/virtualization/#virtualization-bhyve-prep">24.6.1. Preparing the Host</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/virtualization/#virtualization-bhyve-freebsd">24.6.2. Creating a FreeBSD Guest</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/virtualization/#virtualization-bhyve-linux">24.6.3. Creating a Linux® Guest</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/virtualization/#virtualization-bhyve-uefi">24.6.4. Booting bhyve Virtual Machines with UEFI Firmware</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/virtualization/#virtualization-bhyve-framebuffer">24.6.5. Graphical UEFI Framebuffer for bhyve Guests</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/virtualization/#virtualization-bhyve-zfs">24.6.6. Using ZFS with bhyve Guests</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/virtualization/#virtualization-bhyve-nmdm">24.6.7. Virtual Machine Consoles</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/virtualization/#virtualization-bhyve-managing">24.6.8. Managing Virtual Machines</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/virtualization/#virtualization-bhyve-onboot">24.6.9. Persistent Configuration</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/virtualization/#virtualization-host-xen">24.7. FreeBSD as a Xen™-Host</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/virtualization/#virtualization-host-xen-requirements">24.7.1. Hardware Requirements for Xen™ Dom0</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/virtualization/#virtualization-host-xen-dom0-setup">24.7.2. Xen™ Dom0 Control Domain Setup</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/virtualization/#virtualization-host-xen-domu-setup">24.7.3. Xen™ DomU Guest VM Configuration</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/virtualization/#virtualization-host-xen-troubleshooting">24.7.4. Troubleshooting</a></li>
      </ul>
    </li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-b279d2b738963a45a059268d2fae00d5" class="toggle"  />
          <label  class="icon cursor"  for="chapter-b279d2b738963a45a059268d2fae00d5"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn/books/handbook/l10n/">
              Chapter 25. Localization - i18n/L10n Usage and Setup
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/l10n/#l10n-synopsis">25.1. Synopsis</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/l10n/#using-localization">25.2. Using Localization</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/l10n/#setting-locale">25.2.1. Setting Locale for Login Shell</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/l10n/#setting-console">25.2.2. Console Setup</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/l10n/#_xorg_setup">25.2.3. Xorg Setup</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/l10n/#l10n-compiling">25.3. Finding i18n Applications</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/l10n/#lang-setup">25.4. Locale Configuration for Specific Languages</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/l10n/#ru-localize">25.4.1. Russian Language (KOI8-R Encoding)</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/l10n/#_additional_language_specific_resources">25.4.2. Additional Language-Specific Resources</a></li>
      </ul>
    </li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-9e3f99bd76c861ab2e9a5f31ac421842" class="toggle"  />
          <label  class="icon cursor"  for="chapter-9e3f99bd76c861ab2e9a5f31ac421842"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn/books/handbook/cutting-edge/">
              第 26 章 更新和升级 FreeBSD
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/cutting-edge/#updating-upgrading-synopsis">26.1. 简介</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/cutting-edge/#updating-upgrading-freebsdupdate">26.2. FreeBSD 更新</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/cutting-edge/#freebsdupdate-config-file">26.2.1. 配置文件</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/cutting-edge/#freebsdupdate-security-patches">26.2.2. 应用安全补丁</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/cutting-edge/#freebsdupdate-upgrade">26.2.3. 执行次要和主要版本升级</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/cutting-edge/#freebsdupdate-system-comparison">26.2.4. 系统状态比较</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/cutting-edge/#updating-bootcode">26.3. 更新引导代码</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/cutting-edge/#updating-upgrading-documentation">26.4. 更新文档集合</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/cutting-edge/#updating-installed-documentation">26.4.1. 从源代码更新文档</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/cutting-edge/#current-stable">26.5. 跟踪开发分支</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/cutting-edge/#current">26.5.1. 使用 FreeBSD-CURRENT</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/cutting-edge/#stable">26.5.2. 使用 FreeBSD-STABLE</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/cutting-edge/#translate-n-number">26.5.3. The N-number</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/cutting-edge/#makeworld">26.6. 从源代码更新 FreeBSD</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/cutting-edge/#updating-src-quick-start">26.6.1. 快速入门</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/cutting-edge/#updating-src-preparing">26.6.2. 准备进行源代码更新</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/cutting-edge/#updating-src-obtaining-src">26.6.3. 更新源代码</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/cutting-edge/#updating-src-building">26.6.4. 从源代码构建</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/cutting-edge/#updating-src-installing">26.6.5. 安装编译后的代码</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/cutting-edge/#updating-src-completing">26.6.6. 完成更新</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/cutting-edge/#small-lan">26.7. 多台机器的追踪</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/cutting-edge/#building-on-non-freebsd-hosts">26.8. 在非 FreeBSD 主机上构建</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-3ba999091575eb04ae88235cd0fb1afa" class="toggle"  />
          <label  class="icon cursor"  for="chapter-3ba999091575eb04ae88235cd0fb1afa"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn/books/handbook/dtrace/">
              第 27 章 DTrace
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/dtrace/#dtrace-synopsis">27.1. 简介</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/dtrace/#dtrace-implementation">27.2. 实现差异</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/dtrace/#dtrace-enable">27.3. 启用 DTrace 支持</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/dtrace/#dtrace-using">27.4. 使用 DTrace</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-bdb217202a0a3eef4571dd1fcd50863c" class="toggle"  />
          <label  class="icon cursor"  for="chapter-bdb217202a0a3eef4571dd1fcd50863c"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn/books/handbook/usb-device-mode/">
              Chapter 28. USB Device Mode / USB OTG
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/usb-device-mode/#usb-device-mode-synopsis">28.1. Synopsis</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/usb-device-mode/#usb-device-mode-terminals">28.2. USB Virtual Serial Ports</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/usb-device-mode/#_configuring_usb_device_mode_serial_ports">28.2.1. Configuring USB Device Mode Serial Ports</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/usb-device-mode/#_connecting_to_usb_device_mode_serial_ports_from_freebsd">28.2.2. Connecting to USB Device Mode Serial Ports from FreeBSD</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/usb-device-mode/#_connecting_to_usb_device_mode_serial_ports_from_macos">28.2.3. Connecting to USB Device Mode Serial Ports from macOS</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/usb-device-mode/#_connecting_to_usb_device_mode_serial_ports_from_linux">28.2.4. Connecting to USB Device Mode Serial Ports from Linux</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/usb-device-mode/#_connecting_to_usb_device_mode_serial_ports_from_microsoft_windows_10">28.2.5. Connecting to USB Device Mode Serial Ports from Microsoft Windows 10</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/usb-device-mode/#usb-device-mode-network">28.3. USB Device Mode Network Interfaces</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/usb-device-mode/#usb-device-mode-storage">28.4. USB Virtual Storage Device</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/usb-device-mode/#_configuring_usb_mass_storage_target_using_the_cfumass_startup_script">28.4.1. Configuring USB Mass Storage Target Using the cfumass Startup Script</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/usb-device-mode/#_configuring_usb_mass_storage_using_other_means">28.4.2. Configuring USB Mass Storage Using Other Means</a></li>
      </ul>
    </li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-6d4439926bb106ac084ecc88cfd3cfa4" class="toggle"  />
          <label  for="chapter-6d4439926bb106ac084ecc88cfd3cfa4"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn/books/handbook/partiv/">
              第四部分：网络通信
            </a>
            
            
          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-05a353fcb61d8e035f7c43e14725766e" class="toggle"  />
          <label  class="icon cursor"  for="chapter-05a353fcb61d8e035f7c43e14725766e"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn/books/handbook/serialcomms/">
              第 29 章 串行通信
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/serialcomms/#serial-synopsis">29.1. 简介</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/serialcomms/#serial">29.2. 串行术语和硬件</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/serialcomms/#term-cables-null">29.2.1. 串行电缆和端口</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/serialcomms/#serial-hw-config">29.2.2. 串口配置</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/serialcomms/#term">29.3. 终端</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/serialcomms/#term-config">29.3.1. 终端配置</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/serialcomms/#term-debug">29.3.2. 连接故障排除</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/serialcomms/#dialup">29.4. 拨入服务</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/serialcomms/#dialup-ttys">29.4.1. 调制解调器配置</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/serialcomms/#_故障排除">29.4.2. 故障排除</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/serialcomms/#dialout">29.5. 拨出服务</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/serialcomms/#hayes-unsupported">29.5.1. 使用一台 Stock Hayes 调制解调器</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/serialcomms/#direct-at">29.5.2. 使用 <code>AT</code> 命令</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/serialcomms/#gt-failure">29.5.3. <code>@</code> 符号不起作用</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/serialcomms/#dial-command-line">29.5.4. 从命令行拨号</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/serialcomms/#set-bps">29.5.5. 设置波特率</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/serialcomms/#terminal-server">29.5.6. 通过终端服务器访问多台主机</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/serialcomms/#tip-multiline">29.5.7. 使用多行显示 <code>tip</code> 提示信息</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/serialcomms/#multi-controlp">29.5.8. 使用 Force 字符</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/serialcomms/#uppercase">29.5.9. 大写字母</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/serialcomms/#tip-filetransfer">29.5.10. 使用 <code>tip</code> 进行文件传输</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/serialcomms/#zmodem-tip">29.5.11. 使用 <code>tip</code> 与 zmodem 一起使用？</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/serialcomms/#serialconsole-setup">29.6. 设置串行控制台</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/serialcomms/#serialconsole-howto-fast">29.6.1. 快速串行控制台配置</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/serialcomms/#serialconsole-howto">29.6.2. 深入的串行控制台配置</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/serialcomms/#_设置更快的串口速度">29.6.3. 设置更快的串口速度</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/serialcomms/#serialconsole-ddb">29.6.4. 通过串行线进入 DDB 调试器</a></li>
      </ul>
    </li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-7f0cbcbf6701b86eba3bbd6fc829f1b8" class="toggle"  />
          <label  class="icon cursor"  for="chapter-7f0cbcbf6701b86eba3bbd6fc829f1b8"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn/books/handbook/ppp-and-slip/">
              Chapter 30. PPP
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/ppp-and-slip/#ppp-and-slip-synopsis">30.1. Synopsis</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/ppp-and-slip/#userppp">30.2. Configuring PPP</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/ppp-and-slip/#userppp-staticIP">30.2.1. Basic Configuration</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/ppp-and-slip/#_advanced_configuration">30.2.2. Advanced Configuration</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/ppp-and-slip/#userppp-final">30.2.3. Final System Configuration</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/ppp-and-slip/#_using_ppp">30.2.4. Using <code>ppp</code></a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/ppp-and-slip/#userppp-mgetty">30.2.5. Configuring Dial-in Services</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/ppp-and-slip/#ppp-troubleshoot">30.3. Troubleshooting PPP Connections</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/ppp-and-slip/#_check_the_device_nodes">30.3.1. Check the Device Nodes</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/ppp-and-slip/#_connecting_manually">30.3.2. Connecting Manually</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/ppp-and-slip/#_debugging">30.3.3. Debugging</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/ppp-and-slip/#pppoe">30.4. Using PPP over Ethernet (PPPoE)</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/ppp-and-slip/#_using_a_pppoe_service_tag">30.4.1. Using a PPPoE Service Tag</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/ppp-and-slip/#ppp-3com">30.4.2. PPPoE with a 3Com® HomeConnect™ ADSL Modem Dual Link</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/ppp-and-slip/#pppoa">30.5. Using PPP over ATM (PPPoA)</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/ppp-and-slip/#_using_mpd">30.5.1. Using mpd</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/ppp-and-slip/#_using_pptpclient">30.5.2. Using pptpclient</a></li>
      </ul>
    </li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-9d023b545804f197d195dd9412749943" class="toggle"  />
          <label  class="icon cursor"  for="chapter-9d023b545804f197d195dd9412749943"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn/books/handbook/mail/">
              Chapter 31. Electronic Mail
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/mail/#mail-synopsis">31.1. Synopsis</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/mail/#mail-using">31.2. Mail Components</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/mail/#dragonFly-mail-agent">31.3. DragonFly Mail Agent (DMA)</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/mail/#configuring-dragonfly-mail-agent">31.3.1. Configuring DragonFly Mail Agent (DMA)</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/mail/#sendmail">31.4. Sendmail</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/mail/#configuring-sendmail">31.4.1. Configuration Files</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/mail/#mail-changingmta">31.5. Changing the Mail Transfer Agent</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/mail/#replace-sendmail-dma">31.5.1. Replacing Sendmail with Other MTA</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/mail/#replace-dma">31.5.2. Replacing DragonFly Mail Agent (DMA) with Other MTA</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/mail/#mail-agents">31.6. Mail User Agents</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/mail/#mail-command">31.6.1. mail</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/mail/#mutt-command">31.6.2. Mutt</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/mail/#alpine-command">31.6.3. alpine</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/mail/#mail-advanced">31.7. Advanced Topics</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/mail/#mail-config">31.7.1. Basic Configuration</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/mail/#mail-domain">31.7.2. Mail for a Domain</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/mail/#outgoing-only">31.7.3. Setting Up to Send Only</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/mail/#SMTP-Auth">31.7.4. SMTP Authentication in Sendmail</a></li>
      </ul>
    </li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-42b19e05d30c4135c74b9878818747a9" class="toggle"  />
          <label  class="icon cursor"  for="chapter-42b19e05d30c4135c74b9878818747a9"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn/books/handbook/network-servers/">
              第 32 章 网络服务器
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network-servers/#network-servers-synopsis">32.1. 简介</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network-servers/#network-inetd">32.2. inetd 超级服务器</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network-servers/#network-inetd-conf">32.2.1. 配置文件</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network-servers/#network-inetd-cmdline">32.2.2. 命令行选项</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network-servers/#network-inetd-security">32.2.3. 安全考虑</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network-servers/#network-nfs">32.3. 网络文件系统（NFS）</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network-servers/#network-configuring-nfs">32.3.1. 配置服务器</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network-servers/#_配置客户端">32.3.2. 配置客户端</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network-servers/#_锁定">32.3.3. 锁定</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network-servers/#network-autofs">32.3.4. 使用 autofs(5) 自动挂载</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network-servers/#network-nis">32.4. 网络信息系统（NIS）</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network-servers/#_nis_术语和流程">32.4.1. NIS 术语和流程</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network-servers/#_机器类型">32.4.2. 机器类型</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network-servers/#_规划考虑因素">32.4.3. 规划考虑因素</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network-servers/#_配置_nis_主服务器">32.4.4. 配置 NIS 主服务器</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network-servers/#_设置一个_nis_从服务器">32.4.5. 设置一个 NIS 从服务器</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network-servers/#_设置_nis_客户端">32.4.6. 设置 NIS 客户端</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network-servers/#_nis_安全">32.4.7. NIS 安全</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network-servers/#network-netgroups">32.4.8. 使用 Netgroups</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network-servers/#_密码格式">32.4.9. 密码格式</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network-servers/#network-ldap">32.5. 轻量级目录访问协议（LDAP）</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network-servers/#_ldap_术语和结构">32.5.1. LDAP 术语和结构</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network-servers/#ldap-config">32.5.2. 配置 LDAP 服务器</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network-servers/#network-dhcp">32.6. 动态主机配置协议（DHCP）</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network-servers/#_配置_dhcp_客户端">32.6.1. 配置 DHCP 客户端</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network-servers/#network-dhcp-server">32.6.2. 安装和配置 DHCP 服务器</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network-servers/#network-dns">32.7. 域名系统（DNS）</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network-servers/#_运行名称服务器的原因">32.7.1. 运行名称服务器的原因</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network-servers/#_dns_服务器配置">32.7.2. DNS 服务器配置</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network-servers/#_权威名称服务器配置">32.7.3. 权威名称服务器配置</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network-servers/#network-apache">32.8. Apache HTTP Server 是一个开源的 Web 服务器软件，它是目前最流行的 Web 服务器之一。它由 Apache 软件基金会开发和维护，可运行在多种操作系统上，包括 Windows、Linux 和 Unix 等。 Apache HTTP Server 具有高度可扩展性和灵活性，支持多种模块和插件，可以实现各种功能，如动态内容生成、虚拟主机配置和安全性控制等。它还提供了丰富的文档和社区支持，使得用户能够轻松地学习和使用。无论是个人网站还是大型企业应用，Apache HTTP Server 都是一个可靠和强大的选择。</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network-servers/#_配置和启动_apache">32.8.1. 配置和启动 Apache</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network-servers/#_虚拟主机">32.8.2. 虚拟主机</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network-servers/#_apache_模块">32.8.3. Apache 模块</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network-servers/#_动态网站">32.8.4. 动态网站</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network-servers/#network-ftp">32.9. 文件传输协议（FTP）</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network-servers/#_配置">32.9.1. 配置</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network-servers/#network-samba">32.10. 适用于 Microsoft® Windows® 客户端的文件和打印服务（Samba）</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network-servers/#_服务器配置">32.10.1. 服务器配置</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network-servers/#_启动_samba">32.10.2. 启动 Samba</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network-servers/#network-ntp">32.11. 使用 NTP 进行时钟同步</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network-servers/#_ntp_配置">32.11.1. NTP 配置</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network-servers/#_使用_ppp_连接的_ntp">32.11.2. 使用 PPP 连接的 NTP</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network-servers/#network-iscsi">32.12. iSCSI 启动程序和目标配置</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network-servers/#network-iscsi-target">32.12.1. 配置 iSCSI 目标</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/network-servers/#network-iscsi-initiator">32.12.2. 配置 iSCSI 发起者</a></li>
      </ul>
    </li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-9554a5177d00d0e87ada408809a1fc67" class="toggle"  />
          <label  class="icon cursor"  for="chapter-9554a5177d00d0e87ada408809a1fc67"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn/books/handbook/firewalls/">
              第 33 章 防火墙
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/firewalls/#firewalls-intro">33.1. 简介</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/firewalls/#firewalls-concepts">33.2. 防火墙概念</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/firewalls/#firewalls-pf">33.3. PF</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/firewalls/#_启用_pf">33.3.1. 启用 PF</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/firewalls/#pf-tutorial">33.3.2. PF 规则集</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/firewalls/#_启用_altq">33.3.3. 启用 ALTQ</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/firewalls/#firewalls-ipfw">33.4. IPFW</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/firewalls/#firewalls-ipfw-enable">33.4.1. 启用 IPFW</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/firewalls/#firewalls-ipfw-rules">33.4.2. IPFW 规则语法</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/firewalls/#_示例规则集">33.4.3. 示例规则集</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/firewalls/#in-kernel-nat">33.4.4. 内核级网络地址转换（In-kernel NAT）</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/firewalls/#firewalls-ipfw-cmd">33.4.5. IPFW 命令</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/firewalls/#firewalls-ipfw-kernelconfig">33.4.6. IPFW 内核选项</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/firewalls/#firewalls-ipf">33.5. IPFILTER (IPF)</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/firewalls/#_启用_ipf">33.5.1. 启用 IPF</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/firewalls/#_ipf_规则语法">33.5.2. IPF 规则语法</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/firewalls/#_示例规则集_2">33.5.3. 示例规则集</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/firewalls/#_配置_nat">33.5.4. 配置 NAT</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/firewalls/#_查看_ipf_统计信息">33.5.5. 查看 IPF 统计信息</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/firewalls/#_ipf_日志记录">33.5.6. IPF 日志记录</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/firewalls/#firewalls-blacklistd">33.6. 黑名单服务</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/firewalls/#_启用_blacklistd">33.6.1. 启用 Blacklistd</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/firewalls/#_创建一个_blacklistd_规则集">33.6.2. 创建一个 Blacklistd 规则集</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/firewalls/#_黑名单客户端配置">33.6.3. 黑名单客户端配置</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/firewalls/#_黑名单管理">33.6.4. 黑名单管理</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/firewalls/#_从阻止列表中移除主机">33.6.5. 从阻止列表中移除主机</a></li>
      </ul>
    </li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-9903a1d844ed803a436595e93ec33572" class="toggle"  />
          <label  class="icon cursor"  for="chapter-9903a1d844ed803a436595e93ec33572"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn/books/handbook/advanced-networking/">
              第 34 章 高级网络
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/advanced-networking/#advanced-networking-synopsis">34.1. 简介</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/advanced-networking/#network-routing">34.2. 网关和路由</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/advanced-networking/#network-routing-default">34.2.1. 路由基础知识</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/advanced-networking/#network-static-routes">34.2.2. 使用静态路由配置路由器</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/advanced-networking/#network-routing-troubleshooting">34.2.3. 故障排除</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/advanced-networking/#network-routing-multicast">34.2.4. 多播考虑因素</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/advanced-networking/#configtuning-virtual-hosts">34.3. 虚拟主机</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/advanced-networking/#network-advanced-wireless">34.4. 无线高级认证</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/advanced-networking/#network-wireless-wpa-eap-tls">34.4.1. WPA 与 EAP-TLS</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/advanced-networking/#network-wireless-wpa-eap-ttls">34.4.2. WPA 与 EAP-TTLS</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/advanced-networking/#network-wireless-wpa-eap-peap">34.4.3. WPA 与 EAP-PEAP</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/advanced-networking/#wireless-ad-hoc-mode">34.5. 无线自组网模式</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/advanced-networking/#network-wireless-ap">34.5.1. FreeBSD 主机访问点</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/advanced-networking/#network-usb-tethering">34.6. USB 网络共享</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/advanced-networking/#network-bluetooth">34.7. 蓝牙</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/advanced-networking/#_加载蓝牙支持">34.7.1. 加载蓝牙支持</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/advanced-networking/#_查找其他蓝牙设备">34.7.2. 查找其他蓝牙设备</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/advanced-networking/#_设备配对">34.7.3. 设备配对</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/advanced-networking/#_使用_ppp_配置文件的网络访问">34.7.4. 使用 PPP 配置文件的网络访问</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/advanced-networking/#_蓝牙协议">34.7.5. 蓝牙协议</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/advanced-networking/#_故障排除">34.7.6. 故障排除</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/advanced-networking/#network-bridging">34.8. 桥接</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/advanced-networking/#_启用桥接功能">34.8.1. 启用桥接功能</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/advanced-networking/#_启用生成树">34.8.2. 启用生成树</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/advanced-networking/#_桥接接口参数">34.8.3. 桥接接口参数</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/advanced-networking/#_snmp_监控">34.8.4. SNMP 监控</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/advanced-networking/#network-aggregation">34.9. 链路聚合和故障转移</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/advanced-networking/#_配置示例">34.9.1. 配置示例</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/advanced-networking/#network-diskless">34.10. 使用 PXE 进行无盘操作</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/advanced-networking/#network-pxe-nfs">34.10.1. 设置 PXE 环境</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/advanced-networking/#network-pxe-setting-up-dhcp">34.10.2. 配置 DHCP 服务器</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/advanced-networking/#_调试_pxe_问题">34.10.3. 调试 PXE 问题</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/advanced-networking/#carp">34.11. 通用地址冗余协议（CARP）</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/advanced-networking/#carp-10x">34.11.1. 在 FreeBSD 10 及更高版本上使用 CARP</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/advanced-networking/#carp-9x">34.11.2. 在 FreeBSD 9 及更早版本上使用 CARP</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/advanced-networking/#network-vlan">34.12. 虚拟局域网（VLANs）</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-8ca29f99c249993ee9234cb4632af7a5" class="toggle"  />
          <label  for="chapter-8ca29f99c249993ee9234cb4632af7a5"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn/books/handbook/partv/">
              第五部分. 附录
            </a>
            
            
          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-0229d553ebf23ffeb945be6f32836221" class="toggle"  />
          <label  class="icon cursor"  for="chapter-0229d553ebf23ffeb945be6f32836221"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn/books/handbook/mirrors/">
              附录 A. 获取 FreeBSD
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/mirrors/#mirrors">A.1. 镜像</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/mirrors/#git">A.2. 使用 Git</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/mirrors/#git-intro">A.2.1. 介绍</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/mirrors/#git-install">A.2.2. 安装</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/mirrors/#git-usage">A.2.3. 运行 Git</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/mirrors/#_基于_web_的代码仓库浏览器">A.2.4. 基于 Web 的代码仓库浏览器</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/mirrors/#_开发者指南">A.2.5. 开发者指南</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/mirrors/#external-mirrors">A.2.6. 外部镜像源</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/mirrors/#_邮件列表">A.2.7. 邮件列表</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/mirrors/#_ssh_主机密钥">A.2.8. SSH 主机密钥</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/mirrors/#svn">A.3. 使用 Subversion</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/mirrors/#svn-intro">A.3.1. 介绍</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/mirrors/#svn-svnlite">A.3.2. Svnlite</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/mirrors/#svn-install">A.3.3. 安装</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/mirrors/#svn-usage">A.3.4. 运行 Subversion</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/mirrors/#svn-mirrors">A.3.5. Subversion 镜像站点</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/mirrors/#_更多信息请参考">A.3.6. 更多信息请参考</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/mirrors/#mirrors-cdrom">A.4. CD 和 DVD 套装</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-743c99fa278b8138914ff018e40c9231" class="toggle"  />
          <label  class="icon cursor"  for="chapter-743c99fa278b8138914ff018e40c9231"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn/books/handbook/bibliography/">
              Appendix B. Bibliography
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/bibliography/#bibliography-freebsd">B.1. FreeBSD Bibliography</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/bibliography/#bibliography-security">B.2. Security Reference</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/bibliography/#bibliography-history">B.3. UNIX® History</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/bibliography/#bibliography-journals">B.4. Periodicals, Journals, and Magazines</a></li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-de7eade4b8b64f298c0cbac44c2278da" class="toggle"  />
          <label  class="icon cursor"  for="chapter-de7eade4b8b64f298c0cbac44c2278da"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn/books/handbook/eresources/">
              Appendix C. Resources on the Internet
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/eresources/#eresources-www">C.1. Websites</a></li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/eresources/#eresources-mail">C.2. Mailing Lists</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/eresources/#eresources-subscribe">C.2.1. How to Subscribe or Unsubscribe</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/eresources/#eresources-charters">C.2.2. 列表基本规则</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/eresources/#eresources-mailfiltering">C.2.3. Filtering on the Mailing Lists</a></li>
      </ul>
    </li>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/eresources/#eresources-news">C.3. Usenet Newsgroups</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/eresources/#_bsd_specific_newsgroups">C.3.1. BSD Specific Newsgroups</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/eresources/#_other_unix_newsgroups_of_interest">C.3.2. Other UNIX® Newsgroups of Interest</a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/eresources/#_x_window_system">C.3.3. X Window System</a></li>
      </ul>
    </li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-bfb0d4e71c3c1a18a8b75e03f4b48e26" class="toggle"  />
          <label  class="icon cursor"  for="chapter-bfb0d4e71c3c1a18a8b75e03f4b48e26"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn/books/handbook/pgpkeys/">
              Appendix D. OpenPGP Keys
            </a>
            
            
  <ul>
    <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/pgpkeys/#pgpkeys-officers">D.1. Officers</a>
      <ul>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/pgpkeys/#_security_officer_team_security_officerfreebsd_org">D.1.1. Security Officer Team <code><security-officer@FreeBSD.org></code></a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/pgpkeys/#_core_team_secretary_core_secretaryfreebsd_org">D.1.2. Core Team Secretary <code><core-secretary@FreeBSD.org></code></a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/pgpkeys/#_ports_management_team_secretary_portmgr_secretaryfreebsd_org">D.1.3. Ports Management Team Secretary <code><portmgr-secretary@FreeBSD.org></code></a></li>
        <li><a href="https://free.bsd-doc.org/zh-cn/books/handbook/pgpkeys/#_doceng_secretaryfreebsd_org">D.1.4. <code>doceng-secretary@FreeBSD.org</code></a></li>
      </ul>
    </li>
  </ul>

          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-2a8deedf14429128049622ec007c9d3f" class="toggle"  />
          <label  for="chapter-2a8deedf14429128049622ec007c9d3f"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn/books/handbook/glossary/">
              FreeBSD 词汇表
            </a>
            
            
          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-110dbb242491bf200e51e76db171f670" class="toggle"  />
          <label  for="chapter-110dbb242491bf200e51e76db171f670"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn/books/handbook/colophon/">
              后记
            </a>
            
            
          

        
      </li>
    
      <li>
        

          
          
          

          <input type="checkbox" id="chapter-caffbcba74982e4b26b9263ac0232bc3" class="toggle"  />
          <label  for="chapter-caffbcba74982e4b26b9263ac0232bc3"><a role="button"></a></label>

          
            
            <a href="https://free.bsd-doc.org/zh-cn/books/handbook/introduction/">
              
            </a>
            
            
          

        
      </li>
    
      <li>
        
      </li>
    
  </ul>


      </nav>
    </div>
  </aside>
  
  <div class="book">
    
    <div class="book-menu-mobile">
      <label for="menu-control">
        <span class="menu-control-button">
          <i class="fa fa-list" aria-hidden="true" title="Book menu"></i>
          Book menu
        </span>
      </label>
    </div>
    
    <h1 class="title">第 16 章 安全</h1>
    
    
      <div class="admonitionblock note">
        <p>
          <i class="fa fa-exclamation-circle" aria-hidden="true"></i>
          如果发现翻译错误，请直接 <a href="https://github.com/fierceX/freebsd-doc-cn/pulls" target="_blank">发起PR修改</a>。
        </p>
      </div>
    
    
    
    <div class="toc-mobile">
      <h3>目录</h3>
      <nav id="TableOfContents">
  <ul>
    <li><a href="#security-synopsis">16.1. 简介</a></li>
    <li><a href="#security-intro">16.2. 介绍</a></li>
    <li><a href="#sec-accounts">16.3. 保护账户安全</a>
      <ul>
        <li><a href="#security-accounts">16.3.1. 防止登录</a></li>
        <li><a href="#security-passwords">16.3.2. 密码哈希值</a></li>
        <li><a href="#security-pwpolicy">16.3.3. 密码策略强制执行</a></li>
        <li><a href="#security-sudo">16.3.4. 使用 sudo 进行共享管理</a></li>
        <li><a href="#security-doas">16.3.5. 使用 Doas 进行共享管理</a></li>
      </ul>
    </li>
    <li><a href="#security-ids">16.4. 入侵检测系统（IDS）</a>
      <ul>
        <li><a href="#security-ids-generate-spec-file">16.4.1. 生成规范文件</a></li>
        <li><a href="#security-ids-spec-file-structure">16.4.2. 规范文件结构</a></li>
        <li><a href="#security-ids-verify-specification-file">16.4.3. 验证规范文件</a></li>
      </ul>
    </li>
    <li><a href="#security-secure-levels">16.5. 安全级别</a>
      <ul>
        <li><a href="#security-secure-levels-definitions">16.5.1. 安全级别定义</a></li>
        <li><a href="#security-modify-secure-levels">16.5.2. 修改安全级别</a></li>
      </ul>
    </li>
    <li><a href="#security-file-flags">16.6. 文件标志</a>
      <ul>
        <li><a href="#security-work-file-flag">16.6.1. 处理文件标志</a></li>
      </ul>
    </li>
    <li><a href="#openssh">16.7. OpenSSH</a>
      <ul>
        <li><a href="#_使用_ssh_客户端工具">16.7.1. 使用 SSH 客户端工具</a></li>
        <li><a href="#security-ssh-keygen">16.7.2. 基于密钥的身份验证</a></li>
        <li><a href="#security-ssh-tunneling">16.7.3. SSH 隧道</a></li>
        <li><a href="#_启用_ssh_服务器">16.7.4. 启用 SSH 服务器</a></li>
        <li><a href="#config-publickey-auth">16.7.5. 配置公钥身份验证方法</a></li>
        <li><a href="#security-sshd-security-options">16.7.6. SSH 服务器安全选项</a></li>
      </ul>
    </li>
    <li><a href="#openssl">16.8. OpenSSL</a>
      <ul>
        <li><a href="#generating-certificates">16.8.1. 生成证书</a></li>
        <li><a href="#fips-provider">16.8.2. 配置 FIPS 提供程序</a></li>
      </ul>
    </li>
    <li><a href="#kerberos5">16.9. Kerberos</a>
      <ul>
        <li><a href="#_设置_heimdal_kdc">16.9.1. 设置 Heimdal KDC</a></li>
        <li><a href="#_配置服务器使用_kerberos">16.9.2. 配置服务器使用 Kerberos</a></li>
        <li><a href="#_配置客户端使用_kerberos">16.9.3. 配置客户端使用 Kerberos</a></li>
        <li><a href="#_与_mit_的差异">16.9.4. 与 MIT 的差异</a></li>
        <li><a href="#_kerberos_提示技巧和故障排除">16.9.5. Kerberos 提示、技巧和故障排除</a></li>
        <li><a href="#_缓解_kerberos_的限制">16.9.6. 缓解 Kerberos 的限制</a></li>
        <li><a href="#_资源和进一步信息">16.9.7. 资源和进一步信息</a></li>
      </ul>
    </li>
    <li><a href="#tcpwrappers">16.10. TCP Wrappers</a>
      <ul>
        <li><a href="#tcpwrappers-initial-configuration">16.10.1. 初始配置</a></li>
        <li><a href="#tcpwrappers-advanced-config">16.10.2. 高级配置</a></li>
      </ul>
    </li>
    <li><a href="#fs-acl">16.11. 访问控制列表</a>
      <ul>
        <li><a href="#acl-enabling-support-ufs">16.11.1. 在 UFS 中启用 ACL 支持</a></li>
        <li><a href="#security-acl-info">16.11.2. 获取 ACL 信息</a></li>
        <li><a href="#security-working-acls">16.11.3. 使用 ACLs 进行工作</a></li>
      </ul>
    </li>
    <li><a href="#capsicum">16.12. Capsicum</a></li>
    <li><a href="#security-accounting">16.13. 进程账户</a>
      <ul>
        <li><a href="#_启用和利用进程账户">16.13.1. 启用和利用进程账户</a></li>
      </ul>
    </li>
    <li><a href="#security-resourcelimits">16.14. 资源限制</a>
      <ul>
        <li><a href="#security-resource-limits-types">16.14.1. 资源的类型</a></li>
        <li><a href="#users-limiting">16.14.2. 配置登录类</a></li>
        <li><a href="#security-rctl">16.14.3. 启用和配置资源限制</a></li>
      </ul>
    </li>
    <li><a href="#security-pkg">16.15. 监控第三方安全问题</a></li>
    <li><a href="#security-advisories">16.16. FreeBSD 安全公告</a>
      <ul>
        <li><a href="#_安全公告的格式">16.16.1. 安全公告的格式</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
    
      
      
    
    <div class="book-content">
      <div id="preamble">
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="security-synopsis">16.1. 简介<a class="anchor" href="#security-synopsis"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>已经有数百种关于如何保护系统和网络的标准实践被撰写出来，作为 FreeBSD 的用户，了解如何防御攻击和入侵是必不可少的。</p>
</div>
<div class="paragraph">
<p>在本章中，将讨论几个基本原理和技术。FreeBSD 系统具有多层安全性，并且可以添加许多第三方工具来增强安全性。</p>
</div>
<div class="paragraph">
<p>本章内容包括：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>基本的 FreeBSD 系统安全概念。</p>
</li>
<li>
<p>在 FreeBSD 中可用的各种加密机制。</p>
</li>
<li>
<p>如何配置 TCP Wrappers 以与 <a href="https://man.freebsd.org/cgi/man.cgi?query=inetd&amp;sektion=8&amp;format=html">inetd(8)</a> 一起使用。</p>
</li>
<li>
<p>在 FreeBSD 上设置 Kerberos 的方法。</p>
</li>
<li>
<p>如何在 FreeBSD 上配置和使用 OpenSSH。</p>
</li>
<li>
<p>在 FreeBSD 上如何使用 OpenSSL。</p>
</li>
<li>
<p>如何使用文件系统 ACL。</p>
</li>
<li>
<p>如何使用 pkg 来审计从 Ports 集合安装的第三方软件包。</p>
</li>
<li>
<p>如何利用 FreeBSD 安全公告。</p>
</li>
<li>
<p>进程账户是什么以及如何在 FreeBSD 上启用它。</p>
</li>
<li>
<p>如何使用登录类或资源限制数据库来控制用户资源。</p>
</li>
<li>
<p>什么是 Capsicum 和一个基本例子。</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>由于其复杂性，某些主题在专门的章节中进行讨论，例如 <a href="../firewalls/#firewalls">防火墙</a>， <a href="../mac/#mac">强制访问控制</a> 以及像 <a href="https://docs.freebsd.org/en/articles/vpn-ipsec/">VPN over IPsec</a> 这样的文章。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="security-intro">16.2. 介绍<a class="anchor" href="#security-intro"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>安全是每个人的责任。任何系统中的弱入口都可能使入侵者获得对关键信息的访问权限，并对整个网络造成混乱。信息安全的核心原则之一是 CIA 三元组，即信息系统的机密性、完整性和可用性。</p>
</div>
<div class="paragraph">
<p>CIA 三元组是计算机安全的基本概念，因为客户和用户期望他们的数据得到保护。例如，客户期望他们的信用卡信息被安全地存储（保密性），他们的订单在幕后不被更改（完整性），并且他们可以随时访问他们的订单信息（可用性）。</p>
</div>
<div class="paragraph">
<p>为了提供 CIA （机密性、完整性和可用性），安全专业人员采用了深度防御策略。深度防御的理念是在安全系统中添加多层安全措施，以防止单个层面的失败导致整个安全系统崩溃。例如，系统管理员不能仅仅打开防火墙就认为网络或系统是安全的。还必须审计账户、检查二进制文件的完整性，并确保没有安装恶意工具。要实施有效的安全策略，必须了解威胁及其防御方法。</p>
</div>
<div class="paragraph">
<p>在计算机安全领域，威胁是指不仅限于试图从远程位置未经许可访问系统的远程攻击者。威胁还包括员工、恶意软件、未经授权的网络设备、自然灾害、安全漏洞，甚至竞争对手。</p>
</div>
<div class="paragraph">
<p>系统和网络有时会在没有许可的情况下被访问，有时是出于意外，或者是被远程攻击者访问，而在某些情况下，可能是通过企业间谍活动或前员工的方式进行访问。作为用户，重要的是要为可能导致安全漏洞的错误做好准备，并向安全团队报告可能存在的问题。作为管理员，了解威胁并做好准备以减轻其影响是非常重要的。</p>
</div>
<div class="paragraph">
<p>在应用安全措施到系统时，建议首先保护基本账户和系统配置，然后保护网络层，使其符合系统策略和组织的安全程序。许多组织已经有了涵盖技术设备配置的安全策略。该策略应包括工作站、桌面电脑、移动设备、电话、生产服务器和开发服务器的安全配置。在许多情况下，标准操作规程（SOP）已经存在。如果有疑问，请咨询安全团队。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sec-accounts">16.3. 保护账户安全<a class="anchor" href="#sec-accounts"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>在 FreeBSD 中维护安全账户对于数据保密性、系统完整性和权限分离至关重要，它可以防止未经授权的访问、恶意软件和数据泄露，同时确保合规性并保护组织的声誉。</p>
</div>
<div class="sect2">
<h3 id="security-accounts">16.3.1. 防止登录<a class="anchor" href="#security-accounts"></a></h3>
<div class="paragraph">
<p>在保护系统时，一个很好的起点是对账户进行审计。禁用任何不需要登录访问的账户。</p>
</div>
<div class="admonitionblock tip">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>确保 <code>root</code> 拥有一个强密码，并且不要共享该密码。</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>拒绝登录账户有两种方法。</p>
</div>
<div class="paragraph">
<p>第一步是锁定账户，这个例子展示了如何锁定 <code>imani</code> 账户：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># pw lock imani</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>第二种方法是通过将 shell 更改为 <span class="filename">/usr/sbin/nologin</span> 来阻止登录访问。 <a href="https://man.freebsd.org/cgi/man.cgi?query=nologin&amp;sektion=8&amp;format=html">nologin(8)</a> shell 在用户尝试登录时阻止系统为其分配 shell。</p>
</div>
<div class="paragraph">
<p>只有超级用户才能更改其他用户的 Shell。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># chsh -s /usr/sbin/nologin imani</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="security-passwords">16.3.2. 密码哈希值<a class="anchor" href="#security-passwords"></a></h3>
<div class="paragraph">
<p>密码是技术中不可或缺的恶魔。当必须使用密码时，它们应该是复杂的，并且应该使用强大的哈希机制来加密存储在密码数据库中的版本。FreeBSD 支持多种算法，包括 SHA256、SHA512 和 Blowfish 哈希算法在其 <code>crypt()</code> 库中，详细信息请参阅 <a href="https://man.freebsd.org/cgi/man.cgi?query=crypt&amp;sektion=3&amp;format=html">crypt(3)</a>。</p>
</div>
<div class="paragraph">
<p>不应将 SHA512 的默认值更改为较不安全的哈希算法，但可以更改为更安全的 Blowfish 算法。</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Blowfish 不是 AES 的一部分，也不被认为符合任何联邦信息处理标准（FIPS）。在某些环境中可能不允许使用。</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>为了确定用于加密用户密码的哈希算法，超级用户可以查看 FreeBSD 密码数据库中用户的哈希值。每个哈希值都以一个符号开头，该符号指示用于加密密码的哈希机制的类型。</p>
</div>
<div class="paragraph">
<p>如果使用 DES 加密算法，没有起始符号。对于 MD5 算法，起始符号是 <code>$</code>。对于 SHA256 和 SHA512 算法，起始符号是 <code>$6$</code>。对于 Blowfish 算法，起始符号是 <code>$2a$</code>。在这个例子中，用户 <code>imani</code> 的密码使用默认的 SHA512 算法进行哈希处理，因为哈希值以 <code>$6$</code> 开头。请注意，存储在密码数据库中的是加密后的哈希值，而不是密码本身。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># grep imani /etc/master.passwd</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>输出应该类似于以下内容：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>imani:$6$pzIjSvCAn.PBYQBA$PXpSeWPx3g5kscj3IMiM7tUEUSPmGexxta.8Lt9TGSi2lNQqYGKszsBPuGME0:1001:1001::0:0:imani:/usr/home/imani:/bin/sh</pre>
</div>
</div>
<div class="paragraph">
<p>哈希机制是设置在用户的登录类中的。</p>
</div>
<div class="paragraph">
<p>可以运行以下命令来检查当前使用的哈希机制：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># grep user /etc/master.passwd</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>输出应该类似于以下内容：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>:passwd_format=sha512:\</pre>
</div>
</div>
<div class="paragraph">
<p>例如，要将算法更改为 Blowfish，将该行修改为以下内容：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>:passwd_format=blf:\</pre>
</div>
</div>
<div class="paragraph">
<p>然后，必须执行 <a href="https://man.freebsd.org/cgi/man.cgi?query=cap_mkdb&amp;sektion=1&amp;format=html">cap_mkdb(1)</a> 命令来升级 login.conf 数据库：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># cap_mkdb /etc/login.conf</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>请注意，此更改不会影响任何现有的密码哈希值。这意味着所有密码都应通过要求用户运行 <code>passwd</code> 来重新哈希，以更改他们的密码。</p>
</div>
</div>
<div class="sect2">
<h3 id="security-pwpolicy">16.3.3. 密码策略强制执行<a class="anchor" href="#security-pwpolicy"></a></h3>
<div class="paragraph">
<p>对本地账户强制执行强密码策略是系统安全的基本方面。在 FreeBSD 中，可以使用内置的可插拔认证模块（PAM）来实现密码长度、密码强度和密码复杂性。</p>
</div>
<div class="paragraph">
<p>本节演示了如何使用 <a href="https://man.freebsd.org/cgi/man.cgi?query=pam_passwdqc&amp;sektion=8&amp;format=html">pam_passwdqc(8)</a> 模块配置最小和最大密码长度以及强制使用混合字符。当用户更改密码时，将强制执行此模块。</p>
</div>
<div class="paragraph">
<p>要配置此模块，请成为超级用户，并取消注释包含 <code>pam_passwdqc.so</code> 的行，位于 <span class="filename">/etc/pam.d/passwd</span> 文件中。</p>
</div>
<div class="paragraph">
<p>然后，编辑该行以符合密码策略：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>password        requisite       pam_passwdqc.so         min=disabled,disabled,disabled,12,10 similar=deny retry=3 enforce=users</pre>
</div>
</div>
<div class="paragraph">
<p>参数的解释可以在 <a href="https://man.freebsd.org/cgi/man.cgi?query=pam_passwdqc&amp;sektion=8&amp;format=html">pam_passwdqc(8)</a> 中找到。</p>
</div>
<div class="paragraph">
<p>一旦保存了这个文件，用户更改密码时将看到类似以下的消息：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="gp">% </span>passwd</code></pre>
</div>
</div>
<div class="paragraph">
<p>输出应该类似于以下内容：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>Changing local password for user
Old Password:

You can now choose the new password.
A valid password should be a mix of upper and lower case letters,
digits and other characters.  You can use a 12 character long
password with characters from at least 3 of these 4 classes, or
a 10 character long password containing characters from all the
classes.  Characters that form a common pattern are discarded by
the check.
Alternatively, if no one else can see your terminal now, you can
pick this as your password: &#34;trait-useful&amp;knob&#34;.
Enter new password:</pre>
</div>
</div>
<div class="paragraph">
<p>如果输入的密码不符合策略要求，系统将拒绝并发出警告，用户将有机会再次尝试，最多可以重试配置的次数。</p>
</div>
<div class="paragraph">
<p>如果您的组织政策要求密码过期，FreeBSD 支持在用户的登录类中使用 <code>passwordtime</code> 选项，该选项可以在 <span class="filename">/etc/login.conf</span> 文件中设置。</p>
</div>
<div class="paragraph">
<p><code>default</code> 登录类包含一个示例：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>#       :passwordtime=90d:\</pre>
</div>
</div>
<div class="paragraph">
<p>因此，要为此登录类设置 90 天的到期时间，删除注释符号（＃），保存编辑，并执行以下命令：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># cap_mkdb /etc/login.conf</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>要为单个用户设置过期时间，请将过期日期或到期天数以及用户名传递给 <code>pw</code> 命令。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># pw usermod -p 30-apr-2025 -n user</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>如图所示，过期日期以日、月和年的形式设置。有关更多信息，请参阅 <a href="https://man.freebsd.org/cgi/man.cgi?query=pw&amp;sektion=8&amp;format=html">pw(8)</a>。</p>
</div>
</div>
<div class="sect2">
<h3 id="security-sudo">16.3.4. 使用 sudo 进行共享管理<a class="anchor" href="#security-sudo"></a></h3>
<div class="paragraph">
<p>系统管理员经常需要能够授予用户增强的权限，以便他们可以执行特权任务。团队成员被授予访问 FreeBSD 系统以执行他们的特定任务的想法，给每个管理员带来了独特的挑战。这些团队成员只需要超出普通用户级别的一部分访问权限；然而，他们几乎总是告诉管理层，如果没有超级用户访问权限，他们无法执行任务。幸运的是，没有必要为终端用户提供这样的访问权限，因为存在可以管理这个确切需求的工具。</p>
</div>
<div class="admonitionblock tip">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>即使是管理员，在不需要时也应该限制他们的权限。</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>到目前为止，安全章节已经涵盖了允许授权用户访问和防止未经授权访问的内容。一旦授权用户获得系统资源的访问权限，另一个问题就出现了。在许多情况下，一些用户可能需要访问应用程序启动脚本，或者一个管理员团队需要维护系统。传统上，标准用户和组、文件权限，甚至 <a href="https://man.freebsd.org/cgi/man.cgi?query=su&amp;sektion=1&amp;format=html">su(1)</a> 命令都可以管理这种访问权限。随着应用程序需要更多的访问权限，越来越多的用户需要使用系统资源，需要一个更好的解决方案。目前最常用的应用程序是 Sudo。</p>
</div>
<div class="paragraph">
<p>Sudo 允许管理员对系统命令进行更严格的访问配置，并提供一些高级日志记录功能。作为一个工具，可以通过 Ports Collection 中的 <a class="package" href="https://cgit.freebsd.org/ports/tree/security/sudo/">security/sudo</a> 包或使用 <a href="https://man.freebsd.org/cgi/man.cgi?query=pkg&amp;sektion=8&amp;format=html">pkg(8)</a> 实用程序来获取。</p>
</div>
<div class="paragraph">
<p>执行以下命令进行安装：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># pkg install sudo</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>安装完成后，安装的 <code>visudo</code> 将使用文本编辑器打开配置文件。强烈建议使用 <code>visudo</code>，因为它内置了语法检查器，可以在保存文件之前验证是否存在错误。</p>
</div>
<div class="paragraph">
<p>配置文件由几个小节组成，允许进行广泛的配置。在下面的示例中， Web 应用程序维护者 user1 需要启动、停止和重新启动名为 <em>webservice</em> 的 Web 应用程序。为了授予该用户执行这些任务的权限，请将以下行添加到 <span class="filename">/usr/local/etc/sudoers</span> 文件的末尾：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>user1   ALL=(ALL)       /usr/sbin/service webservice *</pre>
</div>
</div>
<div class="paragraph">
<p>用户现在可以使用以下命令启动 <em>webservice</em>：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="gp">% </span>sudo /usr/sbin/service webservice start</code></pre>
</div>
</div>
<div class="paragraph">
<p>虽然这个配置允许单个用户访问 webservice 服务；然而，在大多数组织中，有一个完整的网络团队负责管理该服务。一条单独的命令也可以给整个组提供访问权限。以下步骤将创建一个网络组，将用户添加到该组，并允许该组的所有成员管理该服务：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># pw groupadd -g 6001 -n webteam</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>使用相同的 <a href="https://man.freebsd.org/cgi/man.cgi?query=pw&amp;sektion=8&amp;format=html">pw(8)</a> 命令，将用户添加到 webteam 组中：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># pw groupmod -m user1 -n webteam</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>最后，这行代码在文件 <span class="filename">/usr/local/etc/sudoers</span> 中允许 webteam 组的任何成员管理 <em>webservice</em>。</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>%webteam   ALL=(ALL)       /usr/sbin/service webservice *</pre>
</div>
</div>
<div class="paragraph">
<p>与 <a href="https://man.freebsd.org/cgi/man.cgi?query=su&amp;sektion=1&amp;format=html">su(1)</a> 不同，<a href="https://man.freebsd.org/cgi/man.cgi?query=sudo&amp;sektion=8&amp;format=html">sudo(8)</a> 只需要最终用户的密码。这就避免了共享密码这种不良做法。</p>
</div>
<div class="paragraph">
<p>只有被允许使用 <a href="https://man.freebsd.org/cgi/man.cgi?query=sudo&amp;sektion=8&amp;format=html">sudo(8)</a> 运行应用程序的用户需要输入自己的密码。这比使用 <a href="https://man.freebsd.org/cgi/man.cgi?query=su&amp;sektion=1&amp;format=html">su(1)</a> 更安全，并且提供了更好的控制，因为在 <a href="https://man.freebsd.org/cgi/man.cgi?query=su&amp;sektion=1&amp;format=html">su(1)</a> 中需要输入 <code>root</code> 密码，用户将获得所有 <code>root</code> 权限。</p>
</div>
<div class="admonitionblock tip">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>大多数组织正在转向或已经采用了双因素认证模型。在这些情况下，用户可能没有密码可输入。</p>
</div>
<div class="paragraph">
<p><a href="https://man.freebsd.org/cgi/man.cgi?query=sudo&amp;sektion=8&amp;format=html">sudo(8)</a> 可以通过使用 <code>NOPASSWD</code> 变量来配置允许双因素认证模型。将其添加到上述配置中将允许 <em>webteam</em> 组的所有成员在不需要密码的情况下管理该服务。</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>%webteam   ALL=(ALL)       NOPASSWD: /usr/sbin/service webservice *</pre>
</div>
</div>
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect2">
<h3 id="security-doas">16.3.5. 使用 Doas 进行共享管理<a class="anchor" href="#security-doas"></a></h3>
<div class="paragraph">
<p><a href="https://man.freebsd.org/cgi/man.cgi?query=doas&amp;sektion=1&amp;format=html">doas(1)</a> 是一个从 OpenBSD 移植过来的命令行实用程序。它作为 Unix-like 系统中广泛使用的 <a href="https://man.freebsd.org/cgi/man.cgi?query=sudo&amp;sektion=8&amp;format=html">sudo(8)</a> 命令的替代品。</p>
</div>
<div class="paragraph">
<p>使用 doas，用户可以以提升的权限执行命令，通常是作为 root 用户，同时保持简化和注重安全的方法。与 <a href="https://man.freebsd.org/cgi/man.cgi?query=sudo&amp;sektion=8&amp;format=html">sudo(8)</a> 不同，doas 强调简单和极简主义，专注于简化的权限委派，而不是提供过多的配置选项。</p>
</div>
<div class="paragraph">
<p>执行以下命令进行安装：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># pkg install doas</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>安装完成后，必须配置 <span class="filename">/usr/local/etc/doas.conf</span>，以授予用户对特定命令或角色的访问权限。</p>
</div>
<div class="paragraph">
<p>最简单的条目可以是以下内容，它在执行 doas 命令时授予用户 <code>local_user</code> 以 <code>root</code> 权限，而无需输入密码。</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>permit nopass local_user as root</pre>
</div>
</div>
<div class="paragraph">
<p>在安装和配置 <code>doas</code> 实用程序之后，现在可以使用增强的权限执行命令，例如：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="gp">$ </span>doas vi /etc/rc.conf</code></pre>
</div>
</div>
<div class="paragraph">
<p>要获取更多的配置示例，请阅读 <a href="https://man.freebsd.org/cgi/man.cgi?query=doas.conf&amp;sektion=5&amp;format=html">doas.conf(5)</a>。</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="security-ids">16.4. 入侵检测系统（IDS）<a class="anchor" href="#security-ids"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>验证系统文件和二进制文件的重要性在于为系统管理和安全团队提供有关系统变化的信息。监控系统变化的软件应用程序称为入侵检测系统（IDS）。</p>
</div>
<div class="paragraph">
<p>FreeBSD 提供了对一种名为 <a href="https://man.freebsd.org/cgi/man.cgi?query=mtree&amp;sektion=8&amp;format=html">mtree(8)</a> 的基本 IDS 系统的本地支持。虽然每晚的安全电子邮件会通知管理员有关系统变更的信息，但这些信息是存储在本地的，恶意用户有可能修改这些信息以隐藏对系统的更改。因此，建议创建一个单独的二进制签名集，并将其存储在只读、属于 root 的目录上，或者更好地，存储在可移动的 USB 磁盘或远程服务器上。</p>
</div>
<div class="paragraph">
<p>每次更新后，建议运行 <code>freebsd-update IDS</code>。</p>
</div>
<div class="sect2">
<h3 id="security-ids-generate-spec-file">16.4.1. 生成规范文件<a class="anchor" href="#security-ids-generate-spec-file"></a></h3>
<div class="paragraph">
<p>内置的 <a href="https://man.freebsd.org/cgi/man.cgi?query=mtree&amp;sektion=8&amp;format=html">mtree(8)</a> 实用程序可用于生成目录内容的规范。使用种子或数字常量生成规范，并且需要使用种子来检查规范是否发生了变化。这使得可以确定文件或二进制文件是否已被修改。由于攻击者不知道种子值，因此伪造或检查文件的校验和值将变得困难或几乎不可能。</p>
</div>
<div class="admonitionblock tip">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>建议为包含二进制文件和配置文件的目录以及包含敏感数据的目录创建规范。通常，会为 <span class="filename">/bin</span>、<span class="filename">/sbin</span>、<span class="filename">/usr/bin</span>、<span class="filename">/usr/sbin</span>、<span class="filename">/usr/local/bin</span>、<span class="filename">/etc</span> 和 <span class="filename">/usr/local/etc</span> 创建规范。</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>以下示例生成一组 <code>sha512</code> 哈希值，每个哈希值对应于 <span class="filename">/bin</span> 目录中的系统二进制文件，并将这些值保存到用户主目录下的隐藏文件 <span class="filename">/home/user/.bin_chksum_mtree</span> 中。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># mtree -s 123456789 -c -K cksum,sha512 -p /bin &gt; /home/user/.bin_chksum_mtree</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>输出应该类似于以下内容：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>mtree: /bin checksum: 3427012225</pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p><code>123456789</code> 值代表种子，应该随机选择。这个值应该被记住，<strong>但不要分享</strong> 。</p>
</div>
<div class="paragraph">
<p>将种子值和校验和输出对恶意用户保密是很重要的。</p>
</div>
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect2">
<h3 id="security-ids-spec-file-structure">16.4.2. 规范文件结构<a class="anchor" href="#security-ids-spec-file-structure"></a></h3>
<div class="paragraph">
<p>mtree 格式是一种描述文件系统对象集合的文本格式。这种文件通常用于创建或验证目录层次结构。</p>
</div>
<div class="paragraph">
<p>一个 mtree 文件由一系列行组成，每行提供有关单个文件系统对象的信息。前导空格始终被忽略。</p>
</div>
<div class="paragraph">
<p>上面创建的规范文件将用于解释格式和内容：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>#          user: root <i class="conum" data-value="1"></i><b>(1)</b>
#       machine: machinename <i class="conum" data-value="2"></i><b>(2)</b>
#          tree: /bin <i class="conum" data-value="3"></i><b>(3)</b>
#          date: Thu Aug  24 21:58:37 2023 <i class="conum" data-value="4"></i><b>(4)</b>

# .
/set type=file uid=0 gid=0 mode=0555 nlink=1 flags=uarch <i class="conum" data-value="5"></i><b>(5)</b>
.               type=dir mode=0755 nlink=2 time=1681388848.239523000 <i class="conum" data-value="6"></i><b>(6)</b>
    \133        nlink=2 size=12520 time=1685991378.688509000 \
                cksum=520880818 \
                sha512=5c1374ce0e2ba1b3bc5a41b23f4bbdc1ec89ae82fa01237f376a5eeef41822e68f1d8f75ec46b7bceb65396c122a9d837d692740fdebdcc376a05275adbd3471
    cat         size=14600 time=1685991378.694601000 cksum=3672531848 \ <i class="conum" data-value="7"></i><b>(7)</b>
                sha512=b30b96d155fdc4795432b523989a6581d71cdf69ba5f0ccb45d9b9e354b55a665899b16aee21982fffe20c4680d11da4e3ed9611232a775c69f926e5385d53a2
    chflags     size=8920 time=1685991378.700385000 cksum=1629328991 \
                sha512=289a088cbbcbeb436dd9c1f74521a89b66643976abda696b99b9cc1fbfe8b76107c5b54d4a6a9b65332386ada73fc1bbb10e43c4e3065fa2161e7be269eaf86a
    chio        size=20720 time=1685991378.706095000 cksum=1948751604 \
                sha512=46f58277ff16c3495ea51e74129c73617f31351e250315c2b878a88708c2b8a7bb060e2dc8ff92f606450dbc7dd2816da4853e465ec61ee411723e8bf52709ee
    chmod       size=9616 time=1685991378.712546000 cksum=4244658911 \
                sha512=1769313ce08cba84ecdc2b9c07ef86d2b70a4206420dd71343867be7ab59659956f6f5a458c64e2531a1c736277a8e419c633a31a8d3c7ccc43e99dd4d71d630</pre>
</div>
</div>
<div class="colist arabic">
<table>
<tbody><tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>创建规范的用户。 &lt;.&gt; 机器的主机名。 &lt;.&gt; 目录路径。 &lt;.&gt; 规范创建的日期和时间。 &lt;.&gt; <code>/set</code> 特殊命令，定义从分析的文件中获取的一些设置。 &lt;.&gt; 指的是解析的目录，并指示其类型、模式、硬链接数量和自修改以来的 UNIX 格式时间。 &lt;.&gt; 指的是文件，显示大小、时间和一系列哈希值以验证完整性。</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect2">
<h3 id="security-ids-verify-specification-file">16.4.3. 验证规范文件<a class="anchor" href="#security-ids-verify-specification-file"></a></h3>
<div class="paragraph">
<p>为了验证二进制签名是否发生了变化，将当前目录的内容与先前生成的规范进行比较，并将结果保存到文件中。</p>
</div>
<div class="paragraph">
<p>该命令需要用于生成原始规范的种子。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># mtree -s 123456789 -p /bin &lt; /home/user/.bin_chksum_mtree &gt;&gt; /home/user/.bin_chksum_output</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>这应该会为 <span class="filename">/bin</span> 生成与创建规范时相同的校验和。如果在此目录中的二进制文件没有发生任何更改， <span class="filename">/home/user/.bin_chksum_output</span> 输出文件将为空。</p>
</div>
<div class="paragraph">
<p>为了模拟一个变化，使用 <a href="https://man.freebsd.org/cgi/man.cgi?query=touch&amp;sektion=1&amp;format=html">touch(1)</a> 命令更改 <span class="filename">/bin/cat</span> 的日期，然后再次运行验证命令：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># touch /bin/cat</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>再次运行验证命令：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># mtree -s 123456789 -p /bin &lt; /home/user/.bin_chksum_mtree &gt;&gt; /home/user/.bin_chksum_output</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>然后检查输出文件的内容：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># cat /root/.bin_chksum_output</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>输出应该类似于以下内容：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>cat:    modification time (Fri Aug 25 13:30:17 2023, Fri Aug 25 13:34:20 2023)</pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>这只是一个示例，展示执行命令时将显示的元数据更改。</p>
</div>
</td>
</tr>
</tbody></table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="security-secure-levels">16.5. 安全级别<a class="anchor" href="#security-secure-levels"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>securelevel 是内核中实现的一种安全机制。当 securelevel 为正数时，内核会限制某些任务的执行；即使是超级用户（root）也不被允许执行这些任务。</p>
</div>
<div class="paragraph">
<p>securelevel 机制限制了以下能力：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>取消特定文件标志，例如 <code>schg</code>（系统不可变标志）。</p>
</li>
<li>
<p>通过 <span class="filename">/dev/mem</span> 和 <span class="filename">/dev/kmem</span> 来写入内核内存。</p>
</li>
<li>
<p>加载内核模块。</p>
</li>
<li>
<p>修改防火墙规则。</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="security-secure-levels-definitions">16.5.1. 安全级别定义<a class="anchor" href="#security-secure-levels-definitions"></a></h3>
<div class="paragraph">
<p>内核运行在五个不同的安全级别下。任何超级用户进程都可以提升级别，但没有进程可以降低级别。</p>
</div>
<div class="paragraph">
<p>安全定义如下：</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">-1</dt>
<dd>
<p><strong>永久不安全模式</strong> - 始终以不安全模式运行系统。
这是默认的初始值。</p>
</dd>
<dt class="hdlist1">0</dt>
<dd>
<p><strong>安全模式</strong> - 可以关闭不可变和仅追加标志。
所有设备都可以根据其权限进行读取或写入。</p>
</dd>
<dt class="hdlist1">1</dt>
<dd>
<p><strong>安全模式</strong> - 系统的不可变和系统的只追加标志不能被关闭；
挂载的文件系统的磁盘、<span class="filename">/dev/mem</span> 和 <span class="filename">/dev/kmem</span> 不能被打开以进行写操作；
<span class="filename">/dev/io</span> （如果您的平台有的话）不能被打开；
内核模块（参见 <a href="https://man.freebsd.org/cgi/man.cgi?query=kld&amp;sektion=4&amp;format=html">kld(4)</a>）不能被加载或卸载。
不能使用 debug.kdb.enter sysctl 进入内核调试器。
不能使用 debug.kdb.panic、debug.kdb.panic_str 和其他 sysctl 来强制发生恐慌或陷阱。</p>
</dd>
<dt class="hdlist1">2</dt>
<dd>
<p><strong>高度安全模式</strong> - 与安全模式相同，但是除了 <a href="https://man.freebsd.org/cgi/man.cgi?query=mount&amp;sektion=2&amp;format=html">mount(2)</a> 之外，不允许打开磁盘进行写入操作，无论是否已挂载。
这个级别防止通过卸载文件系统来篡改它们，但同时也阻止在系统处于多用户状态下运行 <a href="https://man.freebsd.org/cgi/man.cgi?query=newfs&amp;sektion=8&amp;format=html">newfs(8)</a>。</p>
</dd>
<dt class="hdlist1">3</dt>
<dd>
<p><strong>网络安全模式</strong> - 与高度安全模式相同，还包括无法更改 IP 数据包过滤规则（参见 <a href="https://man.freebsd.org/cgi/man.cgi?query=ipfw&amp;sektion=8&amp;format=html">ipfw(8)</a>，<a href="https://man.freebsd.org/cgi/man.cgi?query=ipfirewall&amp;sektion=4&amp;format=html">ipfirewall(4)</a> 和 <a href="https://man.freebsd.org/cgi/man.cgi?query=pfctl&amp;sektion=8&amp;format=html">pfctl(8)</a>），以及无法调整 <a href="https://man.freebsd.org/cgi/man.cgi?query=dummynet&amp;sektion=4&amp;format=html">dummynet(4)</a> 或 <a href="https://man.freebsd.org/cgi/man.cgi?query=pf&amp;sektion=4&amp;format=html">pf(4)</a> 配置。</p>
</dd>
</dl>
</div>
<div class="admonitionblock tip">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>总结一下，在 FreeBSD 安全级别中，<code>永久不安全模式</code> 和 <code>不安全模式</code> 的关键区别在于它们提供的安全程度。<code>永久不安全模式</code> 完全解除了所有安全限制，而 <code>不安全模式</code> 放宽了一些限制，但仍保持一定的控制和安全性。</p>
</div>
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect2">
<h3 id="security-modify-secure-levels">16.5.2. 修改安全级别<a class="anchor" href="#security-modify-secure-levels"></a></h3>
<div class="paragraph">
<p>为了改变系统的安全级别，需要通过执行以下命令来激活 <code>kern_securelevel_enable</code>：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># sysrc kern_securelevel_enable=&#34;YES&#34;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>将 <code>kern_securelevel</code> 的值设置为所需的安全级别：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># sysrc kern_securelevel=2</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>要检查运行中系统的安全级别状态，请执行以下命令：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># sysctl -n kern.securelevel</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>输出包含了当前安全级别的值。如果该值大于 0 ，则表示安全级别的一些保护功能已经启用。</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>-1</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="security-file-flags">16.6. 文件标志<a class="anchor" href="#security-file-flags"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>文件标志允许用户在基本权限和所有权之外，为文件和目录附加额外的元数据或属性。这些标志提供了一种控制文件的各种行为和属性的方式，而无需创建特殊目录或使用扩展属性。</p>
</div>
<div class="paragraph">
<p>文件标志可以用于实现不同的目标，比如防止文件被删除，使文件只能追加，同步文件更新等等。在 FreeBSD 中，一些常用的文件标志包括“immutable”标志，它防止文件被修改或删除，以及“append-only”标志，它只允许在文件末尾添加数据，而不能修改或删除数据。</p>
</div>
<div class="paragraph">
<p>在 FreeBSD 中，可以使用 <a href="https://man.freebsd.org/cgi/man.cgi?query=chflags&amp;sektion=1&amp;format=html">chflags(1)</a> 命令来管理这些标志，为管理员和用户提供对其文件和目录的行为和特性具有更大的控制权。需要注意的是，文件标志通常由 root 用户或具有适当权限的用户管理，因为它们可以影响文件的访问和操作方式。一些标志可供文件所有者使用，详见 <a href="https://man.freebsd.org/cgi/man.cgi?query=chflags&amp;sektion=1&amp;format=html">chflags(1)</a>。</p>
</div>
<div class="sect2">
<h3 id="security-work-file-flag">16.6.1. 处理文件标志<a class="anchor" href="#security-work-file-flag"></a></h3>
<div class="paragraph">
<p>在这个例子中，用户的主目录中有一个名为 <span class="filename">~/important.txt</span> 的文件，希望对其进行防删除保护。</p>
</div>
<div class="paragraph">
<p>执行以下命令来设置 <code>schg</code> 文件标志：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># chflags schg ~/important.txt</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>当任何用户，包括 <code>root</code> 用户，尝试删除该文件时，系统将显示以下消息：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>rm: important.txt: Operation not permitted</pre>
</div>
</div>
<div class="paragraph">
<p>要删除该文件，需要执行以下命令来删除该文件的文件标志：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># chflags noschg ~/important.txt</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>可以在 <a href="https://man.freebsd.org/cgi/man.cgi?query=chflags&amp;sektion=1&amp;format=html">chflags(1)</a> 中找到支持的文件标志及其功能的列表。</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="openssh">16.7. OpenSSH<a class="anchor" href="#openssh"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>OpenSSH 是一组网络连接工具，用于提供对远程机器的安全访问。此外，可以通过 SSH 连接安全地隧道或转发 TCP/IP 连接。OpenSSH 对所有流量进行加密，以消除窃听、连接劫持和其他网络级攻击。</p>
</div>
<div class="paragraph">
<p>OpenSSH 由 OpenBSD 项目维护，并且在 FreeBSD 中默认安装。</p>
</div>
<div class="paragraph">
<p>当数据以未加密的形式通过网络发送时，位于客户端和服务器之间的网络嗅探器可以窃取用户/密码信息或在会话期间传输的数据。OpenSSH 提供了各种身份验证和加密方法，以防止这种情况发生。</p>
</div>
<div class="paragraph">
<p>有关 OpenSSH 的更多信息，请访问 <a href="https://www.openssh.com/">这个页面</a>。</p>
</div>
<div class="paragraph">
<p>本节提供了内置的客户端工具的概述，用于安全地访问其他系统并从 FreeBSD 系统安全地传输文件。然后，它描述了如何在 FreeBSD 系统上配置 SSH 服务器。</p>
</div>
<div class="admonitionblock tip">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>如上所述，本章将介绍 OpenSSH 的基本系统版本。OpenSSH 的一个版本也可以在包 security/openssh-portable[] 中找到，该版本提供了额外的配置选项，并且定期更新。</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="sect2">
<h3 id="_使用_ssh_客户端工具">16.7.1. 使用 SSH 客户端工具<a class="anchor" href="#_使用_ssh_客户端工具"></a></h3>
<div class="paragraph">
<p>要登录到 SSH 服务器，使用 <a href="https://man.freebsd.org/cgi/man.cgi?query=ssh&amp;sektion=1&amp;format=html">ssh(1)</a> 命令，并指定存在于该服务器上的用户名以及服务器的 IP 地址或主机名。如果这是第一次连接到指定的服务器，用户将被提示首先验证服务器的指纹：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># ssh user@example.com</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>输出应该类似于以下内容：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>The authenticity of host &#39;example.com (10.0.0.1)&#39; can&#39;t be established.
ECDSA key fingerprint is 25:cc:73:b5:b3:96:75:3d:56:19:49:d2:5c:1f:91:3b.
Are you sure you want to continue connecting (yes/no)? yes
Permanently added &#39;example.com&#39; (ECDSA) to the list of known hosts.
Password for user@example.com: user_password</pre>
</div>
</div>
<div class="paragraph">
<p>SSH 利用密钥指纹系统来验证客户端连接时服务器的真实性。当用户在首次连接时通过输入 <code>yes</code> 接受密钥的指纹时，密钥的副本将保存在用户的主目录下的 <span class="filename">~/.ssh/known_hosts</span> 文件中。将来的登录尝试将根据保存的密钥进行验证，如果服务器的密钥与保存的密钥不匹配， <a href="https://man.freebsd.org/cgi/man.cgi?query=ssh&amp;sektion=1&amp;format=html">ssh(1)</a> 将显示警告。如果发生这种情况，用户应该首先验证密钥为何发生变化，然后再继续连接。</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>如何执行此检查超出了本章的范围。</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>使用 <a href="https://man.freebsd.org/cgi/man.cgi?query=scp&amp;sektion=1&amp;format=html">scp(1)</a> 命令可以安全地将文件从本地复制到远程机器，或者从远程机器复制到本地。</p>
</div>
<div class="paragraph">
<p>这个例子将远程系统上的 <code>COPYRIGHT</code> 文件复制到本地系统当前目录下同名的文件中：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># scp user@example.com:/COPYRIGHT COPYRIGHT</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>输出应该类似于以下内容：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>Password for user@example.com: *******
COPYRIGHT            100% |*****************************|  4735</pre>
</div>
</div>
<div class="paragraph">
<p>由于该主机的指纹已经验证过，因此在提示用户输入密码之前，服务器的密钥会自动进行检查。</p>
</div>
<div class="paragraph">
<p>传递给 <a href="https://man.freebsd.org/cgi/man.cgi?query=scp&amp;sektion=1&amp;format=html">scp(1)</a> 的参数与 <a href="https://man.freebsd.org/cgi/man.cgi?query=cp&amp;sektion=1&amp;format=html">cp(1)</a> 类似。要复制的文件或文件是第一个参数，要复制到的目标是第二个参数。由于文件是通过网络获取的，因此一个或多个文件参数采用 <code>user@host:&lt;path_to_remote_file&gt;</code> 的形式。在递归复制目录时，请注意 <a href="https://man.freebsd.org/cgi/man.cgi?query=scp&amp;sektion=1&amp;format=html">scp(1)</a> 使用 <code>-r</code>，而 <a href="https://man.freebsd.org/cgi/man.cgi?query=cp&amp;sektion=1&amp;format=html">cp(1)</a> 使用 <code>-R</code>。</p>
</div>
<div class="paragraph">
<p>要打开一个用于复制文件的交互式会话，请使用 <a href="https://man.freebsd.org/cgi/man.cgi?query=sftp&amp;sektion=1&amp;format=html">sftp(1)</a>。</p>
</div>
<div class="paragraph">
<p>在 <a href="https://man.freebsd.org/cgi/man.cgi?query=sftp&amp;sektion=1&amp;format=html">sftp(1)</a> 会话中，可以参考 <a href="https://man.freebsd.org/cgi/man.cgi?query=sftp&amp;sektion=1&amp;format=html">sftp(1)</a> 获取可用命令的列表。</p>
</div>
</div>
<div class="sect2">
<h3 id="security-ssh-keygen">16.7.2. 基于密钥的身份验证<a class="anchor" href="#security-ssh-keygen"></a></h3>
<div class="paragraph">
<p>客户端可以配置为使用密钥连接到远程机器，而不是使用密码。出于安全原因，这是首选的方法。</p>
</div>
<div class="paragraph">
<p><a href="https://man.freebsd.org/cgi/man.cgi?query=ssh-keygen&amp;sektion=1&amp;format=html">ssh-keygen(1)</a> 可以用来生成身份验证密钥。要生成公钥和私钥对，请指定密钥类型并按照提示操作。建议使用易于记住但难以猜测的密码来保护密钥。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="gp">% </span>ssh-keygen -t rsa -b 4096</code></pre>
</div>
</div>
<div class="paragraph">
<p>输出应该类似于以下内容：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>Generating public/private rsa key pair.
Enter file in which to save the key (/home/user/.ssh/id_rsa):
Created directory &#39;/home/user/.ssh/.ssh&#39;.
Enter passphrase (empty for no passphrase):
Enter same passphrase again:
Your identification has been saved in /home/user/.ssh/id_rsa.
Your public key has been saved in /home/user/.ssh/id_rsa.pub.
The key fingerprint is:
SHA256:54Xm9Uvtv6H4NOo6yjP/YCfODryvUU7yWHzMqeXwhq8 user@host.example.com
The key&#39;s randomart image is:
+---[RSA 2048]----+
|                 |
|                 |
|                 |
|        . o..    |
|       .S*+*o    |
|      . O=Oo . . |
|       = Oo= oo..|
|      .oB.* +.oo.|
|       =OE**.o..=|
+----[SHA256]-----+</pre>
</div>
</div>
<div class="paragraph">
<p>私钥存储在 <span class="filename">~/.ssh/id_rsa</span> 中，公钥存储在 <span class="filename">~/.ssh/id_rsa.pub</span> 中。为了使基于密钥的身份验证工作，必须将 <em>公钥</em> 复制到远程机器上的 <span class="filename">~/.ssh/authorized_keys</span>。</p>
</div>
<div class="admonitionblock warning">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>为 OpenSSH 密钥使用密码短语是一种关键的安全实践，可以提供额外的保护层，防止未经授权的访问，并增强整体网络安全性。</p>
</div>
<div class="paragraph">
<p>在遗失或被盗的情况下，这增加了另一层安全保障。</p>
</div>
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect2">
<h3 id="security-ssh-tunneling">16.7.3. SSH 隧道<a class="anchor" href="#security-ssh-tunneling"></a></h3>
<div class="paragraph">
<p>OpenSSH 具有创建隧道的能力，可以在加密会话中封装另一种协议。</p>
</div>
<div class="paragraph">
<p>以下命令告诉 <a href="https://man.freebsd.org/cgi/man.cgi?query=ssh&amp;sektion=1&amp;format=html">ssh(1)</a> 创建一个隧道：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="gp">% </span>ssh -D 8080 user@example.com</code></pre>
</div>
</div>
<div class="paragraph">
<p>这个例子使用了以下选项：</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">-D</dt>
<dd>
<p>指定了一个本地的“动态（dynamic）”应用层端口转发。</p>
</dd>
<dt class="hdlist1"><a href="mailto:user@foo.example.com">user@foo.example.com</a></dt>
<dd>
<p>在指定的远程 SSH 服务器上使用的登录名。</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>SSH 隧道通过在指定的 <code>localport</code> 上在 <code>localhost</code> 上创建一个监听套接字来工作。</p>
</div>
<div class="paragraph">
<p>这种方法可以用来包装任意数量的不安全的 TCP 协议，如 SMTP、 POP3 和 FTP。</p>
</div>
</div>
<div class="sect2">
<h3 id="_启用_ssh_服务器">16.7.4. 启用 SSH 服务器<a class="anchor" href="#_启用_ssh_服务器"></a></h3>
<div class="paragraph">
<p>除了提供内置的 SSH 客户端工具外， FreeBSD 系统还可以配置为 SSH 服务器，接受来自其他 SSH 客户端的连接。</p>
</div>
<div class="admonitionblock tip">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>正如所述，本章将涵盖 OpenSSH 的基本系统版本。请 <strong>不要</strong> 与 <a class="package" href="https://cgit.freebsd.org/ports/tree/security/openssh-portable/">security/openssh-portable</a> 混淆，后者是随 FreeBSD ports 一起提供的 OpenSSH 版本。</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>为了在重新启动后启用 SSH 服务器，请执行以下命令：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># sysrc sshd_enable=&#34;YES&#34;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>然后执行以下命令以启用该服务：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># service sshd start</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>在 FreeBSD 系统上首次启动 sshd 时，系统的主机密钥将会自动创建，并且指纹将会显示在控制台上。提供用户指纹，以便他们在首次连接服务器时进行验证。</p>
</div>
<div class="paragraph">
<p>请参考 <a href="https://man.freebsd.org/cgi/man.cgi?query=sshd&amp;sektion=8&amp;format=html">sshd(8)</a> 以获取在启动 sshd 时可用的选项列表，以及有关身份验证、登录过程和各种配置文件的更完整的讨论。</p>
</div>
<div class="paragraph">
<p>在这一点上，sshd 应该对系统上所有具有用户名和密码的用户可用。</p>
</div>
</div>
<div class="sect2">
<h3 id="config-publickey-auth">16.7.5. 配置公钥身份验证方法<a class="anchor" href="#config-publickey-auth"></a></h3>
<div class="paragraph">
<p>通过配置 OpenSSH 使用公钥身份验证，可以通过利用非对称加密进行身份验证来增强安全性。这种方法消除了与密码相关的风险，例如弱密码或在传输过程中的拦截，同时阻止了各种基于密码的攻击。然而，确保私钥受到良好保护以防止未经授权的访问非常重要。</p>
</div>
<div class="paragraph">
<p>第一步是配置 <a href="https://man.freebsd.org/cgi/man.cgi?query=sshd&amp;sektion=8&amp;format=html">sshd(8)</a> 以使用所需的身份验证方法。</p>
</div>
<div class="paragraph">
<p>编辑 <span class="filename">/etc/ssh/sshd_config</span> 文件，并取消以下配置的注释：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>PubkeyAuthentication yes</pre>
</div>
</div>
<div class="paragraph">
<p>一旦配置完成，用户将需要将他们的 <strong>公钥</strong> 发送给系统管理员，这些密钥将被添加到 <span class="filename">.ssh/authorized_keys</span> 文件中。生成密钥的过程在 <a href="#Key-based Authentication">基于密钥的身份验证</a> 中描述。</p>
</div>
<div class="paragraph">
<p>然后执行以下命令重新启动服务器：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># service sshd reload</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>强烈建议按照 <a href="#security-sshd-security-options">SSH 服务器安全选项</a> 中指示的安全改进措施进行操作。</p>
</div>
</div>
<div class="sect2">
<h3 id="security-sshd-security-options">16.7.6. SSH 服务器安全选项<a class="anchor" href="#security-sshd-security-options"></a></h3>
<div class="paragraph">
<p>尽管 sshd 是 FreeBSD 最广泛使用的远程管理工具，但暴力破解和驱动攻击对于任何暴露在公共网络中的系统来说都是常见的。</p>
</div>
<div class="paragraph">
<p>本节将介绍几个可用的额外参数，以防止这些攻击的成功。所有配置都将在 <span class="filename">/etc/ssh/sshd_config</span> 文件中完成。</p>
</div>
<div class="admonitionblock tip">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>不要将 <span class="filename">/etc/ssh/sshd_config</span> 与 <span class="filename">/etc/ssh/ssh_config</span> 混淆（注意第一个文件名中多了一个 <code>d</code>）。第一个文件配置服务器，第二个文件配置客户端。请参考 <a href="https://man.freebsd.org/cgi/man.cgi?query=ssh_config&amp;sektion=5&amp;format=html">ssh_config(5)</a> 以获取可用客户端设置的列表。</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>默认情况下，可以使用公钥和密码进行身份验证。为了 <strong>仅</strong> 允许公钥身份验证，<strong>强烈推荐</strong>，请更改变量：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>PasswordAuthentication no</pre>
</div>
</div>
<div class="paragraph">
<p>在 OpenSSH 服务器配置文件中使用 <code>AllowUsers</code> 关键字限制哪些用户可以登录 SSH 服务器以及从哪里登录是一个好主意。例如，要仅允许 <code>user</code> 从 <code>192.168.1.32</code> 登录，将以下行添加到 <span class="filename">/etc/ssh/sshd_config</span> 文件中：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>AllowUsers user@192.168.1.32</pre>
</div>
</div>
<div class="paragraph">
<p>为了允许 <code>user</code> 从任何地方登录，列出该用户而不指定 IP 地址：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>AllowUsers user</pre>
</div>
</div>
<div class="paragraph">
<p>多个用户应该在同一行上列出，如下所示：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>AllowUsers root@192.168.1.32 user</pre>
</div>
</div>
<div class="paragraph">
<p>在进行所有更改之后，在重新启动服务之前，建议通过执行以下命令来验证所做的配置是否正确：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># sshd -t</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>如果配置文件正确，将不会显示任何输出。如果配置文件不正确，将会显示类似以下内容：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>/etc/ssh/sshd_config: line 3: Bad configuration option: sdadasdasdasads
/etc/ssh/sshd_config: terminating, 1 bad configuration options</pre>
</div>
</div>
<div class="paragraph">
<p>在进行更改并确认配置文件正确后，通过运行以下命令告诉 sshd 重新加载其配置文件：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># service sshd reload</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="openssl">16.8. OpenSSL<a class="anchor" href="#openssl"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>OpenSSL 是一个实现安全套接字层（SSL）和传输层安全（TLS）网络协议以及许多密码学例程的密码学工具包。</p>
</div>
<div class="paragraph">
<p>openssl 程序是一个命令行工具，用于在 shell 中使用 OpenSSL 的加密库的各种加密功能。它可以用于</p>
</div>
<div class="ulist">
<ul>
<li>
<p>私钥、公钥和参数的创建和管理</p>
</li>
<li>
<p>公钥加密操作</p>
</li>
<li>
<p>创建 X.509 证书、证书签名请求（CSR）和证书撤销列表（CRL）</p>
</li>
<li>
<p>消息摘要的计算</p>
</li>
<li>
<p>使用密码进行加密和解密</p>
</li>
<li>
<p>SSL/TLS 客户端和服务器测试</p>
</li>
<li>
<p>处理 S/MIME 签名或加密邮件</p>
</li>
<li>
<p>时间戳请求、生成和验证</p>
</li>
<li>
<p>对加密算法进行基准测试</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>有关 OpenSSL 的更多信息，请阅读免费的 <a href="https://www.feistyduck.com/books/openssl-cookbook/">OpenSSL Cookbook</a>。</p>
</div>
<div class="sect2">
<h3 id="generating-certificates">16.8.1. 生成证书<a class="anchor" href="#generating-certificates"></a></h3>
<div class="paragraph">
<p>OpenSSL 支持生成证书，既可以由证书颁发机构（CA）验证，也可以供自己使用。</p>
</div>
<div class="paragraph">
<p>运行命令 <a href="https://man.freebsd.org/cgi/man.cgi?query=openssl&amp;sektion=1&amp;format=html">openssl(1)</a> 以使用以下参数生成一个有效的证书，用于一个名为 <a href="https://en.wikipedia.org/wiki/Certificate_authority">CA</a> 的证书颁发机构。该命令将在当前目录中创建两个文件。证书请求文件 <span class="filename">req.pem</span> 可以发送给 <a href="https://en.wikipedia.org/wiki/Certificate_authority">CA</a> ，该机构将验证输入的凭据，签署请求并返回签署后的证书。第二个文件 <span class="filename">cert.key</span> 是证书的私钥，应存放在安全的位置。如果该私钥落入他人之手，可能被用来冒充用户或服务器。</p>
</div>
<div class="paragraph">
<p>执行以下命令以生成证书：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># openssl req -new -nodes -out req.pem -keyout cert.key -sha3-512 -newkey rsa:4096</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>输出应该类似于以下内容：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>Generating a RSA private key
..................................................................................................................................+++++
......................................+++++
writing new private key to &#39;cert.key&#39;
-----
You are about to be asked to enter information that will be incorporated
into your certificate request.
What you are about to enter is what is called a Distinguished Name or a DN.
There are quite a few fields but you can leave some blank
For some fields there will be a default value,
If you enter &#39;.&#39;, the field will be left blank.
-----
Country Name (2 letter code) [AU]:ES
State or Province Name (full name) [Some-State]:Valencian Community
Locality Name (eg, city) []:Valencia
Organization Name (eg, company) [Internet Widgits Pty Ltd]:My Company
Organizational Unit Name (eg, section) []:Systems Administrator
Common Name (e.g. server FQDN or YOUR name) []:localhost.example.org
Email Address []:user@FreeBSD.org

Please enter the following &#39;extra&#39; attributes
to be sent with your certificate request
A challenge password []:123456789
An optional company name []:Another name</pre>
</div>
</div>
<div class="paragraph">
<p>或者，如果不需要来自 <a href="https://en.wikipedia.org/wiki/Certificate_authority">CA</a> 的签名，可以创建自签名证书。这将在当前目录中创建两个新文件：私钥文件 <span class="filename">cert.key</span> 和证书本身 <span class="filename">cert.crt</span>。这些文件应该放在一个目录中，最好是在 <span class="filename">/etc/ssl/</span> 下，该目录只能由 <code>root</code> 用户读取。对于这些文件，适当的权限是 <code>0700</code> ，可以使用 <code>chmod</code> 命令设置。</p>
</div>
<div class="paragraph">
<p>执行以下命令以生成证书：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># openssl req -new -x509 -days 365 -sha3-512 -keyout /etc/ssl/private/cert.key -out /etc/ssl/certs/cert.crt</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>输出应该类似于以下内容：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>Generating a RSA private key
........................................+++++
...........+++++
writing new private key to &#39;/etc/ssl/private/cert.key&#39;
Enter PEM pass phrase:
Verifying - Enter PEM pass phrase:
-----
You are about to be asked to enter information that will be incorporated
into your certificate request.
What you are about to enter is what is called a Distinguished Name or a DN.
There are quite a few fields but you can leave some blank
For some fields there will be a default value,
If you enter &#39;.&#39;, the field will be left blank.
-----
Country Name (2 letter code) [AU]:ES
State or Province Name (full name) [Some-State]:Valencian Community
Locality Name (eg, city) []:Valencia
Organization Name (eg, company) [Internet Widgits Pty Ltd]:My Company
Organizational Unit Name (eg, section) []:Systems Administrator
Common Name (e.g. server FQDN or YOUR name) []:localhost.example.org
Email Address []:user@FreeBSD.org</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="fips-provider">16.8.2. 配置 FIPS 提供程序<a class="anchor" href="#fips-provider"></a></h3>
<div class="paragraph">
<p>随着 OpenSSL 3 进入基础系统（在 FreeBSD 14 及更高版本中），系统引入了其新的提供者模块概念。除了库中内置的默认提供者模块外，<em>legacy</em> 模块实现了现在可选的已弃用的密码算法，而 <em>fips</em> 模块将 OpenSSL 实现限制为链接中存在的密码算法： <a href="https://en.wikipedia.org/wiki/Federal_Information_Processing_Standards">FIPS</a> 标准集。OpenSSL 的这部分接受特别关注，包括一份相关安全问题的链接： <a href="https://www.openssl.org/news/fips-cve.html">列表</a> ，并定期进行 <a href="https://github.com/openssl/openssl/blob/master/README-FIPS.md">FIPS 140 验证过程</a>。还提供了 <a href="https://www.openssl.org/source/">经 FIPS 验证的版本列表</a> 。这使得用户可以确保在使用 OpenSSL 时符合 FIPS 标准。</p>
</div>
<div class="paragraph">
<p>重要的是，<a href="https://man.freebsd.org/cgi/man.cgi?query=fips_module&amp;sektion=7&amp;format=html">fips_module(7)</a> 受到额外的安全措施保护，防止在未通过完整性检查的情况下使用。这个检查可以由本地系统管理员设置，允许 OpenSSL 3 的每个用户加载这个模块。当配置不正确时，预计 FIPS 模块将失败，如下所示：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># echo test | openssl aes-128-cbc -a -provider fips -pbkdf2</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>输出应该类似于以下内容：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>aes-128-cbc: unable to load provider fips
Hint: use -provider-path option or OPENSSL_MODULES environment variable.
00206124D94D0000:error:1C8000D5:Provider routines:SELF_TEST_post:missing config data:crypto/openssl/providers/fips/self_test.c:275:
00206124D94D0000:error:1C8000E0:Provider routines:ossl_set_error_state:fips module entering error state:crypto/openssl/providers/fips/self_test.c:373:
00206124D94D0000:error:1C8000D8:Provider routines:OSSL_provider_init_int:self test post failure:crypto/openssl/providers/fips/fipsprov.c:707:
00206124D94D0000:error:078C0105:common libcrypto routines:provider_init:init fail:crypto/openssl/crypto/provider_core.c:932:name=fips</pre>
</div>
</div>
<div class="paragraph">
<p>可以通过在 <span class="filename">/etc/ssl/fipsmodule.cnf</span> 中创建一个文件来配置检查，然后在 OpenSSL 的主配置文件 <span class="filename">/etc/ssl/openssl.cnf</span> 中引用该文件。OpenSSL 提供了 <a href="https://man.freebsd.org/cgi/man.cgi?query=openssl-fipsinstall&amp;sektion=1&amp;format=html">openssl-fipsinstall(1)</a> 实用程序来帮助完成此过程，可以按照以下方式使用：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># openssl fipsinstall -module /usr/lib/ossl-modules/fips.so -out /etc/ssl/fipsmodule.cnf</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>输出应该类似于以下内容：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>INSTALL PASSED</pre>
</div>
</div>
<div class="paragraph">
<p>然后应该修改 <span class="filename">/etc/ssl/openssl.cnf</span> 文件，以便：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>包含上面生成的 <span class="filename">/etc/ssl/fipsmodule.cnf</span> 文件，</p>
</li>
<li>
<p>将 FIPS 模块暴露出来，以便可能的使用。</p>
</li>
<li>
<p>并显式激活默认模块。</p>
</li>
</ul>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>[...]
# For FIPS
# Optionally include a file that is generated by the OpenSSL fipsinstall
# application. This file contains configuration data required by the OpenSSL
# fips provider. It contains a named section e.g. [fips_sect] which is
# referenced from the [provider_sect] below.
# Refer to the OpenSSL security policy for more information.
.include /etc/ssl/fipsmodule.cnf

[...]

# List of providers to load
[provider_sect]
default = default_sect
# The fips section name should match the section name inside the
# included fipsmodule.cnf.
fips = fips_sect

# If no providers are activated explicitly, the default one is activated implicitly.
# See man 7 OSSL_PROVIDER-default for more details.
#
# If you add a section explicitly activating any other provider(s), you most
# probably need to explicitly activate the default provider, otherwise it
# becomes unavailable in openssl.  As a consequence applications depending on
# OpenSSL may not work correctly which could lead to significant system
# problems including inability to remotely access the system.
[default_sect]
activate = 1</pre>
</div>
</div>
<div class="paragraph">
<p>完成这一步骤后，应该可以确认 FIPS 模块已经有效地可用并且正常工作：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># echo test | openssl aes-128-cbc -a -provider fips -pbkdf2</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>输出应该类似于以下内容：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>enter AES-128-CBC encryption password:
Verifying - enter AES-128-CBC encryption password:
U2FsdGVkX18idooW6e3LqWeeiKP76kufcOUClh57j8U=</pre>
</div>
</div>
<div class="paragraph">
<p>每次修改 FIPS 模块时都必须重复执行此过程，例如在执行系统更新后或在应用影响基本系统中的 OpenSSL 的安全修复程序后。</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="kerberos5">16.9. Kerberos<a class="anchor" href="#kerberos5"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Kerberos 是一种网络认证协议，最初由麻省理工学院（MIT）创建，用于在可能存在敌对网络的情况下提供安全认证。Kerberos 协议使用强加密技术，使得客户端和服务器可以在不发送任何未加密的秘密信息的情况下证明其身份。Kerberos 可以被描述为一个身份验证代理系统和一个可信第三方认证系统。用户在使用 Kerberos 进行身份验证后，他们的通信可以被加密以确保隐私和数据完整性。</p>
</div>
<div class="paragraph">
<p>Kerberos 的唯一功能是在网络上提供用户和服务器的安全认证。它不提供授权或审计功能。建议将 Kerberos 与其他提供授权和审计服务的安全方法一起使用。</p>
</div>
<div class="paragraph">
<p>协议的当前版本是版本 5，详细描述在 RFC 4120 中。有几个免费的实现该协议的软件可供选择，覆盖了广泛的操作系统。麻省理工学院（MIT）继续开发他们的 Kerberos 软件包。它在美国常被用作密码学产品，并且历史上受到美国出口管制的限制。在 FreeBSD 中， MITKerberos 可作为 <a class="package" href="https://cgit.freebsd.org/ports/tree/security/krb5/">security/krb5</a> 软件包或端口使用。Heimdal Kerberos 实现是专门在美国以外开发的，以避免出口管制。Heimdal Kerberos 发行版已包含在基本的 FreeBSD 安装中，还有另一个具有更多可配置选项的发行版可在 Ports Collection 中使用，即 <a class="package" href="https://cgit.freebsd.org/ports/tree/security/heimdal/">security/heimdal</a>。</p>
</div>
<div class="paragraph">
<p>在 Kerberos 中，用户和服务被称为“主体”，并包含在一个管理组中，称为“领域”。一个典型的用户主体的形式为 <code><em>user</em>@<em>REALM</em></code> （领域通常是大写）。</p>
</div>
<div class="paragraph">
<p>本节提供了使用 FreeBSD 中包含的 Heimdal 发行版设置 Kerberos 的指南。</p>
</div>
<div class="paragraph">
<p>为了展示 Kerberos 安装的目的，命名空间将如下所示：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>DNS 域（区域）将是 <code>example.org</code>。</p>
</li>
<li>
<p>Kerberos 领域将是 <code>EXAMPLE.ORG</code>。</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>在设置 Kerberos 时，请使用真实的域名，即使它将在内部运行。这样可以避免 DNS 问题，并确保与其他 Kerberos 领域的互操作性。</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="sect2">
<h3 id="_设置_heimdal_kdc">16.9.1. 设置 Heimdal KDC<a class="anchor" href="#_设置_heimdal_kdc"></a></h3>
<div class="paragraph">
<p>密钥分发中心（KDC）是 Kerberos 提供的集中式认证服务，也是系统的“可信第三方”。它是发放 Kerberos 票据的计算机，用于客户端对服务器进行身份验证。由于 KDC 被 Kerberos 领域中的所有其他计算机视为可信任的，因此它具有更高的安全性要求。应该限制对 KDC 的直接访问。</p>
</div>
<div class="paragraph">
<p>运行 KDC 所需的计算资源很少，但出于安全原因，建议使用专用机器作为 KDC。</p>
</div>
<div class="paragraph">
<p>首先，按照以下方式安装 <a class="package" href="https://cgit.freebsd.org/ports/tree/security/heimdal/">security/heimdal</a> 软件包：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># pkg install heimdal</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>接下来，使用 <code>sysrc</code> 按照以下方式更新 <span class="filename">/etc/rc.conf</span> 文件：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># sysrc kdc_enable=yes</span>
<span class="c"># sysrc kadmind_enable=yes</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>接下来，按照以下方式编辑 <span class="filename">/etc/krb5.conf</span> 文件：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>[libdefaults]
    default_realm = EXAMPLE.ORG
[realms]
    EXAMPLE.ORG = {
	kdc = kerberos.example.org
	admin_server = kerberos.example.org
    }
[domain_realm]
    .example.org = EXAMPLE.ORG</pre>
</div>
</div>
<div class="paragraph">
<p>在这个例子中，KDC 将使用完全限定的主机名 <code>kerberos.example.org</code>。KDC 的主机名必须能够在 DNS 中解析。</p>
</div>
<div class="paragraph">
<p>Kerberos 也可以使用 DNS 来定位 KDCs，而不是在 <span class="filename">/etc/krb5.conf</span> 文件的 <code>[realms]</code> 部分中。对于拥有自己 DNS 服务器的大型组织，上述示例可以简化为：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>[libdefaults]
      default_realm = EXAMPLE.ORG
[domain_realm]
    .example.org = EXAMPLE.ORG</pre>
</div>
</div>
<div class="paragraph">
<p>在 <code>example.org</code> 区域文件中包含以下行：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>_kerberos._udp      IN  SRV     01 00 88 kerberos.example.org.
_kerberos._tcp      IN  SRV     01 00 88 kerberos.example.org.
_kpasswd._udp       IN  SRV     01 00 464 kerberos.example.org.
_kerberos-adm._tcp  IN  SRV     01 00 749 kerberos.example.org.
_kerberos           IN  TXT     EXAMPLE.ORG</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>为了使客户端能够找到 Kerberos 服务，它们必须具有完全配置的 <span class="filename">/etc/krb5.conf</span> 文件或最小配置的 <span class="filename">/etc/krb5.conf</span> 文件和正确配置的 DNS 服务器。</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>接下来，创建 Kerberos 数据库，其中包含使用主密码加密的所有主体（用户和主机）的密钥。不需要记住此密码，因为它将存储在 <span class="filename">/var/heimdal/m-key</span> 中；为此目的使用一个 45 个字符的随机密码是合理的。要创建主密钥，请运行 <code>kstash</code> 并输入密码：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># kstash</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>输出应该类似于以下内容：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>Master key: xxxxxxxxxxxxxxxxxxxxxxx
Verifying password - Master key: xxxxxxxxxxxxxxxxxxxxxxx</pre>
</div>
</div>
<div class="paragraph">
<p>一旦主密钥被创建，就应该初始化数据库。可以在 KDC 上使用 Kerberos 管理工具 <a href="https://man.freebsd.org/cgi/man.cgi?query=kadmin&amp;sektion=8&amp;format=html">kadmin(8)</a> 以 <code>kadmin -l</code> 的模式直接操作数据库，而不使用 <a href="https://man.freebsd.org/cgi/man.cgi?query=kadmind&amp;sektion=8&amp;format=html">kadmind(8)</a> 网络服务。这解决了在创建数据库之前尝试连接数据库的鸡生蛋问题。在 <code>kadmin</code> 提示符下，使用 <code>init</code> 命令创建领域的初始数据库：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># kadmin -l</span>
<span class="gp">kadmin&gt; </span>init EXAMPLE.ORG
Realm max ticket life <span class="o">[</span>unlimited]:</code></pre>
</div>
</div>
<div class="paragraph">
<p>最后，在 <code>kadmin</code> 中使用 <code>add</code> 命令创建第一个主体。暂时使用默认选项，因为这些选项可以在以后使用 <code>modify</code> 命令进行更改。在提示符处输入 <code>?</code> 以查看可用选项。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="gp">kadmin&gt; </span>add tillman</code></pre>
</div>
</div>
<div class="paragraph">
<p>输出应该类似于以下内容：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>Max ticket life [unlimited]:
Max renewable life [unlimited]:
Principal expiration time [never]:
Password expiration time [never]:
Attributes []:
Password: xxxxxxxx
Verifying password - Password: xxxxxxxx</pre>
</div>
</div>
<div class="paragraph">
<p>接下来，通过运行以下命令启动 KDC 服务：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># service kdc start</span>
<span class="c"># service kadmind start</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>在这一点上，不会有任何运行的 Kerberized 守护程序，但可以通过获取刚刚创建的主体的票证来确认 KDC 是否正常运行：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="gp">% </span>kinit tillman</code></pre>
</div>
</div>
<div class="paragraph">
<p>输出应该类似于以下内容：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>tillman@EXAMPLE.ORG&#39;s Password:</pre>
</div>
</div>
<div class="paragraph">
<p>使用 <code>klist</code> 确认成功获取了一张票据。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="gp">% </span>klist</code></pre>
</div>
</div>
<div class="paragraph">
<p>输出应该类似于以下内容：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>Credentials cache: FILE:/tmp/krb5cc_1001
	Principal: tillman@EXAMPLE.ORG

  Issued                Expires               Principal
Aug 27 15:37:58 2013  Aug 28 01:37:58 2013  krbtgt/EXAMPLE.ORG@EXAMPLE.ORG</pre>
</div>
</div>
<div class="paragraph">
<p>测试完成后，临时票据可以被销毁。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="gp">% </span>kdestroy</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_配置服务器使用_kerberos">16.9.2. 配置服务器使用 Kerberos<a class="anchor" href="#_配置服务器使用_kerberos"></a></h3>
<div class="paragraph">
<p>配置服务器以使用 Kerberos 身份验证的第一步是确保它在 <span class="filename">/etc/krb5.conf</span> 中具有正确的配置。可以直接使用 KDC 提供的版本，或者可以在新系统上重新生成该文件。</p>
</div>
<div class="paragraph">
<p>接下来，在服务器上创建 <span class="filename">/etc/krb5.keytab</span> 文件。这是“Kerberizing”服务的主要部分 - 它对应于在服务和 KDC 之间生成一个共享密钥。这个密钥是一个加密密钥，存储在一个“keytab”文件中。 keytab 文件包含了服务器的主机密钥，它允许服务器和 KDC 验证彼此的身份。必须以安全的方式将它传输到服务器上，因为如果密钥被公开，服务器的安全性可能会被破坏。通常，<span class="filename">keytab</span> 文件是在管理员信任的机器上使用 <code>kadmin</code> 生成的，然后通过安全传输方式传输到服务器上，例如使用 <a href="https://man.freebsd.org/cgi/man.cgi?query=scp&amp;sektion=1&amp;format=html">scp(1)</a> 命令；如果符合所需的安全策略，也可以直接在服务器上创建。非常重要的是，必须以安全的方式将 keytab 文件传输到服务器上：如果密钥被其他方知晓，该方可以冒充任何用户访问服务器！在服务器上直接使用 <code>kadmin</code> 非常方便，因为在 KDC 数据库中为主机主体创建条目也是使用 <code>kadmin</code> 完成的。</p>
</div>
<div class="paragraph">
<p>当然，<code>kadmin</code> 是一个使用 Kerberos 进行身份验证的服务；需要一个 Kerberos 票证来认证到网络服务，但为了确保运行 <code>kadmin</code> 的用户实际上存在（并且他们的会话没有被劫持），<code>kadmin</code> 会提示输入密码以获取一个新的票证。认证到 kadmin 服务的主体必须被允许使用 <code>kadmin</code> 接口，如 <span class="filename">/var/heimdal/kadmind.acl</span> 中所指定的。有关设计访问控制列表的详细信息，请参阅 <code>info heimdal</code> 中标题为“远程管理（Remote administration）”的部分。管理员可以通过本地控制台或 <a href="https://man.freebsd.org/cgi/man.cgi?query=ssh&amp;sektion=1&amp;format=html">ssh(1)</a> 安全地连接到 KDC，并使用 <code>kadmin -l</code> 在本地进行管理，而不是启用远程 <code>kadmin</code> 访问。</p>
</div>
<div class="paragraph">
<p>在安装完 <span class="filename">/etc/krb5.conf</span> 后，在 <code>kadmin</code> 中使用 <code>add --random-key</code> 命令。这将向数据库中添加服务器的主机主体，但不会将主机主体密钥提取到密钥表中。要生成密钥表，请使用 <code>ext</code> 命令将服务器的主机主体密钥提取到其自己的密钥表中：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># kadmin</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>输出应该类似于以下内容：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>kadmin&gt; add --random-key host/myserver.example.org
Max ticket life [unlimited]:
Max renewable life [unlimited]:
Principal expiration time [never]:
Password expiration time [never]:
Attributes []:
kadmin&gt; ext_keytab host/myserver.example.org
kadmin&gt; exit</pre>
</div>
</div>
<div class="paragraph">
<p>请注意，默认情况下，<code>ext_keytab</code> 将提取的密钥存储在 <span class="filename">/etc/krb5.keytab</span> 中。当在进行 Kerberos 认证的服务器上运行时，这是很好的选择。但是，当密钥表在其他地方提取时，应使用 <code>--keytab <em>path/to/file</em></code> 参数。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># kadmin</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>输出应该类似于以下内容：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>kadmin&gt; ext_keytab --keytab=/tmp/example.keytab host/myserver.example.org
kadmin&gt; exit</pre>
</div>
</div>
<div class="paragraph">
<p>然后，可以使用 <a href="https://man.freebsd.org/cgi/man.cgi?query=scp&amp;sektion=1&amp;format=html">scp(1)</a> 或可移动介质将 keytab 安全地复制到服务器。请确保指定一个非默认的 keytab 名称，以避免将不必要的密钥插入系统的 keytab 中。</p>
</div>
<div class="paragraph">
<p>此时，服务器可以使用存储在 <span class="filename">krb5.keytab</span> 中的共享密钥从 KDC 读取加密消息。现在可以启用使用 Kerberos 的服务了。其中最常见的服务之一是 <a href="https://man.freebsd.org/cgi/man.cgi?query=sshd&amp;sektion=8&amp;format=html">sshd(8)</a>，它通过 GSS-API 支持 Kerberos。在 <span class="filename">/etc/ssh/sshd_config</span> 中添加以下行：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>GSSAPIAuthentication yes</pre>
</div>
</div>
<div class="paragraph">
<p>在进行此更改后，必须重新启动 <a href="https://man.freebsd.org/cgi/man.cgi?query=sshd&amp;sektion=8&amp;format=html">sshd(8)</a> 以使新的配置生效：<code>service sshd restart</code>。</p>
</div>
</div>
<div class="sect2">
<h3 id="_配置客户端使用_kerberos">16.9.3. 配置客户端使用 Kerberos<a class="anchor" href="#_配置客户端使用_kerberos"></a></h3>
<div class="paragraph">
<p>与服务器一样，客户端需要在 <span class="filename">/etc/krb5.conf</span> 中进行配置。将文件复制到指定位置（安全地）或根据需要重新输入。</p>
</div>
<div class="paragraph">
<p>通过在客户端使用 <code>kinit</code>、<code>klist</code> 和 <code>kdestroy</code> 命令来获取、显示和删除现有主体的票证，来测试客户端。 Kerberos 应用程序也应该能够连接到启用了 Kerberos 的服务器。如果连接不起作用，但是获取票证可以，那么问题很可能是服务器而不是客户端或 KDC 的问题。在使用 kerberized <a href="https://man.freebsd.org/cgi/man.cgi?query=ssh&amp;sektion=1&amp;format=html">ssh(1)</a> 的情况下，默认情况下禁用了 GSS-API，因此请使用 <code>ssh -o GSSAPIAuthentication = yes <em>hostname</em></code> 命令进行测试。</p>
</div>
<div class="paragraph">
<p>在测试 Kerberized 应用程序时，尝试使用诸如 <code>tcpdump</code> 之类的数据包嗅探器来确认没有明文发送敏感信息。</p>
</div>
<div class="paragraph">
<p>有各种不同的 Kerberos 客户端应用程序可供选择。随着桥接的出现，使用 SASL 进行身份验证的应用程序也可以使用 GSS-API 机制，因此大部分客户端应用程序都可以使用 Kerberos 进行身份验证，包括 Jabber 客户端和 IMAP 客户端。</p>
</div>
<div class="paragraph">
<p>在一个领域中，通常会将用户的 Kerberos 主体映射到本地用户账户。偶尔，需要将本地用户账户的访问权限授予没有匹配的 Kerberos 主体的人。例如，<code>tillman@EXAMPLE.ORG</code> 可能需要访问本地用户账户 <code>webdevelopers</code>。其他主体也可能需要访问该本地账户。</p>
</div>
<div class="paragraph">
<p>放置在用户的主目录中的 <span class="filename">.k5login</span> 和 <span class="filename">.k5users</span> 文件可以用来解决这个问题。例如，如果将以下 <span class="filename">.k5login</span> 文件放置在 <code>webdevelopers</code> 的主目录中，列出的两个主体都可以访问该帐户，而无需共享密码：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>tillman@example.org
jdoe@example.org</pre>
</div>
</div>
<div class="paragraph">
<p>请参考 <a href="https://man.freebsd.org/cgi/man.cgi?query=ksu&amp;sektion=1&amp;format=html">ksu(1)</a> 获取有关 <span class="filename">.k5users</span> 的更多信息。</p>
</div>
</div>
<div class="sect2">
<h3 id="_与_mit_的差异">16.9.4. 与 MIT 的差异<a class="anchor" href="#_与_mit_的差异"></a></h3>
<div class="paragraph">
<p>MIT 和 Heimdal 实现之间的主要区别是 <code>kadmin</code> 具有不同但等效的命令集，并且使用不同的协议。如果 KDC 是 MIT 版本，则无法使用 Heimdal 版本的 <code>kadmin</code> 远程管理 KDC，反之亦然。</p>
</div>
<div class="paragraph">
<p>客户端应用程序也可以使用稍微不同的命令行选项来完成相同的任务。建议按照 <a href="http://web.mit.edu/Kerberos/www/">http://web.mit.edu/Kerberos/www/</a> 上的说明进行操作。请注意路径问题：MIT 端口默认安装在 <span class="filename">/usr/local/</span> 中，如果 <code>PATH</code> 列表中首先列出系统目录，则 FreeBSD 系统应用程序将代替 MIT 版本运行。</p>
</div>
<div class="paragraph">
<p>在 FreeBSD 上使用 MIT Kerberos 作为 KDC 时，执行以下命令将所需的配置添加到 <span class="filename">/etc/rc.conf</span> 文件中：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># sysrc kdc_program=&#34;/usr/local/sbin/kdc&#34;</span>
<span class="c"># sysrc kadmind_program=&#34;/usr/local/sbin/kadmind&#34;</span>
<span class="c"># sysrc kdc_flags=&#34;&#34;</span>
<span class="c"># sysrc kdc_enable=&#34;YES&#34;</span>
<span class="c"># sysrc kadmind_enable=&#34;YES&#34;</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_kerberos_提示技巧和故障排除">16.9.5. Kerberos 提示、技巧和故障排除<a class="anchor" href="#_kerberos_提示技巧和故障排除"></a></h3>
<div class="paragraph">
<p>在配置和故障排除 Kerberos 时，请记住以下几点：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>在使用来自 ports 的 Heimdal 或 MITKerberos 时，请确保 <code>PATH</code> 中列出的是端口版本的客户端应用程序，而不是系统版本。</p>
</li>
<li>
<p>如果领域中的所有计算机没有同步的时间设置，认证可能会失败。 <a href="../network-servers/#network-ntp">“使用 NTP 进行时钟同步”</a> 描述了如何使用 NTP 同步时钟。</p>
</li>
<li>
<p>如果主机名发生变化，则必须更改 <code>host/</code> 主体并更新 keytab。这也适用于特殊的 keytab 条目，比如用于 Apache 的 <code>HTTP/</code> 主体，例如 <a class="package" href="https://cgit.freebsd.org/ports/tree/www/mod_auth_kerb/">www/mod_auth_kerb</a>。</p>
</li>
<li>
<p>领域中的所有主机必须在 DNS 中具有正向和反向解析的能力，或者至少存在于 <span class="filename">/etc/hosts</span> 文件中。CNAME 记录可以使用，但 A 记录和 PTR 记录必须正确并且存在。对于无法解析的主机，错误消息并不直观：<code>Kerberos5 refuses authenticatio because Read req failed: Key table entry not found</code></p>
</li>
<li>
<p>一些作为 KDC 客户端的操作系统没有设置 <code>ksu</code> 的权限为 setuid <code>root</code>。这意味着 <code>ksu</code> 无法工作。这是一个权限问题，而不是 KDC 错误。</p>
</li>
<li>
<p>使用 MITKerberos，如果要允许一个主体拥有比默认的十小时更长的票据生命周期，可以在 <a href="https://man.freebsd.org/cgi/man.cgi?query=kadmin&amp;sektion=8&amp;format=html">kadmin(8)</a> 提示符下使用 <code>modify_principal</code> 命令来更改相关主体和 <code>krbtgt</code> 主体的 <code>maxlife</code> 属性。然后，该主体可以使用 <code>kinit -l</code> 命令来请求一个具有更长生命周期的票据。</p>
</li>
<li>
<p>在从工作站运行 <code>kinit</code> 时，在 KDC 上运行数据包嗅探器以帮助故障排除时，票据授予票证（TGT）会立即发送，甚至在输入密码之前。这是因为 Kerberos 服务器会自由地向任何未经授权的请求传输 TGT。然而，每个 TGT 都是使用用户密码派生的密钥进行加密的。当用户输入密码时，它不会被发送到 KDC，而是用于解密 <code>kinit</code> 已经获取的 TGT。如果解密过程产生一个带有有效时间戳的有效票证，用户就拥有有效的 Kerberos 凭证。这些凭证包括用于与 Kerberos 服务器建立安全通信的会话密钥，以及使用 Kerberos 服务器自己的密钥加密的实际 TGT。这第二层加密允许 Kerberos 服务器验证每个 TGT 的真实性。</p>
</li>
<li>
<p>主机主体可以拥有更长的票据生命周期。如果用户主体的生命周期为一周，但连接的主机的生命周期为九小时，用户缓存将会有一个过期的主机主体，票据缓存将无法按预期工作。</p>
</li>
<li>
<p>在设置 <span class="filename">krb5.dict</span> 以防止特定的弱密码被使用，如 <a href="https://man.freebsd.org/cgi/man.cgi?query=kadmind&amp;sektion=8&amp;format=html">kadmind(8)</a> 中所描述的那样，请记住它仅适用于已分配密码策略的主体。 <span class="filename">krb5.dict</span> 中使用的格式是每行一个字符串。创建一个符号链接到 <span class="filename">/usr/share/dict/words</span> 可能会很有用。</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_缓解_kerberos_的限制">16.9.6. 缓解 Kerberos 的限制<a class="anchor" href="#_缓解_kerberos_的限制"></a></h3>
<div class="paragraph">
<p>由于 Kerberos 是一种全面的方法，网络上的每个启用的服务都必须要么被修改以与 Kerberos 一起工作，要么以其他方式进行网络攻击防护。这是为了防止用户凭据被窃取和重复使用。一个例子是当 Kerberos 在所有远程 shell 上启用时，非 Kerberos 化的 POP3 邮件服务器会以明文发送密码。</p>
</div>
<div class="paragraph">
<p>KDC 是一个单点故障。按设计，KDC 必须与其主密码数据库一样安全。KDC 上不应该运行任何其他服务，并且应该具有物理安全性。危险性很高，因为 Kerberos 将所有密码都使用相同的主密钥进行加密，该密钥存储在 KDC 上的文件中。</p>
</div>
<div class="paragraph">
<p>一个被破坏的主密钥并不像人们可能担心的那样糟糕。主密钥仅用于加密 Kerberos 数据库和作为随机数生成器的种子。只要 KDC 的访问是安全的，攻击者无法对主密钥做太多事情。</p>
</div>
<div class="paragraph">
<p>如果 KDC 不可用，网络服务将无法使用，因为无法进行身份验证。可以通过一个主 KDC 和一个或多个从 KDC 以及对 PAM 进行细致实施的次要或备用身份验证来缓解这个问题。</p>
</div>
<div class="paragraph">
<p>Kerberos 允许用户、主机和服务之间进行身份验证。它没有机制来对用户、主机或服务进行身份验证。这意味着一个被木马程序感染的 <code>kinit</code> 可以记录所有的用户名和密码。文件系统完整性检查工具，如 <a class="package" href="https://cgit.freebsd.org/ports/tree/security/tripwire/">security/tripwire</a> 可以缓解这个问题。</p>
</div>
</div>
<div class="sect2">
<h3 id="_资源和进一步信息">16.9.7. 资源和进一步信息<a class="anchor" href="#_资源和进一步信息"></a></h3>
<div class="ulist">
<ul>
<li>
<p><a href="http://www.faqs.org/faqs/Kerberos-faq/general/preamble.html">The Kerberos FAQ</a></p>
</li>
<li>
<p><a href="http://web.mit.edu/Kerberos/www/dialogue.html">设计一个认证系统：四个场景的对话</a></p>
</li>
<li>
<p><a href="https://www.ietf.org/rfc/rfc4120.txt">RFC 4120，Kerberos 网络身份验证服务（V5）</a></p>
</li>
<li>
<p><a href="http://web.mit.edu/Kerberos/www/">MIT Kerberos 主页</a></p>
</li>
<li>
<p><a href="https://github.com/heimdal/heimdal/wiki">Heimdal Kerberos 项目维基页面</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tcpwrappers">16.10. TCP Wrappers<a class="anchor" href="#tcpwrappers"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>TCP Wrappers 是一种基于主机的网络访问控制系统。通过在实际网络服务之前拦截传入的网络请求，TCP Wrappers 根据配置文件中预定义的规则评估源 IP 地址是否被允许或拒绝访问。</p>
</div>
<div class="paragraph">
<p>然而，尽管 TCP 包装器提供了基本的访问控制，但它们不应被视为更强大的安全措施的替代品。为了全面保护，建议使用像防火墙这样的先进技术，以及适当的用户身份验证实践和入侵检测系统。</p>
</div>
<div class="sect2">
<h3 id="tcpwrappers-initial-configuration">16.10.1. 初始配置<a class="anchor" href="#tcpwrappers-initial-configuration"></a></h3>
<div class="paragraph">
<p>TCP 包装器默认在 <a href="https://man.freebsd.org/cgi/man.cgi?query=inetd&amp;sektion=8&amp;format=html">inetd(8)</a> 中启用。因此，第一步是启用 <a href="https://man.freebsd.org/cgi/man.cgi?query=inetd&amp;sektion=8&amp;format=html">inetd(8)</a>，执行以下命令：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># sysrc inetd_enable=&#34;YES&#34;</span>
<span class="c"># service inetd start</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>然后，正确配置 <span class="filename">/etc/hosts.allow</span> 文件。</p>
</div>
<div class="admonitionblock warning">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>与其他 TCP Wrappers 的实现不同，在 FreeBSD 中使用 <span class="filename">hosts.deny</span> 已被弃用。所有配置选项应放置在 <span class="filename">/etc/hosts.allow</span> 中。</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>在最简单的配置中，守护进程连接策略根据 <span class="filename">/etc/hosts.allow</span> 中的选项设置为允许或阻止。在 FreeBSD 中，默认配置是允许所有与 inetd 启动的守护进程的连接。</p>
</div>
<div class="paragraph">
<p>基本配置通常采用 <code>daemon : address : action</code> 的形式，其中 <code>daemon</code> 是由 inetd 启动的守护进程， <code>address</code> 是有效的主机名、 IP 地址或用方括号（[ ]）括起来的 IPv6 地址，<code>action</code> 可以是 <code>allow</code> 或 <code>deny</code>。TCP Wrappers 使用首次匹配规则的语义，意味着配置文件从头开始扫描以寻找匹配的规则。当找到匹配时，规则被应用并且搜索过程停止。</p>
</div>
<div class="paragraph">
<p>例如，要允许通过 <a class="package" href="https://cgit.freebsd.org/ports/tree/mail/qpopper/">mail/qpopper</a> 守护程序进行 POP3 连接，应将以下行追加到 <span class="filename">/etc/hosts.allow</span> 文件中：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre># This line is required for POP3 connections:
qpopper : ALL : allow</pre>
</div>
</div>
<div class="paragraph">
<p>每当编辑此文件时，重新启动 inetd ：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># service inetd restart</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="tcpwrappers-advanced-config">16.10.2. 高级配置<a class="anchor" href="#tcpwrappers-advanced-config"></a></h3>
<div class="paragraph">
<p>TCP Wrappers 提供了高级选项，可以更好地控制连接的处理方式。在某些情况下，向特定的主机或守护进程连接返回注释可能是合适的。在其他情况下，应记录日志条目或向管理员发送电子邮件。其他情况可能需要仅用于本地连接的服务。通过使用通配符、扩展字符和外部命令执行的配置选项，所有这些都是可能的。要了解有关通配符及其相关功能的更多信息，请参阅 <a href="https://man.freebsd.org/cgi/man.cgi?query=hosts_access&amp;sektion=5&amp;format=html">hosts_access(5)</a> 。</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="fs-acl">16.11. 访问控制列表<a class="anchor" href="#fs-acl"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>访问控制列表（ACL）通过允许用户和组在每个文件或目录的基础上进行细粒度的访问控制，扩展了传统的 UNIX® 文件权限。每个 ACL 条目定义了一个用户或组以及相关的权限，如读取、写入和执行。 FreeBSD 提供了像 <a href="https://man.freebsd.org/cgi/man.cgi?query=getfacl&amp;sektion=1&amp;format=html">getfacl(1)</a> 和 <a href="https://man.freebsd.org/cgi/man.cgi?query=setfacl&amp;sektion=1&amp;format=html">setfacl(1)</a> 这样的命令来管理 ACL。</p>
</div>
<div class="paragraph">
<p>访问控制列表（ACL）在需要比标准权限更具体的访问控制的场景中非常有用，通常在多用户环境或共享托管中使用。然而，复杂性可能是不可避免的，但需要仔细规划，以确保提供所需的安全性质。</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>FreeBSD 支持在 UFS 和 OpenZFS 中实现 NFSv4 ACLs。请注意，<a href="https://man.freebsd.org/cgi/man.cgi?query=setfacl&amp;sektion=1&amp;format=html">setfacl(1)</a> 命令的一些参数仅适用于 POSIX ACLs，而其他参数适用于 NFSv4 ACLs。</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="sect2">
<h3 id="acl-enabling-support-ufs">16.11.1. 在 UFS 中启用 ACL 支持<a class="anchor" href="#acl-enabling-support-ufs"></a></h3>
<div class="paragraph">
<p>ACLs 是通过挂载时的管理标志 <code>acls</code> 启用的，可以将其添加到 <span class="filename">/etc/fstab</span> 文件中。</p>
</div>
<div class="paragraph">
<p>因此，需要访问 <span class="filename">/etc/fstab</span> 并在选项部分添加 <code>acls</code> 标志，如下所示：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre># Device        Mountpoint        FStype    Options     Dump      Pass#
/dev/ada0s1a    /                 ufs       rw,acls     1         1</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="security-acl-info">16.11.2. 获取 ACL 信息<a class="anchor" href="#security-acl-info"></a></h3>
<div class="paragraph">
<p>可以使用 <a href="https://man.freebsd.org/cgi/man.cgi?query=getfacl&amp;sektion=1&amp;format=html">getfacl(1)</a> 命令来检查文件或目录的 ACL 。</p>
</div>
<div class="paragraph">
<p>例如，要查看 <span class="filename">~/test</span> 文件的 ACL 设置，请执行以下命令：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="gp">% </span>getfacl <span class="nb">test</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>如果使用 NFSv4 ACLs ，输出应该类似于以下内容：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre># file: test
# owner: freebsduser
# group: freebsduser
            owner@:rw-p--aARWcCos:-------:allow
            group@:r-----a-R-c--s:-------:allow
         everyone@:r-----a-R-c--s:-------:allow</pre>
</div>
</div>
<div class="paragraph">
<p>如果使用 POSIX.1e ACLs，输出应该类似于以下内容：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre># file: test
# owner: freebsduser
# group: freebsduser
user::rw-
group::r--
other::r--</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="security-working-acls">16.11.3. 使用 ACLs 进行工作<a class="anchor" href="#security-working-acls"></a></h3>
<div class="paragraph">
<p><a href="https://man.freebsd.org/cgi/man.cgi?query=setfacl&amp;sektion=1&amp;format=html">setfacl(1)</a> 可以用于向文件或目录添加、修改或删除 ACL 。</p>
</div>
<div class="paragraph">
<p>如上所述，<a href="https://man.freebsd.org/cgi/man.cgi?query=setfacl&amp;sektion=1&amp;format=html">setfacl(1)</a> 的一些参数与 NFSv4 ACLs 不兼容，反之亦然。本节介绍如何执行 POSIX ACLs 和 NFSv4 ACLs 的命令，并提供了两者的示例。</p>
</div>
<div class="paragraph">
<p>例如，要设置 POSIX.1e 默认 ACL 的强制元素：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="gp">% </span>setfacl -d -m u::rwx,g::rx,o::rx,mask::rwx directory</code></pre>
</div>
</div>
<div class="paragraph">
<p>这个示例设置了文件所有者的 POSIX.1e ACL 条目的读取、写入和执行权限，并为文件上的邮件组设置了读取和写入权限。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="gp">% </span>setfacl -m u::rwx,g:mail:rw file</code></pre>
</div>
</div>
<div class="paragraph">
<p>为了在 NFSv4 ACL 中执行与前一个示例相同的操作：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="gp">% </span>setfacl -m owner@:rwxp::allow,g:mail:rwp::allow file</code></pre>
</div>
</div>
<div class="paragraph">
<p>从 POSIX.1e ACL 文件中删除除了三个必需的 ACL 条目之外的所有 ACL 条目。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="gp">% </span>setfacl -bn file</code></pre>
</div>
</div>
<div class="paragraph">
<p>要删除 NFSv4 ACL 中的所有 ACL 条目：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="gp">% </span>setfacl -b file</code></pre>
</div>
</div>
<div class="paragraph">
<p>有关这些命令可用选项的更多信息，请参考 <a href="https://man.freebsd.org/cgi/man.cgi?query=getfacl&amp;sektion=1&amp;format=html">getfacl(1)</a> 和 <a href="https://man.freebsd.org/cgi/man.cgi?query=setfacl&amp;sektion=1&amp;format=html">setfacl(1)</a>。</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="capsicum">16.12. Capsicum<a class="anchor" href="#capsicum"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Capsicum 是一个轻量级的操作系统能力和沙箱框架，实现了混合能力系统模型。能力是不可伪造的授权令牌，可以委派，必须提交才能执行操作。 Capsicum 将文件描述符转换为能力。</p>
</div>
<div class="paragraph">
<p>Capsicum 可以用于应用程序和库的分隔，将较大的软件体分解为隔离（沙盒化）的组件，以实施安全策略并限制软件漏洞的影响。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="security-accounting">16.13. 进程账户<a class="anchor" href="#security-accounting"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>进程账户是一种安全方法，管理员可以通过该方法跟踪系统资源的使用情况以及它们在用户之间的分配情况，提供系统监控，并最少程度地跟踪用户的命令。</p>
</div>
<div class="paragraph">
<p>进程账户有积极和消极的一面。其中一个积极的方面是可以将入侵事件追溯到入侵点。消极的一面是进程账户会生成大量的日志，并且可能需要大量的磁盘空间来存储这些日志。本节将向管理员介绍进程账户的基础知识。</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>如果需要更细粒度的会计记录，请参考 <a href="../audit/#audit">安全事件审计</a>。</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="sect2">
<h3 id="_启用和利用进程账户">16.13.1. 启用和利用进程账户<a class="anchor" href="#_启用和利用进程账户"></a></h3>
<div class="paragraph">
<p>在使用进程记账之前，必须使用以下命令启用它：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># sysrc accounting_enable=yes</span>
<span class="c"># service accounting start</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>记帐信息存储在位于 <span class="filename">/var/account</span> 的文件中，如果需要，记帐服务首次启动时会自动创建该文件。这些文件包含敏感信息，包括所有用户发出的所有命令。对文件的写访问权限仅限于 <code>root</code> ，读访问权限仅限于 <code>root</code> 和 <code>wheel</code> 组的成员。为了防止 <code>wheel</code> 组的成员也能读取这些文件，将 <span class="filename">/var/account</span> 目录的模式更改为仅允许 <code>root</code> 访问。</p>
</div>
<div class="paragraph">
<p>启用后，会计将开始跟踪诸如 CPU 统计和执行的命令等信息。所有的记账日志都以非人类可读的格式存储，可以使用 <a href="https://man.freebsd.org/cgi/man.cgi?query=sa&amp;sektion=8&amp;format=html">sa(8)</a> 命令查看。如果不带任何选项使用 <a href="https://man.freebsd.org/cgi/man.cgi?query=sa&amp;sektion=8&amp;format=html">sa(8)</a> 命令，将打印与每个用户调用次数、总经过时间（以分钟为单位）、总 CPU 和用户时间（以分钟为单位）以及平均 I/O 操作次数相关的信息。有关控制输出的可用选项列表，请参考 <a href="https://man.freebsd.org/cgi/man.cgi?query=sa&amp;sektion=8&amp;format=html">sa(8)</a> 命令。</p>
</div>
<div class="paragraph">
<p>要显示用户发出的命令，请使用 <code>lastcomm</code> 命令。</p>
</div>
<div class="paragraph">
<p>例如，这个命令会打印出在 <code>ttyp1</code> 终端上由 <code>trhodes</code> 使用的 <code>ls</code> 的所有用法：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># lastcomm ls trhodes ttyp1</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>还有许多其他有用的选项，可以在 <a href="https://man.freebsd.org/cgi/man.cgi?query=lastcomm&amp;sektion=1&amp;format=html">lastcomm(1)</a>、<a href="https://man.freebsd.org/cgi/man.cgi?query=acct&amp;sektion=5&amp;format=html">acct(5)</a> 和 <a href="https://man.freebsd.org/cgi/man.cgi?query=sa&amp;sektion=8&amp;format=html">sa(8)</a> 中找到解释。</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="security-resourcelimits">16.14. 资源限制<a class="anchor" href="#security-resourcelimits"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>在 FreeBSD 中，资源限制是指控制和管理将各种系统资源分配给进程和用户的机制。这些限制旨在防止单个进程或用户消耗过多的资源，从而可能导致性能下降或系统不稳定。资源限制有助于确保系统上所有活动进程和用户之间公平分配资源。</p>
</div>
<div class="paragraph">
<p>FreeBSD 提供了几种方法，供管理员限制个人使用系统资源的数量。</p>
</div>
<div class="paragraph">
<p>传统的方法是通过编辑 <span class="filename">/etc/login.conf</span> 来定义登录类。虽然这种方法仍然受支持，但任何更改都需要多个步骤：编辑该文件、重建资源数据库、对 <span class="filename">/etc/master.passwd</span> 进行必要的更改，并重新构建密码数据库。这可能会耗费时间，具体取决于要配置的用户数量。</p>
</div>
<div class="paragraph">
<p><a href="https://man.freebsd.org/cgi/man.cgi?query=rctl&amp;sektion=8&amp;format=html">rctl(8)</a> 可以用于提供一种更精细的方法来控制资源限制。该命令不仅支持用户限制，还可以用于在进程和 jails 上设置资源约束。</p>
</div>
<div class="paragraph">
<p>本节展示了控制资源的两种方法，首先是传统方法。</p>
</div>
<div class="sect2">
<h3 id="security-resource-limits-types">16.14.1. 资源的类型<a class="anchor" href="#security-resource-limits-types"></a></h3>
<div class="paragraph">
<p>FreeBSD 提供了各种类型资源的限制，包括：</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">表 1. 资源类型</caption>
<colgroup>
<col style="width: 50%;"/>
<col style="width: 50%;"/>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">类型</th>
<th class="tableblock halign-left valign-top">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CPU 时间</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">限制进程可以消耗的 CPU 时间量</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">内存</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">控制进程可使用的物理内存量</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">打开文件</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">限制进程同时打开的文件数量。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">进程</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">控制用户或进程可以创建的进程数量。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">文件大小</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">限制进程可以创建的文件的最大大小。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">核心转储</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">控制进程是否允许生成核心转储文件。</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">网络资源</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">限制进程可以使用的网络资源（例如，套接字）的数量</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>有关类型的完整列表，请参阅 <a href="https://man.freebsd.org/cgi/man.cgi?query=login.conf&amp;sektion=5&amp;format=html">login.conf(5)</a> 和 <a href="https://man.freebsd.org/cgi/man.cgi?query=rctl&amp;sektion=8&amp;format=html">rctl(8)</a>。</p>
</div>
</div>
<div class="sect2">
<h3 id="users-limiting">16.14.2. 配置登录类<a class="anchor" href="#users-limiting"></a></h3>
<div class="paragraph">
<p>在传统的方法中，登录类和适用于登录类的资源限制在 <span class="filename">/etc/login.conf</span> 文件中定义。每个用户账户可以分配给一个登录类，其中 <code>default</code> 是默认的登录类。每个登录类都有一组与之关联的登录能力。登录能力是一个 <code><em>name</em>=<em>value</em></code> 对，其中 <em>name</em> 是一个众所周知的标识符，<em>value</em> 是一个任意字符串，根据 <em>name</em> 的不同进行相应的处理。</p>
</div>
<div class="paragraph">
<p>配置资源限制的第一步是通过执行以下命令打开 <span class="filename">/etc/login.conf</span> 文件：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># ee /etc/login.conf</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>然后找到要修改的用户类的部分。在这个例子中，假设用户类的名称是 <code>limited</code>，如果不存在，则创建它。</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>limited:\ <i class="conum" data-value="1"></i><b>(1)</b>
        :maxproc=50:\ <i class="conum" data-value="2"></i><b>(2)</b>
        :tc=default: <i class="conum" data-value="3"></i><b>(3)</b></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tbody><tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>用户类的名称。 &lt;.&gt; 将 <code>limited</code> 类中的用户的最大进程数（maxproc）设置为 50。 &lt;.&gt; 表示该用户类继承了“default”类的默认设置。</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>在修改 <span class="filename">/etc/login.conf</span> 文件后，运行 <a href="https://man.freebsd.org/cgi/man.cgi?query=cap_mkdb&amp;sektion=1&amp;format=html">cap_mkdb(1)</a> 命令生成 FreeBSD 使用的数据库，以应用这些设置：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># cap_mkdb /etc/login.conf</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="https://man.freebsd.org/cgi/man.cgi?query=chpass&amp;sektion=1&amp;format=html">chpass(1)</a> 可以用于更改用户的类别，执行以下命令：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># chpass username</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>这将打开一个文本编辑器，在其中添加新的 <code>limited</code> 类，如下所示：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>#Changing user information for username.
Login: username
Password: $6$2H.419USdGaiJeqK$6kgcTnDadasdasd3YnlNZsOni5AMymibkAfRCPirc7ZFjjv
DVsKyXx26daabdfqSdasdsmL/ZMUpdHiO0
Uid [#]: 1001
Gid [# or name]: 1001
Change [month day year]:
Expire [month day year]:
Class: limited
Home directory: /home/username
Shell: /bin/sh
Full Name: User &amp;
Office Location:
Office Phone:
Home Phone:
Other information:</pre>
</div>
</div>
<div class="paragraph">
<p>现在，分配给 <code>limited</code> 类的用户将具有最大进程限制为 50。请记住，这只是使用 <span class="filename">/etc/login.conf</span> 文件设置资源限制的一个示例。</p>
</div>
<div class="paragraph">
<p>请记住，在对 <span class="filename">/etc/login.conf</span> 文件进行更改后，用户需要注销并重新登录以使更改生效。此外，在编辑系统配置文件时，特别是在使用特权访问时，始终要谨慎行事。</p>
</div>
</div>
<div class="sect2">
<h3 id="security-rctl">16.14.3. 启用和配置资源限制<a class="anchor" href="#security-rctl"></a></h3>
<div class="paragraph">
<p><a href="https://man.freebsd.org/cgi/man.cgi?query=rctl&amp;sektion=8&amp;format=html">rctl(8)</a> 系统提供了一种更精细的方式来设置和管理单个进程和用户的资源限制。它允许您动态地为特定的进程或用户分配资源限制，而不考虑他们的用户类别。</p>
</div>
<div class="paragraph">
<p>使用 <a href="https://man.freebsd.org/cgi/man.cgi?query=rctl&amp;sektion=8&amp;format=html">rctl(8)</a> 的第一步是将以下行添加到 <span class="filename">/boot/loader.conf</span> 并重新启动系统，以启用它：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>kern.racct.enable=1</pre>
</div>
</div>
<div class="paragraph">
<p>然后激活 <a href="https://man.freebsd.org/cgi/man.cgi?query=rctl&amp;sektion=8&amp;format=html">rctl(8)</a> 服务并通过以下命令启用它执行：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># sysrc rctl_enable=&#34;YES&#34;</span>
<span class="c"># service rctl start</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>然后可以使用 <a href="https://man.freebsd.org/cgi/man.cgi?query=rctl&amp;sektion=8&amp;format=html">rctl(8)</a> 来为系统设置规则。</p>
</div>
<div class="paragraph">
<p>规则语法（<a href="https://man.freebsd.org/cgi/man.cgi?query=rctl.conf&amp;sektion=5&amp;format=html">rctl.conf(5)</a>）通过使用主题、主题 ID 、资源和操作来进行控制，如下面的示例规则所示：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>subject:subject-id:resource:action=amount/per</pre>
</div>
</div>
<div class="paragraph">
<p>例如，要限制用户添加的进程数量不超过 10 个，请执行以下命令：</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># rctl -a user:username:maxproc:deny=10/user</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>要检查应用的资源限制，可以执行 <a href="https://man.freebsd.org/cgi/man.cgi?query=rctl&amp;sektion=8&amp;format=html">rctl(8)</a> 命令。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># rctl</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>输出应该类似于以下内容：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>user:username:maxproc:deny=10</pre>
</div>
</div>
<div class="paragraph">
<p>如果将规则添加到 <span class="filename">/etc/rctl.conf</span> 文件中，规则将在重新启动后保持不变。格式是一个规则，没有前导命令。例如，可以将上述规则添加为：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>user:username:maxproc:deny=10</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="security-pkg">16.15. 监控第三方安全问题<a class="anchor" href="#security-pkg"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>近年来，安全领域在漏洞评估的处理方面取得了许多改进。随着第三方工具在几乎所有现有操作系统上的安装和配置，系统入侵的威胁也在增加。</p>
</div>
<div class="paragraph">
<p>漏洞评估是安全性的关键因素。虽然 FreeBSD 为基本系统发布了安全公告，但对于每个第三方实用程序都这样做超出了 FreeBSD 项目的能力范围。有一种方法可以减轻第三方漏洞并警告管理员已知的安全问题。一个名为 pkg 的 FreeBSD 附加实用程序专门包含了这个目的的选项。</p>
</div>
<div class="paragraph">
<p>pkg 轮询数据库以查找安全问题。该数据库由 FreeBSD 安全团队和端口开发人员更新和维护。</p>
</div>
<div class="paragraph">
<p>安装提供了用于维护 pkg audit 数据库的 <a href="https://man.freebsd.org/cgi/man.cgi?query=periodic&amp;sektion=8&amp;format=html">periodic(8)</a> 配置文件，并提供了一种程序化的方法来保持其更新。</p>
</div>
<div class="paragraph">
<p>安装完成后，管理员可以选择更新数据库并查看已安装软件包的已知漏洞，以便随时审核第三方工具作为 Ports Collection 的一部分。</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="gp">% </span>pkg audit -F</code></pre>
</div>
</div>
<div class="paragraph">
<p>输出应该类似于以下内容：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>vulnxml file up-to-date
chromium-116.0.5845.96_1 is vulnerable:
  chromium -- multiple vulnerabilities
  CVE: CVE-2023-4431
  CVE: CVE-2023-4427
  CVE: CVE-2023-4428
  CVE: CVE-2023-4429
  CVE: CVE-2023-4430
  WWW: https://vuxml.FreeBSD.org/freebsd/5fa332b9-4269-11ee-8290-a8a1599412c6.html

samba413-4.13.17_5 is vulnerable:
  samba -- multiple vulnerabilities
  CVE: CVE-2023-3347
  CVE: CVE-2023-34966
  CVE: CVE-2023-34968
  CVE: CVE-2022-2127
  CVE: CVE-2023-34967
  WWW: https://vuxml.FreeBSD.org/freebsd/441e1e1a-27a5-11ee-a156-080027f5fec9.html

2 problem(s) in 2 installed package(s) found.</pre>
</div>
</div>
<div class="paragraph">
<p>通过将 Web 浏览器指向显示的 URL，管理员可以获取有关漏洞的更多信息。</p>
</div>
<div class="paragraph">
<p>这将包括受影响的版本，按照 FreeBSD port 版本列出，以及可能包含安全公告的其他网站。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="security-advisories">16.16. FreeBSD 安全公告<a class="anchor" href="#security-advisories"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>像许多优质操作系统的生产者一样，FreeBSD 项目有一个安全团队，负责确定每个 FreeBSD 发布版本的生命周期结束（EoL）日期，并为尚未达到其 EoL 的受支持版本提供安全更新。有关 FreeBSD 安全团队和受支持版本的更多信息，请访问 <a href="https://www.FreeBSD.org/security">FreeBSD 安全页面</a>。</p>
</div>
<div class="paragraph">
<p>安全团队的一个任务是响应 FreeBSD 操作系统中报告的安全漏洞。一旦确认了漏洞，安全团队会验证修复漏洞所需的步骤，并更新源代码进行修复。然后，它将详细信息发布为“安全公告”。安全公告会发布在 <a href="https://www.FreeBSD.org/security/advisories/">FreeBSD 网站</a> 上，并发送给 <a href="https://lists.FreeBSD.org/subscription/freebsd-security-notifications">FreeBSD security notifications mailing list</a>、https://lists.FreeBSD.org/subscription/freebsd-security[FreeBSD security mailing list] 和 <a href="https://lists.FreeBSD.org/subscription/freebsd-announce">FreeBSD announcements mailing list</a>。</p>
</div>
<div class="sect2">
<h3 id="_安全公告的格式">16.16.1. 安全公告的格式<a class="anchor" href="#_安全公告的格式"></a></h3>
<div class="paragraph">
<p>这是一个 FreeBSD 安全公告的示例：</p>
</div>
<div class="literalblock programlisting">
<div class="content">
<pre>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

=============================================================================
FreeBSD-SA-23:07.bhyve                                      Security Advisory
                                                          The FreeBSD Project

Topic:          bhyve privileged guest escape via fwctl

Category:       core
Module:         bhyve
Announced:      2023-08-01
Credits:        Omri Ben Bassat and Vladimir Eli Tokarev from Microsoft
Affects:        FreeBSD 13.1 and 13.2
Corrected:      2023-08-01 19:48:53 UTC (stable/13, 13.2-STABLE)
                2023-08-01 19:50:47 UTC (releng/13.2, 13.2-RELEASE-p2)
                2023-08-01 19:48:26 UTC (releng/13.1, 13.1-RELEASE-p9)
CVE Name:       CVE-2023-3494

For general information regarding FreeBSD Security Advisories,
including descriptions of the fields above, security branches, and the
following sections, please visit &lt;URL:https://security.FreeBSD.org/&gt;.

I.   Background

bhyve(8)&#39;s fwctl interface provides a mechanism through which guest
firmware can query the hypervisor for information about the virtual
machine.  The fwctl interface is available to guests when bhyve is run
with the &#34;-l bootrom&#34; option, used for example when booting guests in
UEFI mode.

bhyve is currently only supported on the amd64 platform.

II.  Problem Description

The fwctl driver implements a state machine which is executed when the
guest accesses certain x86 I/O ports.  The interface lets the guest copy
a string into a buffer resident in the bhyve process&#39; memory.  A bug in
the state machine implementation can result in a buffer overflowing when
copying this string.

III. Impact

A malicious, privileged software running in a guest VM can exploit the
buffer overflow to achieve code execution on the host in the bhyve
userspace process, which typically runs as root.  Note that bhyve runs
in a Capsicum sandbox, so malicious code is constrained by the
capabilities available to the bhyve process.

IV.  Workaround

No workaround is available.  bhyve guests that are executed without the
&#34;-l bootrom&#34; option are unaffected.

V.   Solution

Upgrade your vulnerable system to a supported FreeBSD stable or
release / security branch (releng) dated after the correction date.

Perform one of the following:

1) To update your vulnerable system via a binary patch:

Systems running a RELEASE version of FreeBSD on the amd64, i386, or
(on FreeBSD 13 and later) arm64 platforms can be updated via the
freebsd-update(8) utility:

# freebsd-update fetch
# freebsd-update install

Restart all affected virtual machines.

2) To update your vulnerable system via a source code patch:

The following patches have been verified to apply to the applicable
FreeBSD release branches.

a) Download the relevant patch from the location below, and verify the
detached PGP signature using your PGP utility.

[FreeBSD 13.2]
# fetch https://security.FreeBSD.org/patches/SA-23:07/bhyve.13.2.patch
# fetch https://security.FreeBSD.org/patches/SA-23:07/bhyve.13.2.patch.asc
# gpg --verify bhyve.13.2.patch.asc

[FreeBSD 13.1]
# fetch https://security.FreeBSD.org/patches/SA-23:07/bhyve.13.1.patch
# fetch https://security.FreeBSD.org/patches/SA-23:07/bhyve.13.1.patch.asc
# gpg --verify bhyve.13.1.patch.asc

b) Apply the patch.  Execute the following commands as root:

# cd /usr/src
# patch &lt; /path/to/patch

c) Recompile the operating system using buildworld and installworld as
described in &lt;URL:https://www.FreeBSD.org/handbook/makeworld.html&gt;.

Restart all affected virtual machines.

VI.  Correction details

This issue is corrected by the corresponding Git commit hash or Subversion
revision number in the following stable and release branches:

Branch/path                             Hash                     Revision
- -------------------------------------------------------------------------
stable/13/                              9fe302d78109    stable/13-n255918
releng/13.2/                            2bae613e0da3  releng/13.2-n254625
releng/13.1/                            87702e38a4b4  releng/13.1-n250190
- -------------------------------------------------------------------------

Run the following command to see which files were modified by a
particular commit:

# git show --stat &lt;commit hash&gt;

Or visit the following URL, replacing NNNNNN with the hash:

&lt;URL:https://cgit.freebsd.org/src/commit/?id=NNNNNN&gt;

To determine the commit count in a working tree (for comparison against
nNNNNNN in the table above), run:

# git rev-list --count --first-parent HEAD

VII. References

&lt;URL:https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2023-3494&gt;

The latest revision of this advisory is available at
&lt;URL:https://security.FreeBSD.org/advisories/FreeBSD-SA-23:07.bhyve.asc&gt;
-----BEGIN PGP SIGNATURE-----

iQIzBAEBCgAdFiEEthUnfoEIffdcgYM7bljekB8AGu8FAmTJdsIACgkQbljekB8A
Gu8Q1Q/7BFw5Aa0cFxBzbdz+O5NAImj58MvKS6xw61bXcYr12jchyT6ENC7yiR+K
qCqbe5TssRbtZ1gg/94gSGEXccz5OcJGxW+qozhcdPUh2L2nzBPkMCrclrYJfTtM
cnmQKjg/wFZLUVr71GEM95ZFaktlZdXyXx9Z8eBzow5rXexpl1TTHQQ2kZZ41K4K
KFhup91dzGCIj02cqbl+1h5BrXJe3s/oNJt5JKIh/GBh5THQu9n6AywQYl18HtjV
fMb1qRTAS9WbiEP5QV2eEuOG86ucuhytqnEN5MnXJ2rLSjfb9izs9HzLo3ggy7yb
hN3tlbfIPjMEwYexieuoyP3rzKkLeYfLXqJU4zKCRnIbBIkMRy4mcFkfcYmI+MhF
NPh2R9kccemppKXeDhKJurH0vsetr8ti+AwOZ3pgO21+9w+mjE+EfaedIi+JWhip
hwqeFv03bAQHJdacNYGV47NsJ91CY4ZgWC3ZOzBZ2Y5SDtKFjyc0bf83WTfU9A/0
drC0z3xaJribah9e6k5d7lmZ7L6aHCbQ70+aayuAEZQLr/N1doB0smNi0IHdrtY0
JdIqmVX+d1ihVhJ05prC460AS/Kolqiaysun1igxR+ZnctE9Xdo1BlLEbYu2KjT4
LpWvSuhRMSQaYkJU72SodQc0FM5mqqNN42Vx+X4EutOfvQuRGlI=
=MlAY
-----END PGP SIGNATURE-----</pre>
</div>
</div>
<div class="paragraph">
<p>每个安全公告都使用以下格式：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>每个安全公告都由安全官员的 PGP 密钥签名。可以在 <a href="../pgpkeys/#pgpkeys">OpenPGP Keys</a> 上验证安全官员的公钥。</p>
</li>
<li>
<p>安全公告的名称始终以 <code>FreeBSD-SA-</code>（FreeBSD 安全公告）开头，后跟两位数格式的年份（<code>23:</code>），后跟该年份的公告编号（<code>07.</code>），后跟受影响的应用程序或子系统的名称（<code>bhyve</code>）。</p>
</li>
<li>
<p><code>Topic</code> 字段总结了漏洞的内容。</p>
</li>
<li>
<p><code>Category</code> 指的是系统中受影响的部分，可以是 <code>core</code>、<code>contrib</code> 或 <code>ports</code> 之一。<code>core</code> 类别表示漏洞影响 FreeBSD 操作系统的核心组件。<code>contrib</code> 类别表示漏洞影响 FreeBSD 中包含的软件，如 BIND。<code>ports</code> 类别表示漏洞影响通过 Ports Collection 提供的软件。</p>
</li>
<li>
<p><code>Module</code> 字段指的是组件的位置。在这个例子中，<code>bhyve</code> 模块受到影响；因此，这个漏洞会影响安装有操作系统的应用程序。</p>
</li>
<li>
<p><code>Announced</code> 字段反映了安全公告发布的日期。这意味着安全团队已经验证了问题的存在，并且已经提交了一个补丁到 FreeBSD 源代码仓库中。</p>
</li>
<li>
<p><code>Credits</code> 字段用于给发现并报告漏洞的个人或组织提供鸣谢。</p>
</li>
<li>
<p><code>Affects</code> 字段说明了哪些版本的 FreeBSD 受到此漏洞的影响。</p>
</li>
<li>
<p><code>Corrected</code> 字段表示修正的日期、时间、时间偏移和修正的发布版本。括号中的部分显示了已合并修复的每个分支，以及该分支对应发布的版本号。发布标识符本身包括版本号和（如果适用）补丁级别。补丁级别是字母 <code>p</code> 后跟一个数字，表示补丁的序列号，允许用户跟踪已应用到系统的补丁。</p>
</li>
<li>
<p><code>CVE Name</code> 字段列出了公共 <a href="http://cve.mitre.org">cve.mitre.org</a> 安全漏洞数据库中的咨询编号（如果存在）。</p>
</li>
<li>
<p><code>Background</code> 字段提供了受影响模块的描述。</p>
</li>
<li>
<p><code>Problem Description</code> 字段解释了漏洞的情况。这可能包括有关有缺陷的代码以及如何恶意使用该实用程序的信息。</p>
</li>
<li>
<p><code>Impact</code> 字段描述了问题对系统可能产生的影响类型。</p>
</li>
<li>
<p><code>Workaround</code> 字段指示系统管理员是否可以立即修补系统，以及是否有可用的解决方法。</p>
</li>
<li>
<p><code>Solution</code> 字段提供了修补受影响系统的指令。这是一个经过逐步测试和验证的方法，用于修补系统并确保其安全运行。</p>
</li>
<li>
<p><code>Correction Details</code> 字段显示了每个受影响的 Subversion 或 Git 分支以及包含修正代码的修订版本号。</p>
</li>
<li>
<p><code>References</code> 字段提供了有关漏洞的额外信息的来源。</p>
</li>
</ul>
</div>
</div>
</div>
</div>

    </div>
    
    <hr />
    <div class="last-modified">
      <p><strong>上次修改时间</strong>: September 18, 2024 by <a href="https://cgit.freebsd.org/doc/commit/?id=855dd59" target="_blank">fiercex</a></p>
    </div>
    
    <div class="buttons">
      
      <div class="prev">
        <i class="fa fa-angle-left" aria-hidden="true" title="Prev"></i>
        <div class="container">
          
            <a href=https://free.bsd-doc.org/zh-cn/books/handbook/boot class="direction">Prev</a>
          
        </div>
      </div>
      
      <div class="home">
        <i class="fa fa-home" aria-hidden="true" title="Home"></i>
        <div class="container">
          
            <a href="../" class="direction">Home</a>
          
        </div>
      </div>
      
      <div class="next">
        <div class="container">
          
            <a href=https://free.bsd-doc.org/zh-cn/books/handbook/jails  class="direction">Next</a>
          
        </div>
        <i class="fa fa-angle-right" aria-hidden="true" title="Next"></i>
      </div>
      
    </div>
    <label class="hidden book-menu-overlay" for="menu-control"></label>
  </div>
  <aside class="toc">
    <div class="toc-content">
      <h3>目录</h3>
      <nav id="TableOfContents">
  <ul>
    <li><a href="#security-synopsis">16.1. 简介</a></li>
    <li><a href="#security-intro">16.2. 介绍</a></li>
    <li><a href="#sec-accounts">16.3. 保护账户安全</a>
      <ul>
        <li><a href="#security-accounts">16.3.1. 防止登录</a></li>
        <li><a href="#security-passwords">16.3.2. 密码哈希值</a></li>
        <li><a href="#security-pwpolicy">16.3.3. 密码策略强制执行</a></li>
        <li><a href="#security-sudo">16.3.4. 使用 sudo 进行共享管理</a></li>
        <li><a href="#security-doas">16.3.5. 使用 Doas 进行共享管理</a></li>
      </ul>
    </li>
    <li><a href="#security-ids">16.4. 入侵检测系统（IDS）</a>
      <ul>
        <li><a href="#security-ids-generate-spec-file">16.4.1. 生成规范文件</a></li>
        <li><a href="#security-ids-spec-file-structure">16.4.2. 规范文件结构</a></li>
        <li><a href="#security-ids-verify-specification-file">16.4.3. 验证规范文件</a></li>
      </ul>
    </li>
    <li><a href="#security-secure-levels">16.5. 安全级别</a>
      <ul>
        <li><a href="#security-secure-levels-definitions">16.5.1. 安全级别定义</a></li>
        <li><a href="#security-modify-secure-levels">16.5.2. 修改安全级别</a></li>
      </ul>
    </li>
    <li><a href="#security-file-flags">16.6. 文件标志</a>
      <ul>
        <li><a href="#security-work-file-flag">16.6.1. 处理文件标志</a></li>
      </ul>
    </li>
    <li><a href="#openssh">16.7. OpenSSH</a>
      <ul>
        <li><a href="#_使用_ssh_客户端工具">16.7.1. 使用 SSH 客户端工具</a></li>
        <li><a href="#security-ssh-keygen">16.7.2. 基于密钥的身份验证</a></li>
        <li><a href="#security-ssh-tunneling">16.7.3. SSH 隧道</a></li>
        <li><a href="#_启用_ssh_服务器">16.7.4. 启用 SSH 服务器</a></li>
        <li><a href="#config-publickey-auth">16.7.5. 配置公钥身份验证方法</a></li>
        <li><a href="#security-sshd-security-options">16.7.6. SSH 服务器安全选项</a></li>
      </ul>
    </li>
    <li><a href="#openssl">16.8. OpenSSL</a>
      <ul>
        <li><a href="#generating-certificates">16.8.1. 生成证书</a></li>
        <li><a href="#fips-provider">16.8.2. 配置 FIPS 提供程序</a></li>
      </ul>
    </li>
    <li><a href="#kerberos5">16.9. Kerberos</a>
      <ul>
        <li><a href="#_设置_heimdal_kdc">16.9.1. 设置 Heimdal KDC</a></li>
        <li><a href="#_配置服务器使用_kerberos">16.9.2. 配置服务器使用 Kerberos</a></li>
        <li><a href="#_配置客户端使用_kerberos">16.9.3. 配置客户端使用 Kerberos</a></li>
        <li><a href="#_与_mit_的差异">16.9.4. 与 MIT 的差异</a></li>
        <li><a href="#_kerberos_提示技巧和故障排除">16.9.5. Kerberos 提示、技巧和故障排除</a></li>
        <li><a href="#_缓解_kerberos_的限制">16.9.6. 缓解 Kerberos 的限制</a></li>
        <li><a href="#_资源和进一步信息">16.9.7. 资源和进一步信息</a></li>
      </ul>
    </li>
    <li><a href="#tcpwrappers">16.10. TCP Wrappers</a>
      <ul>
        <li><a href="#tcpwrappers-initial-configuration">16.10.1. 初始配置</a></li>
        <li><a href="#tcpwrappers-advanced-config">16.10.2. 高级配置</a></li>
      </ul>
    </li>
    <li><a href="#fs-acl">16.11. 访问控制列表</a>
      <ul>
        <li><a href="#acl-enabling-support-ufs">16.11.1. 在 UFS 中启用 ACL 支持</a></li>
        <li><a href="#security-acl-info">16.11.2. 获取 ACL 信息</a></li>
        <li><a href="#security-working-acls">16.11.3. 使用 ACLs 进行工作</a></li>
      </ul>
    </li>
    <li><a href="#capsicum">16.12. Capsicum</a></li>
    <li><a href="#security-accounting">16.13. 进程账户</a>
      <ul>
        <li><a href="#_启用和利用进程账户">16.13.1. 启用和利用进程账户</a></li>
      </ul>
    </li>
    <li><a href="#security-resourcelimits">16.14. 资源限制</a>
      <ul>
        <li><a href="#security-resource-limits-types">16.14.1. 资源的类型</a></li>
        <li><a href="#users-limiting">16.14.2. 配置登录类</a></li>
        <li><a href="#security-rctl">16.14.3. 启用和配置资源限制</a></li>
      </ul>
    </li>
    <li><a href="#security-pkg">16.15. 监控第三方安全问题</a></li>
    <li><a href="#security-advisories">16.16. FreeBSD 安全公告</a>
      <ul>
        <li><a href="#_安全公告的格式">16.16.1. 安全公告的格式</a></li>
      </ul>
    </li>
  </ul>
</nav>
      <hr />
      
    </div>
  </aside>
  <a class="to-top" href="#top">
    <i class="fa fa-arrow-circle-up" aria-hidden="true"></i>
  </a>
</main>

    <footer>
  <div class="footer-container">
    <section class="logo-column">
          <img src="https://free.bsd-doc.org/images/FreeBSD-colors.svg" width="160" height="50" alt="FreeBSD logo" />
        
      </section>
      <section class="legal-column">
        <div class="options-container">
          
            <div class="language-container">
              <a id="languages" href="https://free.bsd-doc.org/zh-cn/languages">
                
                <img src="https://free.bsd-doc.org/images/language.png" class="language-image" alt="Choose language">
                <span>简体中文</span>
              </a>
            </div>
          
          <div class="theme-container">
            <select id="theme-chooser">
	      <option value="theme-system">System</option>
              <option value="theme-light">Light</option>
              <option value="theme-dark">Dark</option>
              <option value="theme-high-contrast">High contrast</option>
            </select>
          </div>
        </div>
      </section>
      
      <section class="copyright-column">
        
        <span>Made with <span class="heart">♥</span> <a href="https://github.com/fierceX" target="_blank">fiercex</a></span>
      </section>
  </div>
</footer>

  </body>
</html>
