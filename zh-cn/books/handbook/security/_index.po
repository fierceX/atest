# SOME DESCRIPTIVE TITLE
# Copyright (C) YEAR The FreeBSD Project
# This file is distributed under the same license as the FreeBSD Documentation package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: FreeBSD Documentation VERSION\n"
"POT-Creation-Date: 2023-12-17 07:06+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: \n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. type: YAML Front Matter: description
#: documentation/content/en/books/handbook/security/_index.adoc:1
#, no-wrap
msgid ""
"Hundreds of standard practices have been authored about how to secure "
"systems and networks, and as a user of FreeBSD, understanding how to protect"
" against attacks and intruders is a must"
msgstr "已经有数百种关于如何保护系统和网络的标准实践被撰写出来，作为 FreeBSD 的用户，了解如何防御攻击和入侵者是必须的。"

#. type: YAML Front Matter: part
#: documentation/content/en/books/handbook/security/_index.adoc:1
#, no-wrap
msgid "Part III. System Administration"
msgstr "第三部分：系统管理"

#. type: YAML Front Matter: title
#: documentation/content/en/books/handbook/security/_index.adoc:1
#, no-wrap
msgid "Chapter 16. Security"
msgstr "第 16 章 安全"

#. type: Title =
#: documentation/content/en/books/handbook/security/_index.adoc:14
#, no-wrap
msgid "Security"
msgstr "安全"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:39
#, 
msgid ""
"include::shared/attributes/attributes-{{% lang %}}.adoc[] "
"include::shared/{{% lang %}}/teams.adoc[] include::shared/{{% lang "
"%}}/mailing-lists.adoc[] include::shared/{{% lang %}}/urls.adoc[]"
msgstr ""

#. type: Title ==
#: documentation/content/en/books/handbook/security/_index.adoc:52
#, no-wrap
msgid "Synopsis"
msgstr "简介"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:55
#, 
msgid ""
"Hundreds of standard practices have been authored about how to secure "
"systems and networks, and as a user of FreeBSD, understanding how to protect"
" against attacks and intruders is a must."
msgstr "已经有数百种关于如何保护系统和网络的标准实践被撰写出来，作为 FreeBSD 的用户，了解如何防御攻击和入侵是必不可少的。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:58
#, 
msgid ""
"In this chapter, several fundamentals and techniques will be discussed.  The"
" FreeBSD system comes with multiple layers of security, and many more third "
"party utilities may be added to enhance security."
msgstr "在本章中，将讨论几个基本原理和技术。FreeBSD 系统具有多层安全性，并且可以添加许多第三方工具来增强安全性。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:60
#, 
msgid "This chapter covers:"
msgstr "本章内容包括："

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:62
#, 
msgid "Basic FreeBSD system security concepts."
msgstr "基本的 FreeBSD 系统安全概念。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:63
#, 
msgid "The various crypt mechanisms available in FreeBSD."
msgstr "在 FreeBSD 中可用的各种加密机制。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:64
#, 
msgid "How to configure TCP Wrappers for use with man:inetd[8]."
msgstr "如何配置 TCP Wrappers 以与 man:inetd[8] 一起使用。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:65
#, 
msgid "How to set up Kerberos on FreeBSD."
msgstr "在 FreeBSD 上设置 Kerberos 的方法。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:66
#, 
msgid "How to configure and use OpenSSH on FreeBSD."
msgstr "如何在 FreeBSD 上配置和使用 OpenSSH。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:67
#, 
msgid "How to use OpenSSL on FreeBSD."
msgstr "在 FreeBSD 上如何使用 OpenSSL。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:68
#, 
msgid "How to use file system ACLs."
msgstr "如何使用文件系统 ACL。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:69
#, 
msgid ""
"How to use pkg to audit third party software packages installed from the "
"Ports Collection."
msgstr "如何使用 pkg 来审计从 Ports 集合安装的第三方软件包。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:70
#, 
msgid "How to utilize FreeBSD security advisories."
msgstr "如何利用 FreeBSD 安全公告。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:71
#, 
msgid "What Process Accounting is and how to enable it on FreeBSD."
msgstr "进程账户是什么以及如何在 FreeBSD 上启用它。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:72
#, 
msgid ""
"How to control user resources using login classes or the resource limits "
"database."
msgstr "如何使用登录类或资源限制数据库来控制用户资源。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:73
#, 
msgid "What is Capsicum and a basic example."
msgstr "什么是 Capsicum 和一个基本例子。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:75
#, 
msgid ""
"Certain topics due to their complexity are found in dedicated chapters such "
"as crossref:firewalls[firewalls,Firewalls], crossref:mac[mac,Mandatory "
"Access Control] and articles like extref:{vpn-ipsec}[VPN over IPsec]."
msgstr ""
"由于其复杂性，某些主题在专门的章节中进行讨论，例如 crossref:firewalls[firewalls,防火墙]， "
"crossref:mac[mac,强制访问控制] 以及像 extref:{vpn-ipsec}[VPN over IPsec] 这样的文章。"

#. type: Title ==
#: documentation/content/en/books/handbook/security/_index.adoc:77
#, no-wrap
msgid "Introduction"
msgstr "介绍"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:82
#, 
msgid ""
"Security is everyone's responsibility.  A weak entry point in any system "
"could allow intruders to gain access to critical information and cause havoc"
" on an entire network.  One of the core principles of information security "
"is the CIA triad, which stands for the Confidentiality, Integrity, and "
"Availability of information systems."
msgstr ""
"安全是每个人的责任。任何系统中的弱入口都可能使入侵者获得对关键信息的访问权限，并对整个网络造成混乱。信息安全的核心原则之一是 CIA "
"三元组，即信息系统的机密性、完整性和可用性。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:85
#, 
msgid ""
"The CIA triad is a bedrock concept of computer security as customers and "
"users expect their data to be protected.  For example, a customer expects "
"that their credit card information is securely stored (confidentiality), "
"that their orders are not changed behind the scenes (integrity), and that "
"they have access to their order information at all times (availability)."
msgstr ""
"CIA "
"三元组是计算机安全的基本概念，因为客户和用户期望他们的数据得到保护。例如，客户期望他们的信用卡信息被安全地存储（保密性），他们的订单在幕后不被更改（完整性），并且他们可以随时访问他们的订单信息（可用性）。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:91
#, 
msgid ""
"To provide CIA, security professionals apply a defense in depth strategy.  "
"The idea of defense in depth is to add several layers of security to prevent"
" one single layer failing and the entire security system collapsing.  For "
"example, a system administrator cannot simply turn on a firewall and "
"consider the network or system secure.  One must also audit accounts, check "
"the integrity of binaries, and ensure malicious tools are not installed.  To"
" implement an effective security strategy, one must understand threats and "
"how to defend against them."
msgstr ""
"为了提供 CIA "
"（机密性、完整性和可用性），安全专业人员采用了深度防御策略。深度防御的理念是在安全系统中添加多层安全措施，以防止单个层面的失败导致整个安全系统崩溃。例如，系统管理员不能仅仅打开防火墙就认为网络或系统是安全的。还必须审计账户、检查二进制文件的完整性，并确保没有安装恶意工具。要实施有效的安全策略，必须了解威胁及其防御方法。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:94
#, 
msgid ""
"What is a threat as it pertains to computer security? Threats are not "
"limited to remote attackers who attempt to access a system without "
"permission from a remote location.  Threats also include employees, "
"malicious software, unauthorized network devices, natural disasters, "
"security vulnerabilities, and even competing corporations."
msgstr ""
"在计算机安全领域，威胁是指不仅限于试图从远程位置未经许可访问系统的远程攻击者。威胁还包括员工、恶意软件、未经授权的网络设备、自然灾害、安全漏洞，甚至竞争对手。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:98
#, 
msgid ""
"Systems and networks can be accessed without permission, sometimes by "
"accident, or by remote attackers, and in some cases, via corporate espionage"
" or former employees.  As a user, it is important to prepare for and admit "
"when a mistake has led to a security breach and report possible issues to "
"the security team.  As an administrator, it is important to know of the "
"threats and be prepared to mitigate them."
msgstr ""
"系统和网络有时会在没有许可的情况下被访问，有时是出于意外，或者是被远程攻击者访问，而在某些情况下，可能是通过企业间谍活动或前员工的方式进行访问。作为用户，重要的是要为可能导致安全漏洞的错误做好准备，并向安全团队报告可能存在的问题。作为管理员，了解威胁并做好准备以减轻其影响是非常重要的。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:104
#, 
msgid ""
"When applying security to systems, it is recommended to start by securing "
"the basic accounts and system configuration, and then to secure the network "
"layer so that it adheres to the system policy and the organization's "
"security procedures.  Many organizations already have a security policy that"
" covers the configuration of technology devices.  The policy should include "
"the security configuration of workstations, desktops, mobile devices, "
"phones, production servers, and development servers.  In many cases, "
"standard operating procedures (SOPs) already exist.  When in doubt, ask the "
"security team."
msgstr ""
"在应用安全措施到系统时，建议首先保护基本账户和系统配置，然后保护网络层，使其符合系统策略和组织的安全程序。许多组织已经有了涵盖技术设备配置的安全策略。该策略应包括工作站、桌面电脑、移动设备、电话、生产服务器和开发服务器的安全配置。在许多情况下，标准操作规程（"
"SOP）已经存在。如果有疑问，请咨询安全团队。"

#. type: Title ==
#: documentation/content/en/books/handbook/security/_index.adoc:106
#, no-wrap
msgid "Securing Accounts"
msgstr "保护账户安全"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:109
#, 
msgid ""
"Maintaining secure accounts in FreeBSD is crucial for data confidentiality, "
"system integrity, and privilege separation, as it prevents unauthorized "
"access, malware, and data breaches while ensuring compliance and protecting "
"an organization's reputation."
msgstr ""
"在 FreeBSD "
"中维护安全账户对于数据保密性、系统完整性和权限分离至关重要，它可以防止未经授权的访问、恶意软件和数据泄露，同时确保合规性并保护组织的声誉。"

#. type: Title ===
#: documentation/content/en/books/handbook/security/_index.adoc:111
#, no-wrap
msgid "Preventing Logins"
msgstr "防止登录"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:115
#, 
msgid ""
"In securing a system, a good starting point is an audit of accounts.  "
"Disable any accounts that do not need login access."
msgstr "在保护系统时，一个很好的起点是对账户进行审计。禁用任何不需要登录访问的账户。"

#. type: delimited block = 4
#: documentation/content/en/books/handbook/security/_index.adoc:119
#, 
msgid ""
"Ensure that `root` has a strong password and that this password is not "
"shared."
msgstr "确保 `root` 拥有一个强密码，并且不要共享该密码。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:122
#, 
msgid "To deny login access to accounts, two methods exist."
msgstr "拒绝登录账户有两种方法。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:124
#, 
msgid ""
"The first is to lock the account, this example shows how to lock the `imani`"
" account:"
msgstr "第一步是锁定账户，这个例子展示了如何锁定 `imani` 账户："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:128
#, no-wrap
msgid "# pw lock imani\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:132
#, 
msgid ""
"The second method is to prevent login access by changing the shell to "
"[.filename]#/usr/sbin/nologin#.  The man:nologin[8] shell prevents the "
"system from assigning a shell to the user when they attempt to login."
msgstr ""
"第二种方法是通过将 shell 更改为 [.filename]#/usr/sbin/nologin# 来阻止登录访问。 man:nologin[8] "
"shell 在用户尝试登录时阻止系统为其分配 shell。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:134
#, 
msgid "Only the superuser can change the shell for other users:"
msgstr "只有超级用户才能更改其他用户的 Shell。"

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:138
#, no-wrap
msgid "# chsh -s /usr/sbin/nologin imani\n"
msgstr ""

#. type: Title ===
#: documentation/content/en/books/handbook/security/_index.adoc:141
#, no-wrap
msgid "Password Hashes"
msgstr "密码哈希值"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:146
#, 
msgid ""
"Passwords are a necessary evil of technology.  When they must be used, they "
"should be complex and a powerful hash mechanism should be used to encrypt "
"the version that is stored in the password database.  FreeBSD supports "
"several algorithms, including SHA256, SHA512 and Blowfish hash algorithms in"
" its `crypt()` library, see man:crypt[3] for details."
msgstr ""
"密码是技术中不可或缺的恶魔。当必须使用密码时，它们应该是复杂的，并且应该使用强大的哈希机制来加密存储在密码数据库中的版本。FreeBSD "
"支持多种算法，包括 SHA256、SHA512 和 Blowfish 哈希算法在其 `crypt()` 库中，详细信息请参阅 "
"man:crypt[3]。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:148
#, 
msgid ""
"The default of SHA512 should not be changed to a less secure hashing "
"algorithm, but can be changed to the more secure Blowfish algorithm."
msgstr "不应将 SHA512 的默认值更改为较不安全的哈希算法，但可以更改为更安全的 Blowfish 算法。"

#. type: delimited block = 4
#: documentation/content/en/books/handbook/security/_index.adoc:153
#, 
msgid ""
"Blowfish is not part of AES and is not considered compliant with any Federal"
" Information Processing Standards (FIPS).  Its use may not be permitted in "
"some environments."
msgstr "Blowfish 不是 AES 的一部分，也不被认为符合任何联邦信息处理标准（FIPS）。在某些环境中可能不允许使用。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:157
#, 
msgid ""
"To determine which hash algorithm is used to encrypt a user's password, the "
"superuser can view the hash for the user in the FreeBSD password database.  "
"Each hash starts with a symbol which indicates the type of hash mechanism "
"used to encrypt the password."
msgstr ""
"为了确定用于加密用户密码的哈希算法，超级用户可以查看 FreeBSD "
"密码数据库中用户的哈希值。每个哈希值都以一个符号开头，该符号指示用于加密密码的哈希机制的类型。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:164
#, 
msgid ""
"If DES is used, there is no beginning symbol.  For MD5, the symbol is `$`.  "
"For SHA256 and SHA512, the symbol is `$6$`.  For Blowfish, the symbol is "
"`$2a$`.  In this example, the password for `imani` is hashed using the "
"default SHA512 algorithm as the hash starts with `$6$`.  Note that the "
"encrypted hash, not the password itself, is stored in the password database:"
msgstr ""
"如果使用 DES 加密算法，没有起始符号。对于 MD5 算法，起始符号是 `$`。对于 SHA256 和 SHA512 算法，起始符号是 `$"
"6$`。对于 Blowfish 算法，起始符号是 `$2a$`。在这个例子中，用户 `imani` 的密码使用默认的 SHA512 "
"算法进行哈希处理，因为哈希值以 `$6$` 开头。请注意，存储在密码数据库中的是加密后的哈希值，而不是密码本身。"

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:168
#, no-wrap
msgid "# grep imani /etc/master.passwd\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:171
#: documentation/content/en/books/handbook/security/_index.adoc:187
#: documentation/content/en/books/handbook/security/_index.adoc:238
#: documentation/content/en/books/handbook/security/_index.adoc:446
#: documentation/content/en/books/handbook/security/_index.adoc:538
#: documentation/content/en/books/handbook/security/_index.adoc:706
#: documentation/content/en/books/handbook/security/_index.adoc:736
#: documentation/content/en/books/handbook/security/_index.adoc:770
#: documentation/content/en/books/handbook/security/_index.adoc:997
#: documentation/content/en/books/handbook/security/_index.adoc:1039
#: documentation/content/en/books/handbook/security/_index.adoc:1282
#: documentation/content/en/books/handbook/security/_index.adoc:1311
#: documentation/content/en/books/handbook/security/_index.adoc:1339
#: documentation/content/en/books/handbook/security/_index.adoc:1353
#: documentation/content/en/books/handbook/security/_index.adoc:1398
#: documentation/content/en/books/handbook/security/_index.adoc:1420
#: documentation/content/en/books/handbook/security/_index.adoc:1935
#: documentation/content/en/books/handbook/security/_index.adoc:1973
#, 
msgid "The output should be similar to the following:"
msgstr "输出应该类似于以下内容："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:175
#, no-wrap
msgid ""
"imani:$6$pzIjSvCAn.PBYQBA$PXpSeWPx3g5kscj3IMiM7tUEUSPmGexxta.8Lt9TGSi2lNQqYGKszsBPuGME0:1001:1001::0:0:imani:/usr/home/imani:/bin/sh\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:178
#, 
msgid "The hash mechanism is set in the user's login class."
msgstr "哈希机制是设置在用户的登录类中的。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:180
#, 
msgid ""
"The following command can be run to check which hash mechanism is currently "
"being used:"
msgstr "可以运行以下命令来检查当前使用的哈希机制："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:184
#, no-wrap
msgid "# grep user /etc/master.passwd\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:191
#, no-wrap
msgid ":passwd_format=sha512:\\\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:194
#, 
msgid ""
"For example, to change the algorithm to Blowfish, modify that line to look "
"like this:"
msgstr "例如，要将算法更改为 Blowfish，将该行修改为以下内容："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:198
#, no-wrap
msgid ":passwd_format=blf:\\\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:201
#, 
msgid ""
"Then, man:cap_mkdb[1] must be executed to upgrade the login.conf database:"
msgstr "然后，必须执行 man:cap_mkdb[1] 命令来升级 login.conf 数据库："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:205
#: documentation/content/en/books/handbook/security/_index.adoc:272
#: documentation/content/en/books/handbook/security/_index.adoc:1853
#, no-wrap
msgid "# cap_mkdb /etc/login.conf\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:209
#, 
msgid ""
"Note that this change will not affect any existing password hashes.  This "
"means that all passwords should be re-hashed by asking users to run `passwd`"
" in order to change their password."
msgstr "请注意，此更改不会影响任何现有的密码哈希值。这意味着所有密码都应通过要求用户运行 `passwd` 来重新哈希，以更改他们的密码。"

#. type: Title ===
#: documentation/content/en/books/handbook/security/_index.adoc:211
#, no-wrap
msgid "Password Policy Enforcement"
msgstr "密码策略强制执行"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:215
#, 
msgid ""
"Enforcing a strong password policy for local accounts is a fundamental "
"aspect of system security.  In FreeBSD, password length, password strength, "
"and password complexity can be implemented using built-in Pluggable "
"Authentication Modules (PAM)."
msgstr ""
"对本地账户强制执行强密码策略是系统安全的基本方面。在 FreeBSD 中，可以使用内置的可插拔认证模块（PAM"
"）来实现密码长度、密码强度和密码复杂性。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:218
#, 
msgid ""
"This section demonstrates how to configure the minimum and maximum password "
"length and the enforcement of mixed characters using the man:pam_passwdqc[8]"
" module.  This module is enforced when a user changes their password."
msgstr ""
"本节演示了如何使用 man:pam_passwdqc[8] 模块配置最小和最大密码长度以及强制使用混合字符。当用户更改密码时，将强制执行此模块。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:220
#, 
msgid ""
"To configure this module, become the superuser and uncomment the line "
"containing `pam_passwdqc.so` in [.filename]#/etc/pam.d/passwd#."
msgstr ""
"要配置此模块，请成为超级用户，并取消注释包含 `pam_passwdqc.so` 的行，位于 "
"[.filename]#/etc/pam.d/passwd# 文件中。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:222
#, 
msgid "Then, edit that line to match the password policy:"
msgstr "然后，编辑该行以符合密码策略："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:226
#, no-wrap
msgid ""
"password        requisite       pam_passwdqc.so         "
"min=disabled,disabled,disabled,12,10 similar=deny retry=3 enforce=users\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:229
#, 
msgid "The explanation of the parameters can be found in man:pam_passwdqc[8]."
msgstr "参数的解释可以在 man:pam_passwdqc[8] 中找到。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:231
#, 
msgid ""
"Once this file is saved, a user changing their password will see a message "
"similar to the following:"
msgstr "一旦保存了这个文件，用户更改密码时将看到类似以下的消息："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:235
#, no-wrap
msgid "% passwd\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:243
#, no-wrap
msgid ""
"Changing local password for user\n"
"Old Password:\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:254
#, no-wrap
msgid ""
"You can now choose the new password.\n"
"A valid password should be a mix of upper and lower case letters,\n"
"digits and other characters.  You can use a 12 character long\n"
"password with characters from at least 3 of these 4 classes, or\n"
"a 10 character long password containing characters from all the\n"
"classes.  Characters that form a common pattern are discarded by\n"
"the check.\n"
"Alternatively, if no one else can see your terminal now, you can\n"
"pick this as your password: \"trait-useful&knob\".\n"
"Enter new password:\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:257
#, 
msgid ""
"If a password that does not match the policy is entered, it will be rejected"
" with a warning and the user will have an opportunity to try again, up to "
"the configured number of retries."
msgstr "如果输入的密码不符合策略要求，系统将拒绝并发出警告，用户将有机会再次尝试，最多可以重试配置的次数。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:259
#, 
msgid ""
"If your organization's policy requires passwords to expire, FreeBSD supports"
" the `passwordtime` in the user's login class in "
"[.filename]#/etc/login.conf#"
msgstr ""
"如果您的组织政策要求密码过期，FreeBSD 支持在用户的登录类中使用 `passwordtime` 选项，该选项可以在 "
"[.filename]#/etc/login.conf# 文件中设置。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:261
#, 
msgid "The `default` login class contains an example:"
msgstr "`default` 登录类包含一个示例："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:265
#, no-wrap
msgid "#       :passwordtime=90d:\\\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:268
#, 
msgid ""
"So, to set an expiry of 90 days for this login class, remove the comment "
"symbol (#), save the edit, and execute the following command:"
msgstr "因此，要为此登录类设置 90 天的到期时间，删除注释符号（＃），保存编辑，并执行以下命令："

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:275
#, 
msgid ""
"To set the expiration on individual users, pass an expiration date or the "
"number of days to expiry and a username to `pw`:"
msgstr "要为单个用户设置过期时间，请将过期日期或到期天数以及用户名传递给 `pw` 命令。"

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:279
#, no-wrap
msgid "# pw usermod -p 30-apr-2025 -n user\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:283
#, 
msgid ""
"As seen here, an expiration date is set in the form of day, month, and year."
"  For more information, see man:pw[8]."
msgstr "如图所示，过期日期以日、月和年的形式设置。有关更多信息，请参阅 man:pw[8]。"

#. type: Title ===
#: documentation/content/en/books/handbook/security/_index.adoc:285
#, no-wrap
msgid "Shared Administration with sudo"
msgstr "使用 sudo 进行共享管理"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:291
#, 
msgid ""
"System administrators often need the ability to grant enhanced permissions "
"to users so they may perform privileged tasks.  The idea that team members "
"are provided access to a FreeBSD system to perform their specific tasks "
"opens up unique challenges to every administrator.  These team members only "
"need a subset of access beyond normal end user levels; however, they almost "
"always tell management they are unable to perform their tasks without "
"superuser access.  Thankfully, there is no reason to provide such access to "
"end users because tools exist to manage this exact requirement."
msgstr ""
"系统管理员经常需要能够授予用户增强的权限，以便他们可以执行特权任务。团队成员被授予访问 FreeBSD "
"系统以执行他们的特定任务的想法，给每个管理员带来了独特的挑战。这些团队成员只需要超出普通用户级别的一部分访问权限；然而，他们几乎总是告诉管理层，如果没有超级用户访问权限，他们无法执行任务。幸运的是，没有必要为终端用户提供这样的访问权限，因为存在可以管理这个确切需求的工具。"

#. type: delimited block = 4
#: documentation/content/en/books/handbook/security/_index.adoc:295
#, 
msgid "Even administrators should limit their privileges when not needed."
msgstr "即使是管理员，在不需要时也应该限制他们的权限。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:303
#, 
msgid ""
"Up to this point, the security chapter has covered permitting access to "
"authorized users and attempting to prevent unauthorized access.  Another "
"problem arises once authorized users have access to the system resources.  "
"In many cases, some users may need access to application startup scripts, or"
" a team of administrators need to maintain the system.  Traditionally, the "
"standard users and groups, file permissions, and even the man:su[1] command "
"would manage this access.  And as applications required more access, as more"
" users needed to use system resources, a better solution was required.  The "
"most used application is currently Sudo."
msgstr ""
"到目前为止，安全章节已经涵盖了允许授权用户访问和防止未经授权访问的内容。一旦授权用户获得系统资源的访问权限，另一个问题就出现了。在许多情况下，一些用户可能需要访问应用程序启动脚本，或者一个管理员团队需要维护系统。传统上，标准用户和组、文件权限，甚至"
" man:su[1] "
"命令都可以管理这种访问权限。随着应用程序需要更多的访问权限，越来越多的用户需要使用系统资源，需要一个更好的解决方案。目前最常用的应用程序是 Sudo。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:306
#, 
msgid ""
"Sudo allows administrators to configure more rigid access to system commands"
" and provide for some advanced logging features.  As a tool, it is available"
" from the Ports Collection as package:security/sudo[] or by use of the "
"man:pkg[8] utility."
msgstr ""
"Sudo 允许管理员对系统命令进行更严格的访问配置，并提供一些高级日志记录功能。作为一个工具，可以通过 Ports Collection 中的 "
"package:security/sudo[] 包或使用 man:pkg[8] 实用程序来获取。"

#. type: delimited block = 4
#: documentation/content/en/books/handbook/security/_index.adoc:308
#: documentation/content/en/books/handbook/security/_index.adoc:388
#, 
msgid "Execute the following command to install it:"
msgstr "执行以下命令进行安装："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:312
#, no-wrap
msgid "# pkg install sudo\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:316
#, 
msgid ""
"After the installation is complete, the installed `visudo` will open the "
"configuration file with a text editor.  Using `visudo` is highly recommended"
" as it comes with a built in syntax checker to verify there are no errors "
"before the file is saved."
msgstr ""
"安装完成后，安装的 `visudo` 将使用文本编辑器打开配置文件。强烈建议使用 `visudo`"
"，因为它内置了语法检查器，可以在保存文件之前验证是否存在错误。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:320
#, 
msgid ""
"The configuration file is made up of several small sections which allow for "
"extensive configuration.  In the following example, web application "
"maintainer, user1, needs to start, stop, and restart the web application "
"known as _webservice_.  To grant this user permission to perform these "
"tasks, add this line to the end of [.filename]#/usr/local/etc/sudoers#:"
msgstr ""
"配置文件由几个小节组成，允许进行广泛的配置。在下面的示例中， Web 应用程序维护者 user1 需要启动、停止和重新启动名为 _webservice_ 的"
" Web 应用程序。为了授予该用户执行这些任务的权限，请将以下行添加到 [.filename]#/usr/local/etc/sudoers# "
"文件的末尾："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:324
#, no-wrap
msgid "user1   ALL=(ALL)       /usr/sbin/service webservice *\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:327
#, 
msgid "The user may now start _webservice_ using this command:"
msgstr "用户现在可以使用以下命令启动 _webservice_："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:331
#, no-wrap
msgid "% sudo /usr/sbin/service webservice start\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:337
#, 
msgid ""
"While this configuration allows a single user access to the webservice "
"service; however, in most organizations, there is an entire web team in "
"charge of managing the service.  A single line can also give access to an "
"entire group.  These steps will create a web group, add a user to this "
"group, and allow all members of the group to manage the service:"
msgstr ""
"虽然这个配置允许单个用户访问 webservice "
"服务；然而，在大多数组织中，有一个完整的网络团队负责管理该服务。一条单独的命令也可以给整个组提供访问权限。以下步骤将创建一个网络组，将用户添加到该组，并允许该组的所有成员管理该服务："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:341
#, no-wrap
msgid "# pw groupadd -g 6001 -n webteam\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:344
#, 
msgid ""
"Using the same man:pw[8] command, the user is added to the webteam group:"
msgstr "使用相同的 man:pw[8] 命令，将用户添加到 webteam 组中："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:348
#, no-wrap
msgid "# pw groupmod -m user1 -n webteam\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:351
#, 
msgid ""
"Finally, this line in [.filename]#/usr/local/etc/sudoers# allows any member "
"of the webteam group to manage _webservice_:"
msgstr "最后，这行代码在文件 [.filename]#/usr/local/etc/sudoers# 中允许 webteam 组的任何成员管理 _webservice_。"

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:355
#, no-wrap
msgid "%webteam   ALL=(ALL)       /usr/sbin/service webservice *\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:359
#, 
msgid ""
"Unlike man:su[1], man:sudo[8] only requires the end user password.  This "
"avoids sharing passwords, which is a poor practice."
msgstr "与 man:su[1] 不同，man:sudo[8] 只需要最终用户的密码。这就避免了共享密码这种不良做法。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:363
#, 
msgid ""
"Users permitted to run applications with man:sudo[8] only enter their own "
"passwords.  This is more secure and gives better control than man:su[1], "
"where the `root` password is entered and the user acquires all `root` "
"permissions."
msgstr ""
"只有被允许使用 man:sudo[8] 运行应用程序的用户需要输入自己的密码。这比使用 man:su[1] 更安全，并且提供了更好的控制，因为在 "
"man:su[1] 中需要输入 `root` 密码，用户将获得所有 `root` 权限。"

#. type: delimited block = 4
#: documentation/content/en/books/handbook/security/_index.adoc:368
#, 
msgid ""
"Most organizations are moving or have moved toward a two factor "
"authentication model.  In these cases, the user may not have a password to "
"enter."
msgstr "大多数组织正在转向或已经采用了双因素认证模型。在这些情况下，用户可能没有密码可输入。"

#. type: delimited block = 4
#: documentation/content/en/books/handbook/security/_index.adoc:371
#, 
msgid ""
"man:sudo[8] can be configured to permit two factor authentication model by "
"using the `NOPASSWD` variable.  Adding it to the configuration above will "
"allow all members of the _webteam_ group to manage the service without the "
"password requirement:"
msgstr ""
"man:sudo[8] 可以通过使用 `NOPASSWD` "
"变量来配置允许双因素认证模型。将其添加到上述配置中将允许 _webteam_ 组的所有成员在不需要密码的情况下管理该服务。"

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:375
#, no-wrap
msgid "%webteam   ALL=(ALL)       NOPASSWD: /usr/sbin/service webservice *\n"
msgstr ""

#. type: Title ===
#: documentation/content/en/books/handbook/security/_index.adoc:379
#, no-wrap
msgid "Shared Administration with Doas"
msgstr ""
"使用 Doas 进行共享管理"

#. type: delimited block = 4
#: documentation/content/en/books/handbook/security/_index.adoc:383
#, 
msgid ""
"man:doas[1] is a command-line utility ported from OpenBSD.  It serves as an "
"alternative to the widely used man:sudo[8] command in Unix-like systems."
msgstr ""
"man:doas[1] 是一个从 OpenBSD 移植过来的命令行实用程序。它作为 Unix-like 系统中广泛使用的 man:sudo[8] "
"命令的替代品。"

#. type: delimited block = 4
#: documentation/content/en/books/handbook/security/_index.adoc:386
#, 
msgid ""
"With doas, users can execute commands with elevated privileges, typically as"
" the root user, while maintaining a simplified and security-conscious "
"approach.  Unlike man:sudo[8], doas emphasizes simplicity and minimalism, "
"focusing on streamlined privilege delegation without an overwhelming array "
"of configuration options."
msgstr ""
"使用 doas，用户可以以提升的权限执行命令，通常是作为 root 用户，同时保持简化和注重安全的方法。与 man:sudo[8] 不同，doas "
"强调简单和极简主义，专注于简化的权限委派，而不是提供过多的配置选项。"

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:392
#, no-wrap
msgid "# pkg install doas\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:395
#, 
msgid ""
"After the installation [.filename]#/usr/local/etc/doas.conf# must be "
"configured to grant access for users for specific commands, or roles."
msgstr "安装完成后，必须配置 [.filename]#/usr/local/etc/doas.conf#，以授予用户对特定命令或角色的访问权限。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:397
#, 
msgid ""
"The simpliest entry could be the following, which grants the user "
"`local_user` with `root` permissions without asking for its password when "
"executing the doas command."
msgstr "最简单的条目可以是以下内容，它在执行 doas 命令时授予用户 `local_user` 以 `root` 权限，而无需输入密码。"

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:401
#, no-wrap
msgid "permit nopass local_user as root\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:404
#, 
msgid ""
"After the installation and configuration of the `doas` utility, a command "
"can now be executed with enhanced privileges, for example:"
msgstr "在安装和配置 `doas` 实用程序之后，现在可以使用增强的权限执行命令，例如："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:408
#, no-wrap
msgid "$ doas vi /etc/rc.conf\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:411
#, 
msgid "For more configuration examples, please read man:doas.conf[5]."
msgstr "要获取更多的配置示例，请阅读 man:doas.conf[5]。"

#. type: Title ==
#: documentation/content/en/books/handbook/security/_index.adoc:413
#, no-wrap
msgid "Intrusion Detection System (IDS)"
msgstr "入侵检测系统（IDS）"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:417
#, 
msgid ""
"Verification of system files and binaries is important because it provides "
"the system administration and security teams information about system "
"changes.  A software application that monitors the system for changes is "
"called an Intrusion Detection System (IDS)."
msgstr "验证系统文件和二进制文件的重要性在于为系统管理和安全团队提供有关系统变化的信息。监控系统变化的软件应用程序称为入侵检测系统（IDS）。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:421
#, 
msgid ""
"FreeBSD provides native support for a basic IDS system called man:mtree[8]."
"  While the nightly security emails will notify an administrator of changes,"
" the information is stored locally and there is a chance that a malicious "
"user could modify this information in order to hide their changes to the "
"system.  As such, it is recommended to create a separate set of binary "
"signatures and store them on a read-only, root-owned directory or, "
"preferably, on a removable USB disk or remote server."
msgstr ""
"FreeBSD 提供了对一种名为 man:mtree[8] 的基本 IDS "
"系统的本地支持。虽然每晚的安全电子邮件会通知管理员有关系统变更的信息，但这些信息是存储在本地的，恶意用户有可能修改这些信息以隐藏对系统的更改。因此，建议创建一个单独的二进制签名集，并将其存储在只读、属于"
" root 的目录上，或者更好地，存储在可移动的 USB 磁盘或远程服务器上。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:423
#, 
msgid "It is also recommended to run `freebsd-update IDS` after each update."
msgstr "每次更新后，建议运行 `freebsd-update IDS`。"

#. type: Title ===
#: documentation/content/en/books/handbook/security/_index.adoc:425
#, no-wrap
msgid "Generating the Specification File"
msgstr "生成规范文件"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:431
#, 
msgid ""
"The built-in man:mtree[8] utility can be used to generate a specification of"
" the contents of a directory.  A seed, or a numeric constant, is used to "
"generate the specification and is required to check that the specification "
"has not changed.  This makes it possible to determine if a file or binary "
"has been modified.  Since the seed value is unknown by an attacker, faking "
"or checking the checksum values of files will be difficult to impossible."
msgstr ""
"内置的 man:mtree[8] "
"实用程序可用于生成目录内容的规范。使用种子或数字常量生成规范，并且需要使用种子来检查规范是否发生了变化。这使得可以确定文件或二进制文件是否已被修改。由于攻击者不知道种子值，因此伪造或检查文件的校验和值将变得困难或几乎不可能。"

#. type: delimited block = 4
#: documentation/content/en/books/handbook/security/_index.adoc:436
#, 
msgid ""
"It is recommended to create specifications for the directories which contain"
" binaries and configuration files, as well as any directories containing "
"sensitive data.  Typically, specifications are created for "
"[.filename]#/bin#, [.filename]#/sbin#, [.filename]#/usr/bin#, "
"[.filename]#/usr/sbin#, [.filename]#/usr/local/bin#, [.filename]#/etc#, and "
"[.filename]#/usr/local/etc#."
msgstr ""
"建议为包含二进制文件和配置文件的目录以及包含敏感数据的目录创建规范。通常，会为 [.filename]#/bin#、[.filename]#/sbin#、[.filename]#/usr/bin#、[.filename]#/usr/sbin#"
"、[.filename]#/usr/local/bin#、[.filename]#/etc# 和 [.filename]#/usr/local/etc# 创建规范。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:439
#, 
msgid ""
"The following example generates a set of `sha512` hashes, one for each "
"system binary in [.filename]#/bin#, and saves those values to a hidden file "
"in user's home directory, [.filename]#/home/user/.bin_chksum_mtree#:"
msgstr ""
"以下示例生成一组 `sha512` 哈希值，每个哈希值对应于 [.filename]#/bin# "
"目录中的系统二进制文件，并将这些值保存到用户主目录下的隐藏文件 [.filename]#/home/user/.bin_chksum_mtree# 中。"

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:443
#, no-wrap
msgid ""
"# mtree -s 123456789 -c -K cksum,sha512 -p /bin > "
"/home/user/.bin_chksum_mtree\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:450
#, no-wrap
msgid "mtree: /bin checksum: 3427012225\n"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/handbook/security/_index.adoc:456
#, 
msgid ""
"The `123456789` value represents the seed, and should be chosen randomly.  "
"This value should be remembered, *but not shared*."
msgstr "`123456789` 值代表种子，应该随机选择。这个值应该被记住，*但不要分享* 。"

#. type: delimited block = 4
#: documentation/content/en/books/handbook/security/_index.adoc:458
#, 
msgid ""
"It is important to keep the seed value and the checksum output hidden from "
"malicious users."
msgstr "将种子值和校验和输出对恶意用户保密是很重要的。"

#. type: Title ===
#: documentation/content/en/books/handbook/security/_index.adoc:461
#, no-wrap
msgid "The Specification File Structure"
msgstr "规范文件结构"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:465
#, 
msgid ""
"The mtree format is a textual format that describes a collection of "
"filesystem objects.  Such files are typically used to create or verify "
"directory hierarchies."
msgstr "mtree 格式是一种描述文件系统对象集合的文本格式。这种文件通常用于创建或验证目录层次结构。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:467
#, 
msgid ""
"An mtree file consists of a series of lines, each providing information "
"about a single filesystem object. Leading whitespace is always ignored."
msgstr "一个 mtree 文件由一系列行组成，每行提供有关单个文件系统对象的信息。前导空格始终被忽略。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:469
#, 
msgid ""
"The specification file created above will be used to explain the format and "
"content:"
msgstr "上面创建的规范文件将用于解释格式和内容："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:476
#, no-wrap
msgid ""
"#          user: root <.>\n"
"#       machine: machinename <.>\n"
"#          tree: /bin <.>\n"
"#          date: Thu Aug  24 21:58:37 2023 <.>\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:491
#, no-wrap
msgid ""
"# .\n"
"/set type=file uid=0 gid=0 mode=0555 nlink=1 flags=uarch <.>\n"
".               type=dir mode=0755 nlink=2 time=1681388848.239523000 <.>\n"
"    \\133        nlink=2 size=12520 time=1685991378.688509000 \\\n"
"                cksum=520880818 \\\n"
"                sha512=5c1374ce0e2ba1b3bc5a41b23f4bbdc1ec89ae82fa01237f376a5eeef41822e68f1d8f75ec46b7bceb65396c122a9d837d692740fdebdcc376a05275adbd3471\n"
"    cat         size=14600 time=1685991378.694601000 cksum=3672531848 \\ <.>\n"
"                sha512=b30b96d155fdc4795432b523989a6581d71cdf69ba5f0ccb45d9b9e354b55a665899b16aee21982fffe20c4680d11da4e3ed9611232a775c69f926e5385d53a2\n"
"    chflags     size=8920 time=1685991378.700385000 cksum=1629328991 \\\n"
"                sha512=289a088cbbcbeb436dd9c1f74521a89b66643976abda696b99b9cc1fbfe8b76107c5b54d4a6a9b65332386ada73fc1bbb10e43c4e3065fa2161e7be269eaf86a\n"
"    chio        size=20720 time=1685991378.706095000 cksum=1948751604 \\\n"
"                sha512=46f58277ff16c3495ea51e74129c73617f31351e250315c2b878a88708c2b8a7bb060e2dc8ff92f606450dbc7dd2816da4853e465ec61ee411723e8bf52709ee\n"
"    chmod       size=9616 time=1685991378.712546000 cksum=4244658911 \\\n"
"                sha512=1769313ce08cba84ecdc2b9c07ef86d2b70a4206420dd71343867be7ab59659956f6f5a458c64e2531a1c736277a8e419c633a31a8d3c7ccc43e99dd4d71d630\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:500
#, 
msgid ""
"<.> User who created the specification.  <.> Machine's hostname.  <.> "
"Directory path.  <.> The Date and time when the specification was created.  "
"<.> `/set` special commands, defines some settings obtained from the files "
"analyzed.  <.> Refers to the parsed directory and indicates things like what"
" type it is, its mode, the number of hard links, and the time in UNIX format"
" since it was modified.  <.> Refers to the file and shows the size, time and"
" a list of hashes to verify the integrity."
msgstr ""
"<.> 创建规范的用户。 <.> 机器的主机名。 <.> 目录路径。 <.> 规范创建的日期和时间。 <.> `/set` "
"特殊命令，定义从分析的文件中获取的一些设置。 <.> 指的是解析的目录，并指示其类型、模式、硬链接数量和自修改以来的 UNIX 格式时间。 <.> "
"指的是文件，显示大小、时间和一系列哈希值以验证完整性。"

#. type: Title ===
#: documentation/content/en/books/handbook/security/_index.adoc:502
#, no-wrap
msgid "Verify the Specification file"
msgstr "验证规范文件"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:505
#, 
msgid ""
"To verify that the binary signatures have not changed, compare the current "
"contents of the directory to the previously generated specification, and "
"save the results to a file."
msgstr "为了验证二进制签名是否发生了变化，将当前目录的内容与先前生成的规范进行比较，并将结果保存到文件中。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:507
#, 
msgid ""
"This command requires the seed that was used to generate the original "
"specification:"
msgstr "该命令需要用于生成原始规范的种子。"

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:511
#: documentation/content/en/books/handbook/security/_index.adoc:528
#, no-wrap
msgid ""
"# mtree -s 123456789 -p /bin < /home/user/.bin_chksum_mtree >> "
"/home/user/.bin_chksum_output\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:515
#, 
msgid ""
"This should produce the same checksum for [.filename]#/bin# that was "
"produced when the specification was created.  If no changes have occurred to"
" the binaries in this directory, the "
"[.filename]#/home/user/.bin_chksum_output# output file will be empty."
msgstr ""
"这应该会为 [.filename]#/bin# 生成与创建规范时相同的校验和。如果在此目录中的二进制文件没有发生任何更改， "
"[.filename]#/home/user/.bin_chksum_output# 输出文件将为空。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:517
#, 
msgid ""
"To simulate a change, change the date on [.filename]#/bin/cat# using "
"man:touch[1] and run the verification command again:"
msgstr "为了模拟一个变化，使用 man:touch[1] 命令更改 [.filename]#/bin/cat# 的日期，然后再次运行验证命令："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:521
#, no-wrap
msgid "# touch /bin/cat\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:524
#, 
msgid "Run the verification command again:"
msgstr "再次运行验证命令："

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:531
#, 
msgid "And then check the content of the output file:"
msgstr "然后检查输出文件的内容："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:535
#, no-wrap
msgid "# cat /root/.bin_chksum_output\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:542
#, no-wrap
msgid ""
"cat:    modification time (Fri Aug 25 13:30:17 2023, Fri Aug 25 13:34:20 "
"2023)\n"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/handbook/security/_index.adoc:548
#, 
msgid ""
"This is just an example of what would be displayed when executing the "
"command, to show the changes that would occur in the metadata."
msgstr "这只是一个示例，展示执行命令时将显示的元数据更改。"

#. type: Title ==
#: documentation/content/en/books/handbook/security/_index.adoc:551
#, no-wrap
msgid "Secure levels"
msgstr "安全级别"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:555
#, 
msgid ""
"securelevel is a security mechanism implemented in the kernel.  When the "
"securelevel is positive, the kernel restricts certain tasks; not even the "
"superuser (root) is allowed to do them."
msgstr ""
"securelevel 是内核中实现的一种安全机制。当 securelevel 为正数时，内核会限制某些任务的执行；即使是超级用户（root"
"）也不被允许执行这些任务。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:557
#, 
msgid "The securelevel mechanism limits the ability to:"
msgstr "securelevel 机制限制了以下能力："

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:559
#, 
msgid "Unset certain file flags, such as `schg` (the system immutable flag)."
msgstr "取消特定文件标志，例如 `schg`（系统不可变标志）。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:560
#, 
msgid ""
"Write to kernel memory via [.filename]#/dev/mem# and [.filename]#/dev/kmem#."
msgstr "通过 [.filename]#/dev/mem# 和 [.filename]#/dev/kmem# 来写入内核内存。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:561
#, 
msgid "Load kernel modules."
msgstr "加载内核模块。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:562
#, 
msgid "Alter firewall rules."
msgstr "修改防火墙规则。"

#. type: Title ===
#: documentation/content/en/books/handbook/security/_index.adoc:564
#, no-wrap
msgid "Secure Levels Definitions"
msgstr "安全级别定义"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:568
#, 
msgid ""
"The kernel runs with five different security levels.  Any super-user process"
" can raise the level, but no process can lower it."
msgstr "内核运行在五个不同的安全级别下。任何超级用户进程都可以提升级别，但没有进程可以降低级别。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:570
#, 
msgid "The security definitions are:"
msgstr "安全定义如下："

#. type: Labeled list
#: documentation/content/en/books/handbook/security/_index.adoc:571
#, no-wrap
msgid "-1"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:574
#, no-wrap
msgid ""
"*Permanently insecure mode* - always run the system in insecure mode.\n"
"This is the default initial value.\n"
msgstr ""
"*永久不安全模式* - 始终以不安全模式运行系统。\n"
"这是默认的初始值。\n"

#. type: Labeled list
#: documentation/content/en/books/handbook/security/_index.adoc:575
#, no-wrap
msgid "0"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:578
#, no-wrap
msgid ""
"*Insecure mode* - immutable and append-only flags may be turned off.\n"
"All devices may be read or written subject to their permissions.\n"
msgstr ""
"* 安全模式* - 可以关闭不可变和仅追加标志。\n"
"所有设备都可以根据其权限进行读取或写入。\n"

#. type: Labeled list
#: documentation/content/en/books/handbook/security/_index.adoc:579
#, no-wrap
msgid "1"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:585
#, no-wrap
msgid ""
"*Secure mode* - the system immutable and system append-only flags may not be turned off;\n"
"disks for mounted file systems, [.filename]#/dev/mem# and [.filename]#/dev/kmem# may not be opened for writing;\n"
"[.filename]#/dev/io# (if your platform has it) may not be opened at all; kernel modules (see man:kld[4]) may not be loaded or unloaded.\n"
"The kernel debugger may not be entered using the debug.kdb.enter sysctl.\n"
"A panic or trap cannot be forced using the debug.kdb.panic, debug.kdb.panic_str and other sysctl's.\n"
msgstr ""
"*安全模式* - 系统的不可变和系统的只追加标志不能被关闭；\n"
"挂载的文件系统的磁盘、[.filename]#/dev/mem# 和 [.filename]#/dev/kmem# 不能被打开以进行写操作；\n"
"[.filename]#/dev/io# （如果您的平台有的话）不能被打开；\n"
"内核模块（参见 man:kld[4]）不能被加载或卸载。\n"
"不能使用 debug.kdb.enter sysctl 进入内核调试器。\n"
"不能使用 debug.kdb.panic、debug.kdb.panic_str 和其他 sysctl 来强制发生恐慌或陷阱。\n"

#. type: Labeled list
#: documentation/content/en/books/handbook/security/_index.adoc:586
#, no-wrap
msgid "2"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:589
#, no-wrap
msgid ""
"*Highly secure mode* - same as secure mode, plus disks may not be opened for writing (except by man:mount[2]) whether mounted or not.\n"
"This level precludes tampering with file systems by unmounting them, but also inhibits running man:newfs[8] while the system is multiuser.\n"
msgstr ""
"*高度安全模式* - 与安全模式相同，但是除了 man:mount[2] 之外，不允许打开磁盘进行写入操作，无论是否已挂载。\n"
"这个级别防止通过卸载文件系统来篡改它们，但同时也阻止在系统处于多用户状态下运行 man:newfs[8]。\n"

#. type: Labeled list
#: documentation/content/en/books/handbook/security/_index.adoc:590
#, no-wrap
msgid "3"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:592
#, no-wrap
msgid ""
"*Network secure mode* - same as highly secure mode, plus IP packet filter "
"rules (see man:ipfw[8], man:ipfirewall[4] and man:pfctl[8]) cannot be "
"changed and man:dummynet[4] or man:pf[4] configuration cannot be adjusted.\n"
msgstr ""
"*网络安全模式* - 与高度安全模式相同，还包括无法更改 IP 数据包过滤规则（参见 man:ipfw[8]，man:ipfirewall[4]"
" 和 man:pfctl[8]），以及无法调整 man:dummynet[4] 或 man:pf[4] 配置。\n"

#. type: delimited block = 4
#: documentation/content/en/books/handbook/security/_index.adoc:597
#, 
msgid ""
"In summary, the key difference between `Permanently Insecure Mode` and "
"`Insecure Mode` in FreeBSD secure levels is the degree of security they "
"provide.  `Permanently Insecure Mode` completely lifts all security "
"restrictions, while `Insecure Mode` relaxes some restrictions but still "
"maintains a level of control and security."
msgstr ""
"总结一下，在 FreeBSD "
"安全级别中，`永久不安全模式` 和 `不安全模式` 的关键区别在于它们提供的安全程度。`永久不安全模式` 完全解除了所有安全限制，而 `不安全模式` 放宽了一些限制，但仍保持一定的控制和安全性。"

#. type: Title ===
#: documentation/content/en/books/handbook/security/_index.adoc:600
#, no-wrap
msgid "Modify Secure Levels"
msgstr "修改安全级别"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:603
#, 
msgid ""
"In order to change the securelevel of the system it is necessary to activate"
" `kern_securelevel_enable` by executing the following command:"
msgstr "为了改变系统的安全级别，需要通过执行以下命令来激活 `kern_securelevel_enable`："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:607
#, no-wrap
msgid "# sysrc kern_securelevel_enable=\"YES\"\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:610
#, 
msgid "And set the value of `kern_securelevel` to the desired security level:"
msgstr "将 `kern_securelevel` 的值设置为所需的安全级别："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:614
#, no-wrap
msgid "# sysrc kern_securelevel=2\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:617
#, 
msgid ""
"To check the status of the securelevel on a running system execute the "
"following command:"
msgstr "要检查运行中系统的安全级别状态，请执行以下命令："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:621
#, no-wrap
msgid "# sysctl -n kern.securelevel\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:625
#, 
msgid ""
"The output contains the current value of the securelevel.  If it is greater "
"than 0, at least some of the securelevel's protections are enabled."
msgstr "输出包含了当前安全级别的值。如果该值大于 0 ，则表示安全级别的一些保护功能已经启用。"

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:629
#, no-wrap
msgid "-1\n"
msgstr ""

#. type: Title ==
#: documentation/content/en/books/handbook/security/_index.adoc:632
#, no-wrap
msgid "File flags"
msgstr "文件标志"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:636
#, 
msgid ""
"File flags allow users to attach additional metadata or attributes to files "
"and directories beyond basic permissions and ownership.  These flags provide"
" a way to control various behaviors and properties of files without needing "
"to resort to creating special directories or using extended attributes."
msgstr ""
"文件标志允许用户在基本权限和所有权之外，为文件和目录附加额外的元数据或属性。这些标志提供了一种控制文件的各种行为和属性的方式，而无需创建特殊目录或使用扩展属性。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:639
#, 
msgid ""
"File flags can be used to achieve different goals, such as preventing file "
"deletion, making files append-only, synchronizing file updates, and more.  "
"Some commonly used file flags in FreeBSD include the \"immutable\" flag, "
"which prevents modification or deletion of a file, and the \"append-only\" "
"flag, which allows only data to be added to the end of a file but not "
"modified or removed."
msgstr ""
"文件标志可以用于实现不同的目标，比如防止文件被删除，使文件只能追加，同步文件更新等等。在 FreeBSD "
"中，一些常用的文件标志包括“immutable”标志，它防止文件被修改或删除，以及“append-"
"only”标志，它只允许在文件末尾添加数据，而不能修改或删除数据。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:643
#, 
msgid ""
"These flags can be managed using the man:chflags[1] command in FreeBSD, "
"providing administrators and users with greater control over the behavior "
"and characteristics of their files and directories.  It is important to note"
" that file flags are typically managed by root or users with appropriate "
"privileges, as they can influence how files are accessed and manipulated.  "
"Some flags are available for the use of the file's owner, as described in "
"man:chflags[1]."
msgstr ""
"在 FreeBSD 中，可以使用 man:chflags[1] "
"命令来管理这些标志，为管理员和用户提供对其文件和目录的行为和特性具有更大的控制权。需要注意的是，文件标志通常由 root "
"用户或具有适当权限的用户管理，因为它们可以影响文件的访问和操作方式。一些标志可供文件所有者使用，详见 man:chflags[1]。"

#. type: Title ===
#: documentation/content/en/books/handbook/security/_index.adoc:645
#, no-wrap
msgid "Work with File Flags"
msgstr "处理文件标志"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:648
#, 
msgid ""
"In this example, a file named [.filename]#~/important.txt# in user's home "
"directory want to be protected against deletions."
msgstr "在这个例子中，用户的主目录中有一个名为 [.filename]#~/important.txt# 的文件，希望对其进行防删除保护。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:650
#, 
msgid "Execute the following command to set the `schg` file flag:"
msgstr "执行以下命令来设置 `schg` 文件标志："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:654
#, no-wrap
msgid "# chflags schg ~/important.txt\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:657
#, 
msgid ""
"When any user, including the `root` user, tries to delete the file, the "
"system will display the message:"
msgstr "当任何用户，包括 `root` 用户，尝试删除该文件时，系统将显示以下消息："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:661
#, no-wrap
msgid "rm: important.txt: Operation not permitted\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:664
#, 
msgid ""
"To delete the file, it will be necessary to delete the file flags of that "
"file by executing the following command:"
msgstr "要删除该文件，需要执行以下命令来删除该文件的文件标志："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:668
#, no-wrap
msgid "# chflags noschg ~/important.txt\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:671
#, 
msgid ""
"A list of supported file flags and their functionality can be found in "
"man:chflags[1]."
msgstr "可以在 man:chflags[1] 中找到支持的文件标志及其功能的列表。"

#. type: Title ==
#: documentation/content/en/books/handbook/security/_index.adoc:673
#, no-wrap
msgid "OpenSSH"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:678
#, 
msgid ""
"OpenSSH is a set of network connectivity tools used to provide secure access"
" to remote machines.  Additionally, TCP/IP connections can be tunneled or "
"forwarded securely through SSH connections.  OpenSSH encrypts all traffic to"
" eliminate eavesdropping, connection hijacking, and other network-level "
"attacks."
msgstr ""
"OpenSSH 是一组网络连接工具，用于提供对远程机器的安全访问。此外，可以通过 SSH 连接安全地隧道或转发 TCP/IP 连接。OpenSSH "
"对所有流量进行加密，以消除窃听、连接劫持和其他网络级攻击。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:680
#, 
msgid ""
"OpenSSH is maintained by the OpenBSD project and is installed by default in "
"FreeBSD."
msgstr "OpenSSH 由 OpenBSD 项目维护，并且在 FreeBSD 中默认安装。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:683
#, 
msgid ""
"When data is sent over the network in an unencrypted form, network sniffers "
"anywhere in between the client and server can steal user/password "
"information or data transferred during the session.  OpenSSH offers a "
"variety of authentication and encryption methods to prevent this from "
"happening."
msgstr ""
"当数据以未加密的形式通过网络发送时，位于客户端和服务器之间的网络嗅探器可以窃取用户/密码信息或在会话期间传输的数据。OpenSSH "
"提供了各种身份验证和加密方法，以防止这种情况发生。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:685
#, 
msgid ""
"More information about OpenSSH is available in the "
"link:https://www.openssh.com/[web page]."
msgstr "有关 OpenSSH 的更多信息，请访问 link:https://www.openssh.com/[这个页面]。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:688
#, 
msgid ""
"This section provides an overview of the built-in client utilities to "
"securely access other systems and securely transfer files from a FreeBSD "
"system.  It then describes how to configure a SSH server on a FreeBSD "
"system."
msgstr ""
"本节提供了内置的客户端工具的概述，用于安全地访问其他系统并从 FreeBSD 系统安全地传输文件。然后，它描述了如何在 FreeBSD 系统上配置 "
"SSH 服务器。"

#. type: delimited block = 4
#: documentation/content/en/books/handbook/security/_index.adoc:693
#, 
msgid ""
"As stated, this chapter will cover the base system version of OpenSSH.  A "
"version of OpenSSH is also available in the package:security/openssh-"
"portable[], which provides additional configuration options and is updated "
"more regularly."
msgstr ""
"如上所述，本章将介绍 OpenSSH 的基本系统版本。OpenSSH 的一个版本也可以在包 security/openssh-portable[] "
"中找到，该版本提供了额外的配置选项，并且定期更新。"

#. type: Title ===
#: documentation/content/en/books/handbook/security/_index.adoc:695
#, no-wrap
msgid "Using the SSH Client Utilities"
msgstr "使用 SSH 客户端工具"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:699
#, 
msgid ""
"To log into a SSH server, use man:ssh[1] and specify a username that exists "
"on that server and the IP address or hostname of the server.  If this is the"
" first time a connection has been made to the specified server, the user "
"will be prompted to first verify the server's fingerprint:"
msgstr ""
"要登录到 SSH 服务器，使用 man:ssh[1] 命令，并指定存在于该服务器上的用户名以及服务器的 IP "
"地址或主机名。如果这是第一次连接到指定的服务器，用户将被提示首先验证服务器的指纹："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:703
#, no-wrap
msgid "# ssh user@example.com\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:714
#, no-wrap
msgid ""
"The authenticity of host 'example.com (10.0.0.1)' can't be established.\n"
"ECDSA key fingerprint is 25:cc:73:b5:b3:96:75:3d:56:19:49:d2:5c:1f:91:3b.\n"
"Are you sure you want to continue connecting (yes/no)? yes\n"
"Permanently added 'example.com' (ECDSA) to the list of known hosts.\n"
"Password for user@example.com: user_password\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:720
#, 
msgid ""
"SSH utilizes a key fingerprint system to verify the authenticity of the "
"server when the client connects.  When the user accepts the key's "
"fingerprint by typing `yes` when connecting for the first time, a copy of "
"the key is saved to [.filename]#~/.ssh/known_hosts# in the user's home "
"directory.  Future attempts to login are verified against the saved key and "
"man:ssh[1] will display an alert if the server's key does not match the "
"saved key.  If this occurs, the user should first verify why the key has "
"changed before continuing with the connection."
msgstr ""
"SSH 利用密钥指纹系统来验证客户端连接时服务器的真实性。当用户在首次连接时通过输入 `yes` 接受密钥的指纹时，密钥的副本将保存在用户的主目录下的 "
"[.filename]#~/.ssh/known_hosts# 文件中。将来的登录尝试将根据保存的密钥进行验证，如果服务器的密钥与保存的密钥不匹配，"
" man:ssh[1] 将显示警告。如果发生这种情况，用户应该首先验证密钥为何发生变化，然后再继续连接。"

#. type: delimited block = 4
#: documentation/content/en/books/handbook/security/_index.adoc:724
#, 
msgid "How to perform this check is outside the scope of this chapter."
msgstr "如何执行此检查超出了本章的范围。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:727
#, 
msgid "Use man:scp[1] to securely copy a file to or from a remote machine."
msgstr "使用 man:scp[1] 命令可以安全地将文件从本地复制到远程机器，或者从远程机器复制到本地。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:729
#, 
msgid ""
"This example copies `COPYRIGHT` on the remote system to a file of the same "
"name in the current directory of the local system:"
msgstr "这个例子将远程系统上的 `COPYRIGHT` 文件复制到本地系统当前目录下同名的文件中："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:733
#, no-wrap
msgid "# scp user@example.com:/COPYRIGHT COPYRIGHT\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:741
#, no-wrap
msgid ""
"Password for user@example.com: *******\n"
"COPYRIGHT            100% |*****************************|  4735\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:744
#, 
msgid ""
"Since the fingerprint was already verified for this host, the server's key "
"is automatically checked before prompting for the user's password."
msgstr "由于该主机的指纹已经验证过，因此在提示用户输入密码之前，服务器的密钥会自动进行检查。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:749
#, 
msgid ""
"The arguments passed to man:scp[1] are similar to man:cp[1].  The file or "
"files to copy is the first argument and the destination to copy to is the "
"second.  Since the file is fetched over the network, one or more of the file"
" arguments takes the form `user@host:<path_to_remote_file>`.  Be aware when "
"copying directories recursively that man:scp[1] uses `-r`, whereas man:cp[1]"
" uses `-R`."
msgstr ""
"传递给 man:scp[1] 的参数与 man:cp[1] "
"类似。要复制的文件或文件是第一个参数，要复制到的目标是第二个参数。由于文件是通过网络获取的，因此一个或多个文件参数采用 `user@host:<path_to_remote_file>`"
" 的形式。在递归复制目录时，请注意 man:scp[1] 使用 `-r`，而 man:cp[1]"
" 使用 `-R`。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:751
#, 
msgid "To open an interactive session for copying files, use man:sftp[1]."
msgstr "要打开一个用于复制文件的交互式会话，请使用 man:sftp[1]。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:753
#, 
msgid ""
"Refer to man:sftp[1] for a list of available commands while in an "
"man:sftp[1] session."
msgstr "在 man:sftp[1] 会话中，可以参考 man:sftp[1] 获取可用命令的列表。"

#. type: Title ===
#: documentation/content/en/books/handbook/security/_index.adoc:755
#, no-wrap
msgid "Key-based Authentication"
msgstr "基于密钥的身份验证"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:759
#, 
msgid ""
"Instead of using passwords, a client can be configured to connect to the "
"remote machine using keys.  For security reasons, this is the preferred "
"method."
msgstr "客户端可以配置为使用密钥连接到远程机器，而不是使用密码。出于安全原因，这是首选的方法。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:763
#, 
msgid ""
"man:ssh-keygen[1] can be used to generate the authentication keys.  To "
"generate a public and private key pair, specify the type of key and follow "
"the prompts.  It is recommended to protect the keys with a memorable, but "
"hard to guess passphrase."
msgstr ""
"man:ssh-keygen[1] "
"可以用来生成身份验证密钥。要生成公钥和私钥对，请指定密钥类型并按照提示操作。建议使用易于记住但难以猜测的密码来保护密钥。"

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:767
#, no-wrap
msgid "% ssh-keygen -t rsa -b 4096\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:794
#, no-wrap
msgid ""
"Generating public/private rsa key pair.\n"
"Enter file in which to save the key (/home/user/.ssh/id_rsa):\n"
"Created directory '/home/user/.ssh/.ssh'.\n"
"Enter passphrase (empty for no passphrase):\n"
"Enter same passphrase again:\n"
"Your identification has been saved in /home/user/.ssh/id_rsa.\n"
"Your public key has been saved in /home/user/.ssh/id_rsa.pub.\n"
"The key fingerprint is:\n"
"SHA256:54Xm9Uvtv6H4NOo6yjP/YCfODryvUU7yWHzMqeXwhq8 user@host.example.com\n"
"The key's randomart image is:\n"
"+---[RSA 2048]----+\n"
"|                 |\n"
"|                 |\n"
"|                 |\n"
"|        . o..    |\n"
"|       .S*+*o    |\n"
"|      . O=Oo . . |\n"
"|       = Oo= oo..|\n"
"|      .oB.* +.oo.|\n"
"|       =OE**.o..=|\n"
"+----[SHA256]-----+\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:798
#, 
msgid ""
"The private key is stored in [.filename]#~/.ssh/id_rsa# and the public key "
"is stored in [.filename]#~/.ssh/id_rsa.pub#.  The _public_ key must be "
"copied to [.filename]#~/.ssh/authorized_keys# on the remote machine for key-"
"based authentication to work."
msgstr ""
"私钥存储在 [.filename]#~/.ssh/id_rsa# 中，公钥存储在 [.filename]#~/.ssh/id_rsa.pub# "
"中。为了使基于密钥的身份验证工作，必须将 _公钥_ 复制到远程机器上的 [.filename]#~/.ssh/authorized_keys#。"

#. type: delimited block = 4
#: documentation/content/en/books/handbook/security/_index.adoc:802
#, 
msgid ""
"Utilizing a passphrase for OpenSSH keys is a key security practice, "
"providing an extra layer of protection against unauthorized access and "
"enhancing overall cybersecurity."
msgstr "为 OpenSSH 密钥使用密码短语是一种关键的安全实践，可以提供额外的保护层，防止未经授权的访问，并增强整体网络安全性。"

#. type: delimited block = 4
#: documentation/content/en/books/handbook/security/_index.adoc:804
#, 
msgid "In case of loss or theft, this adds another layer of security."
msgstr "在遗失或被盗的情况下，这增加了另一层安全保障。"

#. type: Title ===
#: documentation/content/en/books/handbook/security/_index.adoc:807
#, no-wrap
msgid "SSH Tunneling"
msgstr "SSH 隧道"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:810
#, 
msgid ""
"OpenSSH has the ability to create a tunnel to encapsulate another protocol "
"in an encrypted session."
msgstr "OpenSSH 具有创建隧道的能力，可以在加密会话中封装另一种协议。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:812
#, 
msgid "The following command tells man:ssh[1] to create a tunnel:"
msgstr "以下命令告诉 man:ssh[1] 创建一个隧道："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:816
#, no-wrap
msgid "% ssh -D 8080 user@example.com\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:819
#, 
msgid "This example uses the following options:"
msgstr "这个例子使用了以下选项："

#. type: Labeled list
#: documentation/content/en/books/handbook/security/_index.adoc:820
#, no-wrap
msgid "-D"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:822
#, 
msgid "Specifies a local \"dynamic\" application-level port forwarding."
msgstr "指定了一个本地的“动态（dynamic）”应用层端口转发。"

#. type: Labeled list
#: documentation/content/en/books/handbook/security/_index.adoc:823
#, no-wrap
msgid "user@foo.example.com"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:825
#, 
msgid "The login name to use on the specified remote SSH server."
msgstr "在指定的远程 SSH 服务器上使用的登录名。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:827
#, 
msgid ""
"An SSH tunnel works by creating a listen socket on `localhost` on the "
"specified `localport`."
msgstr "SSH 隧道通过在指定的 `localport` 上在 `localhost` 上创建一个监听套接字来工作。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:829
#, 
msgid ""
"This method can be used to wrap any number of insecure TCP protocols such as"
" SMTP, POP3, and FTP."
msgstr "这种方法可以用来包装任意数量的不安全的 TCP 协议，如 SMTP、 POP3 和 FTP。"

#. type: Title ===
#: documentation/content/en/books/handbook/security/_index.adoc:830
#, no-wrap
msgid "Enabling the SSH Server"
msgstr "启用 SSH 服务器"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:833
#, 
msgid ""
"In addition to providing built-in SSH client utilities, a FreeBSD system can"
" be configured as an SSH server, accepting connections from other SSH "
"clients."
msgstr "除了提供内置的 SSH 客户端工具外， FreeBSD 系统还可以配置为 SSH 服务器，接受来自其他 SSH 客户端的连接。"

#. type: delimited block = 4
#: documentation/content/en/books/handbook/security/_index.adoc:838
#, 
msgid ""
"As stated, this chapter will cover the base system version of OpenSSH.  "
"Please *not* confuse with package:security/openssh-portable[], the version "
"of OpenSSH that ships with the FreeBSD ports."
msgstr ""
"正如所述，本章将涵盖 OpenSSH 的基本系统版本。请 *不要* 与 package:security/openssh-portable[] "
"混淆，后者是随 FreeBSD ports 一起提供的 OpenSSH 版本。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:841
#, 
msgid ""
"In order to have the SSH Server enabled across reboots execute the following"
" command:"
msgstr "为了在重新启动后启用 SSH 服务器，请执行以下命令："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:845
#, no-wrap
msgid "# sysrc sshd_enable=\"YES\"\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:848
#, 
msgid "Then execute the following command to enable the service:"
msgstr "然后执行以下命令以启用该服务："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:852
#, no-wrap
msgid "# service sshd start\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:856
#, 
msgid ""
"The first time sshd starts on a FreeBSD system, the system's host keys will "
"be automatically created and the fingerprint will be displayed on the "
"console.  Provide users with the fingerprint so that they can verify it the "
"first time they connect to the server."
msgstr ""
"在 FreeBSD 系统上首次启动 sshd "
"时，系统的主机密钥将会自动创建，并且指纹将会显示在控制台上。提供用户指纹，以便他们在首次连接服务器时进行验证。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:858
#, 
msgid ""
"Refer to man:sshd[8] for the list of available options when starting sshd "
"and a more complete discussion about authentication, the login process, and "
"the various configuration files."
msgstr "请参考 man:sshd[8] 以获取在启动 sshd 时可用的选项列表，以及有关身份验证、登录过程和各种配置文件的更完整的讨论。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:860
#, 
msgid ""
"At this point, the sshd should be available to all users with a username and"
" password on the system."
msgstr "在这一点上，sshd 应该对系统上所有具有用户名和密码的用户可用。"

#. type: Title ===
#: documentation/content/en/books/handbook/security/_index.adoc:862
#, no-wrap
msgid "Configuring publickey auth method"
msgstr "配置公钥身份验证方法"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:867
#, 
msgid ""
"Configuring OpenSSH to use public key authentication enhances security by "
"leveraging asymmetric cryptography for authentication.  This method "
"eliminates password-related risks, such as weak passwords or interception "
"during transmission, while thwarting various password-based attacks.  "
"However, it's vital to ensure the private keys are well-protected to prevent"
" unauthorized access."
msgstr ""
"通过配置 OpenSSH "
"使用公钥身份验证，可以通过利用非对称加密进行身份验证来增强安全性。这种方法消除了与密码相关的风险，例如弱密码或在传输过程中的拦截，同时阻止了各种基于密码的攻击。然而，确保私钥受到良好保护以防止未经授权的访问非常重要。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:869
#, 
msgid ""
"The first step will be to configure man:sshd[8] to use the required "
"authentication method."
msgstr "第一步是配置 man:sshd[8] 以使用所需的身份验证方法。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:871
#, 
msgid ""
"Edit [.filename]#/etc/ssh/sshd_config# and uncomment the following "
"configuration:"
msgstr "编辑 [.filename]#/etc/ssh/sshd_config# 文件，并取消以下配置的注释："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:875
#, no-wrap
msgid "PubkeyAuthentication yes\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:879
#, 
msgid ""
"Once the configuration is done, the users will have to send the system "
"administrator their *public key* and these keys will be added in "
"[.filename]#.ssh/authorized_keys#.  The process for generating the keys is "
"described in <<Key-based Authentication>>."
msgstr ""
"一旦配置完成，用户将需要将他们的 *公钥* 发送给系统管理员，这些密钥将被添加到 [.filename]#.ssh/authorized_keys#"
" 文件中。生成密钥的过程在 <<Key-based Authentication,基于密钥的身份验证>> 中描述。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:881
#, 
msgid "Then restart the server executing the following command:"
msgstr "然后执行以下命令重新启动服务器："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:885
#: documentation/content/en/books/handbook/security/_index.adoc:955
#, no-wrap
msgid "# service sshd reload\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:888
#, 
msgid ""
"It is strongly recommended to follow the security improvements indicated in "
"<<security-sshd-security-options>>."
msgstr "强烈建议按照 <<security-sshd-security-options,SSH 服务器安全选项>> 中指示的安全改进措施进行操作。"

#. type: Title ===
#: documentation/content/en/books/handbook/security/_index.adoc:890
#, no-wrap
msgid "SSH Server Security Options"
msgstr "SSH 服务器安全选项"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:893
#, 
msgid ""
"While sshd is the most widely used remote administration facility for "
"FreeBSD, brute force and drive by attacks are common to any system exposed "
"to public networks."
msgstr "尽管 sshd 是 FreeBSD 最广泛使用的远程管理工具，但暴力破解和驱动攻击对于任何暴露在公共网络中的系统来说都是常见的。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:896
#, 
msgid ""
"Several additional parameters are available to prevent the success of these "
"attacks and will be described in this section.  All configurations will be "
"done in [.filename]#/etc/ssh/sshd_config#"
msgstr "本节将介绍几个可用的额外参数，以防止这些攻击的成功。所有配置都将在 [.filename]#/etc/ssh/sshd_config# 文件中完成。"

#. type: delimited block = 4
#: documentation/content/en/books/handbook/security/_index.adoc:902
#, 
msgid ""
"Do not confuse [.filename]#/etc/ssh/sshd_config# with "
"[.filename]#/etc/ssh/ssh_config# (note the extra `d` in the first filename)."
"  The first file configures the server and the second file configures the "
"client.  Refer to man:ssh_config[5] for a listing of the available client "
"settings."
msgstr ""
"不要将 [.filename]#/etc/ssh/sshd_config# 与 [.filename]#/etc/ssh/ssh_config# "
"混淆（注意第一个文件名中多了一个 `d`）。第一个文件配置服务器，第二个文件配置客户端。请参考 man:ssh_config[5] "
"以获取可用客户端设置的列表。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:906
#, 
msgid ""
"By default, authentication can be done with both pubkey and password.  To "
"allow *only* pubkey authentication, *which is strongly recommended*, change "
"the variable:"
msgstr "默认情况下，可以使用公钥和密码进行身份验证。为了 *仅* 允许公钥身份验证，*强烈推荐*，请更改变量："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:910
#, no-wrap
msgid "PasswordAuthentication no\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:914
#, 
msgid ""
"It is a good idea to limit which users can log into the SSH server and from "
"where using the `AllowUsers` keyword in the OpenSSH server configuration "
"file.  For example, to only allow `user` to log in from `192.168.1.32`, add "
"this line to [.filename]#/etc/ssh/sshd_config#:"
msgstr ""
"在 OpenSSH 服务器配置文件中使用 `AllowUsers` 关键字限制哪些用户可以登录 SSH 服务器以及从哪里登录是一个好主意。例如，要仅允许"
" `user` 从 `192.168.1.32` 登录，将以下行添加到 [.filename]#/etc/ssh/sshd_config# 文件中："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:918
#, no-wrap
msgid "AllowUsers user@192.168.1.32\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:921
#, 
msgid ""
"To allow `user` to log in from anywhere, list that user without specifying "
"an IP address:"
msgstr "为了允许 `user` 从任何地方登录，列出该用户而不指定 IP 地址："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:925
#, no-wrap
msgid "AllowUsers user\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:928
#, 
msgid "Multiple users should be listed on the same line, like so:"
msgstr "多个用户应该在同一行上列出，如下所示："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:932
#, no-wrap
msgid "AllowUsers root@192.168.1.32 user\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:935
#, 
msgid ""
"After making all the changes, and before restarting the service, it is "
"recommended to verify that the configuration made is correct by executing "
"the following command:"
msgstr "在进行所有更改之后，在重新启动服务之前，建议通过执行以下命令来验证所做的配置是否正确："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:939
#, no-wrap
msgid "# sshd -t\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:943
#, 
msgid ""
"If the configuration file is correct, no output will be shown.  In case the "
"configuration file is incorrect, it will show something like this:"
msgstr "如果配置文件正确，将不会显示任何输出。如果配置文件不正确，将会显示类似以下内容："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:948
#, no-wrap
msgid ""
"/etc/ssh/sshd_config: line 3: Bad configuration option: sdadasdasdasads\n"
"/etc/ssh/sshd_config: terminating, 1 bad configuration options\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:951
#, 
msgid ""
"After making the changes and checking that the configuration file is "
"correct, tell sshd to reload its configuration file by running:"
msgstr "在进行更改并确认配置文件正确后，通过运行以下命令告诉 sshd 重新加载其配置文件："

#. type: Title ==
#: documentation/content/en/books/handbook/security/_index.adoc:958
#, no-wrap
msgid "OpenSSL"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:961
#, 
msgid ""
"OpenSSL is a cryptography toolkit implementing the Secure Sockets Layer "
"(SSL) and Transport Layer Security (TLS) network protocols and many "
"cryptography routines."
msgstr "OpenSSL 是一个实现安全套接字层（SSL）和传输层安全（TLS）网络协议以及许多密码学例程的密码学工具包。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:964
#, 
msgid ""
"The openssl program is a command line tool for using the various "
"cryptography functions of OpenSSL's crypto library from the shell.  It can "
"be used for"
msgstr "openssl 程序是一个命令行工具，用于在 shell 中使用 OpenSSL 的加密库的各种加密功能。它可以用于"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:966
#, 
msgid "Creation and management of private keys, public keys and parameters"
msgstr "私钥、公钥和参数的创建和管理"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:967
#, 
msgid "Public key cryptographic operations"
msgstr "公钥加密操作"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:968
#, 
msgid "Creation of X.509 certificates, CSRs and CRLs"
msgstr "创建 X.509 证书、证书签名请求（CSR）和证书撤销列表（CRL）"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:969
#, 
msgid "Calculation of Message Digests"
msgstr "消息摘要的计算"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:970
#, 
msgid "Encryption and Decryption with Ciphers"
msgstr "使用密码进行加密和解密"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:971
#, 
msgid "SSL/TLS Client and Server Tests"
msgstr "SSL/TLS 客户端和服务器测试"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:972
#, 
msgid "Handling of S/MIME signed or encrypted mail"
msgstr "处理 S/MIME 签名或加密邮件"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:973
#, 
msgid "Time Stamp requests, generation and verification"
msgstr "时间戳请求、生成和验证"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:974
#, 
msgid "Benchmarking the crypto routines"
msgstr "对加密算法进行基准测试"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:976
#, 
msgid ""
"For more information about OpenSSL, read the free "
"https://www.feistyduck.com/books/openssl-cookbook/[OpenSSL Cookbook]."
msgstr ""
"有关 OpenSSL 的更多信息，请阅读免费的 "
"https://www.feistyduck.com/books/openssl-cookbook/[OpenSSL Cookbook]。"

#. type: Title ===
#: documentation/content/en/books/handbook/security/_index.adoc:978
#, no-wrap
msgid "Generating Certificates"
msgstr "生成证书"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:981
#, 
msgid ""
"OpenSSL supports the generation of certificates both to be validated by a "
"link:https://en.wikipedia.org/wiki/Certificate_authority[CA] and for own "
"use."
msgstr "OpenSSL 支持生成证书，既可以由证书颁发机构（CA）验证，也可以供自己使用。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:988
#, 
msgid ""
"Run the command man:openssl[1] to generate a valid certificate for a "
"link:https://en.wikipedia.org/wiki/Certificate_authority[CA] with the "
"following arguments.  This command will create two files in the current "
"directory.  The certificate request, [.filename]#req.pem#, can be sent to a "
"link:https://en.wikipedia.org/wiki/Certificate_authority[CA] which, will "
"validate the entered credentials, sign the request, and return the signed "
"certificate.  The second file, [.filename]#cert.key#, is the private key for"
" the certificate and should be stored in a secure location.  If this falls "
"in the hands of others, it can be used to impersonate the user or the "
"server."
msgstr ""
"运行命令 man:openssl[1] 以使用以下参数生成一个有效的证书，用于一个名为 "
"link:https://en.wikipedia.org/wiki/Certificate_authority[CA] "
"的证书颁发机构。该命令将在当前目录中创建两个文件。证书请求文件 [.filename]#req.pem# 可以发送给 "
"link:https://en.wikipedia.org/wiki/Certificate_authority[CA] "
"，该机构将验证输入的凭据，签署请求并返回签署后的证书。第二个文件 [.filename]#cert.key# "
"是证书的私钥，应存放在安全的位置。如果该私钥落入他人之手，可能被用来冒充用户或服务器。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:990
#: documentation/content/en/books/handbook/security/_index.adoc:1032
#, 
msgid "Execute the following command to generate the certificate:"
msgstr "执行以下命令以生成证书："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:994
#, no-wrap
msgid ""
"# openssl req -new -nodes -out req.pem -keyout cert.key -sha3-512 -newkey "
"rsa:4096\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:1019
#, no-wrap
msgid ""
"Generating a RSA private key\n"
"..................................................................................................................................+++++\n"
"......................................+++++\n"
"writing new private key to 'cert.key'\n"
"-----\n"
"You are about to be asked to enter information that will be incorporated\n"
"into your certificate request.\n"
"What you are about to enter is what is called a Distinguished Name or a DN.\n"
"There are quite a few fields but you can leave some blank\n"
"For some fields there will be a default value,\n"
"If you enter '.', the field will be left blank.\n"
"-----\n"
"Country Name (2 letter code) [AU]:ES\n"
"State or Province Name (full name) [Some-State]:Valencian Community\n"
"Locality Name (eg, city) []:Valencia\n"
"Organization Name (eg, company) [Internet Widgits Pty Ltd]:My Company\n"
"Organizational Unit Name (eg, section) []:Systems Administrator\n"
"Common Name (e.g. server FQDN or YOUR name) []:localhost.example.org\n"
"Email Address []:user@FreeBSD.org\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:1024
#, no-wrap
msgid ""
"Please enter the following 'extra' attributes\n"
"to be sent with your certificate request\n"
"A challenge password []:123456789\n"
"An optional company name []:Another name\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1030
#, 
msgid ""
"Alternately, if a signature from a "
"link:https://en.wikipedia.org/wiki/Certificate_authority[CA] is not "
"required, a self-signed certificate can be created.  This will create two "
"new files in the current directory: a private key file "
"[.filename]#cert.key#, and the certificate itself, [.filename]#cert.crt#.  "
"These should be placed in a directory, preferably under "
"[.filename]#/etc/ssl/#, which is readable only by `root`.  Permissions of "
"`0700` are appropriate for these files and can be set using `chmod`."
msgstr ""
"或者，如果不需要来自 link:https://en.wikipedia.org/wiki/Certificate_authority[CA] "
"的签名，可以创建自签名证书。这将在当前目录中创建两个新文件：私钥文件 [.filename]#cert.key# 和证书本身 [.filename]#cert.crt#"
"。这些文件应该放在一个目录中，最好是在 [.filename]#/etc/ssl/# 下，该目录只能由 `root` 用户读取。对于这些文件，适当的权限是 `0700` "
"，可以使用 `chmod` 命令设置。"

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:1036
#, no-wrap
msgid ""
"# openssl req -new -x509 -days 365 -sha3-512 -keyout "
"/etc/ssl/private/cert.key -out /etc/ssl/certs/cert.crt\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:1063
#, no-wrap
msgid ""
"Generating a RSA private key\n"
"........................................+++++\n"
"...........+++++\n"
"writing new private key to '/etc/ssl/private/cert.key'\n"
"Enter PEM pass phrase:\n"
"Verifying - Enter PEM pass phrase:\n"
"-----\n"
"You are about to be asked to enter information that will be incorporated\n"
"into your certificate request.\n"
"What you are about to enter is what is called a Distinguished Name or a DN.\n"
"There are quite a few fields but you can leave some blank\n"
"For some fields there will be a default value,\n"
"If you enter '.', the field will be left blank.\n"
"-----\n"
"Country Name (2 letter code) [AU]:ES\n"
"State or Province Name (full name) [Some-State]:Valencian Community\n"
"Locality Name (eg, city) []:Valencia\n"
"Organization Name (eg, company) [Internet Widgits Pty Ltd]:My Company\n"
"Organizational Unit Name (eg, section) []:Systems Administrator\n"
"Common Name (e.g. server FQDN or YOUR name) []:localhost.example.org\n"
"Email Address []:user@FreeBSD.org\n"
msgstr ""

#. type: Title ===
#: documentation/content/en/books/handbook/security/_index.adoc:1066
#, no-wrap
msgid "Configuring the FIPS Provider"
msgstr "配置 FIPS 提供程序"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1073
#, 
msgid ""
"With the import of OpenSSL 3 into the base system (on FreeBSD 14 and later),"
" its new concept of provider modules was introduced in the system.  Besides "
"the default provider module built-in to the library, the _legacy_ module "
"implements the now optional deprecated cryptography algorithms, while the "
"_fips_ module restricts the OpenSSL implementation to the cryptography "
"algorithms present in the "
"link:https://en.wikipedia.org/wiki/Federal_Information_Processing_Standards[FIPS]"
" set of standards.  This part of OpenSSL receives "
"link:https://www.openssl.org/docs/fips.html[particular care], including a "
"link:https://www.openssl.org/news/fips-cve.html[list of relevant security "
"issues], and is subject to the "
"link:https://github.com/openssl/openssl/blob/master/README-FIPS.md[FIPS 140 "
"validation process] on a regular basis.  The "
"link:https://www.openssl.org/source/[list of FIPS validated versions] is "
"also available.  This allows users to ensure FIPS compliance in their use of"
" OpenSSL."
msgstr ""
"随着 OpenSSL 3 进入基础系统（在 FreeBSD 14 "
"及更高版本中），系统引入了其新的提供者模块概念。除了库中内置的默认提供者模块外，_legacy_ 模块实现了现在可选的已弃用的密码算法，而 _fips_ 模块将"
" OpenSSL 实现限制为链接中存在的密码算法： "
"link:https://en.wikipedia.org/wiki/Federal_Information_Processing_Standards[FIPS]"
" 标准集。OpenSSL 的这部分接受特别关注，包括一份相关安全问题的链接： "
"link:https://www.openssl.org/news/fips-cve.html[列表] ，并定期进行 "
"link:https://github.com/openssl/openssl/blob/master/README-FIPS.md[FIPS 140 "
"验证过程]。还提供了 link:https://www.openssl.org/source/[经 FIPS 验证的版本列表] "
"。这使得用户可以确保在使用 OpenSSL 时符合 FIPS 标准。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1077
#, 
msgid ""
"Importantly, the man:fips_module[7] is protected by an additional security "
"measure, preventing its use without passing an integrity check.  This check "
"can be setup by the local system administrator, allowing every user of "
"OpenSSL 3 to load this module.  When not configured correctly, the FIPS "
"module is expected to fail as follows:"
msgstr ""
"重要的是，man:fips_module[7] 受到额外的安全措施保护，防止在未通过完整性检查的情况下使用。这个检查可以由本地系统管理员设置，允许 "
"OpenSSL 3 的每个用户加载这个模块。当配置不正确时，预计 FIPS 模块将失败，如下所示："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:1081
#: documentation/content/en/books/handbook/security/_index.adoc:1153
#, no-wrap
msgid "# echo test | openssl aes-128-cbc -a -provider fips -pbkdf2\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1084
#: documentation/content/en/books/handbook/security/_index.adoc:1104
#: documentation/content/en/books/handbook/security/_index.adoc:1156
#, 
msgid "The ouput should be similar to the following:"
msgstr "输出应该类似于以下内容："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:1093
#, no-wrap
msgid ""
"aes-128-cbc: unable to load provider fips\n"
"Hint: use -provider-path option or OPENSSL_MODULES environment variable.\n"
"00206124D94D0000:error:1C8000D5:Provider routines:SELF_TEST_post:missing config data:crypto/openssl/providers/fips/self_test.c:275:\n"
"00206124D94D0000:error:1C8000E0:Provider routines:ossl_set_error_state:fips module entering error state:crypto/openssl/providers/fips/self_test.c:373:\n"
"00206124D94D0000:error:1C8000D8:Provider routines:OSSL_provider_init_int:self test post failure:crypto/openssl/providers/fips/fipsprov.c:707:\n"
"00206124D94D0000:error:078C0105:common libcrypto routines:provider_init:init fail:crypto/openssl/crypto/provider_core.c:932:name=fips\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1097
#, 
msgid ""
"The check can be configured through the creation of a file in "
"[.filename]#/etc/ssl/fipsmodule.cnf#, which will then be referenced in "
"OpenSSL's main configuration file [.filename]#/etc/ssl/openssl.cnf#.  "
"OpenSSL provides the man:openssl-fipsinstall[1] utility to help with this "
"process, which can be used as follows:"
msgstr ""
"可以通过在 [.filename]#/etc/ssl/fipsmodule.cnf# 中创建一个文件来配置检查，然后在 OpenSSL 的主配置文件 "
"[.filename]#/etc/ssl/openssl.cnf# 中引用该文件。OpenSSL 提供了 man:openssl-"
"fipsinstall[1] 实用程序来帮助完成此过程，可以按照以下方式使用："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:1101
#, no-wrap
msgid ""
"# openssl fipsinstall -module /usr/lib/ossl-modules/fips.so -out "
"/etc/ssl/fipsmodule.cnf\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:1108
#, no-wrap
msgid "INSTALL PASSED\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1111
#, 
msgid ""
"The [.filename]#/etc/ssl/openssl.cnf# should then be modified, in order to:"
msgstr "然后应该修改 [.filename]#/etc/ssl/openssl.cnf# 文件，以便："

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1113
#, 
msgid "Include the [.filename]#/etc/ssl/fipsmodule.cnf# file generated above,"
msgstr "包含上面生成的 [.filename]#/etc/ssl/fipsmodule.cnf# 文件，"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1114
#, 
msgid "Expose the FIPS module for possible use,"
msgstr "将 FIPS 模块暴露出来，以便可能的使用。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1115
#, 
msgid "And explicitly activate the default module."
msgstr "并显式激活默认模块。"

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:1126
#, no-wrap
msgid ""
"[...]\n"
"# For FIPS\n"
"# Optionally include a file that is generated by the OpenSSL fipsinstall\n"
"# application. This file contains configuration data required by the OpenSSL\n"
"# fips provider. It contains a named section e.g. [fips_sect] which is\n"
"# referenced from the [provider_sect] below.\n"
"# Refer to the OpenSSL security policy for more information.\n"
".include /etc/ssl/fipsmodule.cnf\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:1128
#, no-wrap
msgid "[...]\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:1135
#, no-wrap
msgid ""
"# List of providers to load\n"
"[provider_sect]\n"
"default = default_sect\n"
"# The fips section name should match the section name inside the\n"
"# included fipsmodule.cnf.\n"
"fips = fips_sect\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:1146
#, no-wrap
msgid ""
"# If no providers are activated explicitly, the default one is activated implicitly.\n"
"# See man 7 OSSL_PROVIDER-default for more details.\n"
"#\n"
"# If you add a section explicitly activating any other provider(s), you most\n"
"# probably need to explicitly activate the default provider, otherwise it\n"
"# becomes unavailable in openssl.  As a consequence applications depending on\n"
"# OpenSSL may not work correctly which could lead to significant system\n"
"# problems including inability to remotely access the system.\n"
"[default_sect]\n"
"activate = 1\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1149
#, 
msgid ""
"With this done, it should be possible to confirm that the FIPS module is "
"effectively available and working:"
msgstr "完成这一步骤后，应该可以确认 FIPS 模块已经有效地可用并且正常工作："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:1162
#, no-wrap
msgid ""
"enter AES-128-CBC encryption password:\n"
"Verifying - enter AES-128-CBC encryption password:\n"
"U2FsdGVkX18idooW6e3LqWeeiKP76kufcOUClh57j8U=\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1165
#, 
msgid ""
"This procedure has to be repeated every time the FIPS module is modified, "
"e.g., after performing system updates, or after applying security fixes "
"affecting OpenSSL in the base system."
msgstr "每次修改 FIPS 模块时都必须重复执行此过程，例如在执行系统更新后或在应用影响基本系统中的 OpenSSL 的安全修复程序后。"

#. type: Title ==
#: documentation/content/en/books/handbook/security/_index.adoc:1167
#, no-wrap
msgid "Kerberos"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1173
#, 
msgid ""
"Kerberos is a network authentication protocol which was originally created "
"by the Massachusetts Institute of Technology (MIT) as a way to securely "
"provide authentication across a potentially hostile network.  The Kerberos "
"protocol uses strong cryptography so that both a client and server can prove"
" their identity without sending any unencrypted secrets over the network.  "
"Kerberos can be described as an identity-verifying proxy system and as a "
"trusted third-party authentication system.  After a user authenticates with "
"Kerberos, their communications can be encrypted to assure privacy and data "
"integrity."
msgstr ""
"Kerberos 是一种网络认证协议，最初由麻省理工学院（MIT）创建，用于在可能存在敌对网络的情况下提供安全认证。Kerberos "
"协议使用强加密技术，使得客户端和服务器可以在不发送任何未加密的秘密信息的情况下证明其身份。Kerberos "
"可以被描述为一个身份验证代理系统和一个可信第三方认证系统。用户在使用 Kerberos 进行身份验证后，他们的通信可以被加密以确保隐私和数据完整性。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1177
#, 
msgid ""
"The only function of Kerberos is to provide the secure authentication of "
"users and servers on the network.  It does not provide authorization or "
"auditing functions.  It is recommended that Kerberos be used with other "
"security methods which provide authorization and audit services."
msgstr ""
"Kerberos 的唯一功能是在网络上提供用户和服务器的安全认证。它不提供授权或审计功能。建议将 Kerberos "
"与其他提供授权和审计服务的安全方法一起使用。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1185
#, 
msgid ""
"The current version of the protocol is version 5, described in RFC 4120.  "
"Several free implementations of this protocol are available, covering a wide"
" range of operating systems.  MIT continues to develop their Kerberos "
"package.  It is commonly used in the US as a cryptography product, and has "
"historically been subject to US export regulations.  In FreeBSD, MITKerberos"
" is available as the package:security/krb5[] package or port.  The Heimdal "
"Kerberos implementation was explicitly developed outside of the US to avoid "
"export regulations.  The Heimdal Kerberos distribution is included in the "
"base FreeBSD installation, and another distribution with more configurable "
"options is available as package:security/heimdal[] in the Ports Collection."
msgstr ""
"协议的当前版本是版本 5，详细描述在 RFC 4120 中。有几个免费的实现该协议的软件可供选择，覆盖了广泛的操作系统。麻省理工学院（MIT"
"）继续开发他们的 Kerberos 软件包。它在美国常被用作密码学产品，并且历史上受到美国出口管制的限制。在 FreeBSD 中， "
"MITKerberos 可作为 package:security/krb5[] 软件包或端口使用。Heimdal Kerberos "
"实现是专门在美国以外开发的，以避免出口管制。Heimdal Kerberos 发行版已包含在基本的 FreeBSD "
"安装中，还有另一个具有更多可配置选项的发行版可在 Ports Collection 中使用，即 package:security/heimdal[]。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1188
#, 
msgid ""
"In Kerberos users and services are identified as \"principals\" which are "
"contained within an administrative grouping, called a \"realm\".  A typical "
"user principal would be of the form `_user_@_REALM_` (realms are "
"traditionally uppercase)."
msgstr ""
"在 Kerberos 中，用户和服务被称为“主体”，并包含在一个管理组中，称为“领域”。一个典型的用户主体的形式为 `_user_@_REALM_` "
"（领域通常是大写）。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1190
#, 
msgid ""
"This section provides a guide on how to set up Kerberos using the Heimdal "
"distribution included in FreeBSD."
msgstr "本节提供了使用 FreeBSD 中包含的 Heimdal 发行版设置 Kerberos 的指南。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1192
#, 
msgid ""
"For purposes of demonstrating a Kerberos installation, the name spaces will "
"be as follows:"
msgstr "为了展示 Kerberos 安装的目的，命名空间将如下所示："

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1194
#, 
msgid "The DNS domain (zone) will be `example.org`."
msgstr "DNS 域（区域）将是 `example.org`。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1195
#, 
msgid "The Kerberos realm will be `EXAMPLE.ORG`."
msgstr "Kerberos 领域将是 `EXAMPLE.ORG`。"

#. type: delimited block = 4
#: documentation/content/en/books/handbook/security/_index.adoc:1200
#, 
msgid ""
"Use real domain names when setting up Kerberos, even if it will run "
"internally.  This avoids DNS problems and assures inter-operation with other"
" Kerberos realms."
msgstr ""
"在设置 Kerberos 时，请使用真实的域名，即使它将在内部运行。这样可以避免 DNS 问题，并确保与其他 Kerberos 领域的互操作性。"

#. type: Title ===
#: documentation/content/en/books/handbook/security/_index.adoc:1202
#, no-wrap
msgid "Setting up a Heimdal KDC"
msgstr "设置 Heimdal KDC"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1208
#, 
msgid ""
"The Key Distribution Center (KDC) is the centralized authentication service "
"that Kerberos provides, the \"trusted third party\" of the system.  It is "
"the computer that issues Kerberos tickets, which are used for clients to "
"authenticate to servers.  As the KDC is considered trusted by all other "
"computers in the Kerberos realm, it has heightened security concerns.  "
"Direct access to the KDC should be limited."
msgstr ""
"密钥分发中心（KDC）是 Kerberos 提供的集中式认证服务，也是系统的“可信第三方”。它是发放 Kerberos "
"票据的计算机，用于客户端对服务器进行身份验证。由于 KDC 被 Kerberos "
"领域中的所有其他计算机视为可信任的，因此它具有更高的安全性要求。应该限制对 KDC 的直接访问。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1210
#, 
msgid ""
"While running a KDC requires few computing resources, a dedicated machine "
"acting only as a KDC is recommended for security reasons."
msgstr "运行 KDC 所需的计算资源很少，但出于安全原因，建议使用专用机器作为 KDC。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1212
#, 
msgid "To begin, install the package:security/heimdal[] package as follows:"
msgstr "首先，按照以下方式安装 package:security/heimdal[] 软件包："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:1216
#, no-wrap
msgid "# pkg install heimdal\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1219
#, 
msgid "Next, update [.filename]#/etc/rc.conf# using `sysrc` as follows:"
msgstr "接下来，使用 `sysrc` 按照以下方式更新 [.filename]#/etc/rc.conf# 文件："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:1224
#, no-wrap
msgid ""
"# sysrc kdc_enable=yes\n"
"# sysrc kadmind_enable=yes\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1227
#, 
msgid "Next, edit [.filename]#/etc/krb5.conf# as follows:"
msgstr "接下来，按照以下方式编辑 [.filename]#/etc/krb5.conf# 文件："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:1239
#, no-wrap
msgid ""
"[libdefaults]\n"
"    default_realm = EXAMPLE.ORG\n"
"[realms]\n"
"    EXAMPLE.ORG = {\n"
"\tkdc = kerberos.example.org\n"
"\tadmin_server = kerberos.example.org\n"
"    }\n"
"[domain_realm]\n"
"    .example.org = EXAMPLE.ORG\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1243
#, 
msgid ""
"In this example, the KDC will use the fully-qualified hostname "
"`kerberos.example.org`.  The hostname of the KDC must be resolvable in the "
"DNS."
msgstr ""
"在这个例子中，KDC 将使用完全限定的主机名 `kerberos.example.org`。KDC 的主机名必须能够在 DNS 中解析。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1246
#, 
msgid ""
"Kerberos can also use the DNS to locate KDCs, instead of a `[realms]` "
"section in [.filename]#/etc/krb5.conf#.  For large organizations that have "
"their own DNS servers, the above example could be trimmed to:"
msgstr ""
"Kerberos 也可以使用 DNS 来定位 KDCs，而不是在 [.filename]#/etc/krb5.conf#"
" 文件的 `[realms]` 部分中。对于拥有自己 DNS 服务器的大型组织，上述示例可以简化为："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:1253
#, no-wrap
msgid ""
"[libdefaults]\n"
"      default_realm = EXAMPLE.ORG\n"
"[domain_realm]\n"
"    .example.org = EXAMPLE.ORG\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1256
#, 
msgid ""
"With the following lines being included in the `example.org` zone file:"
msgstr "在 `example.org` 区域文件中包含以下行："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:1264
#, no-wrap
msgid ""
"_kerberos._udp      IN  SRV     01 00 88 kerberos.example.org.\n"
"_kerberos._tcp      IN  SRV     01 00 88 kerberos.example.org.\n"
"_kpasswd._udp       IN  SRV     01 00 464 kerberos.example.org.\n"
"_kerberos-adm._tcp  IN  SRV     01 00 749 kerberos.example.org.\n"
"_kerberos           IN  TXT     EXAMPLE.ORG\n"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/handbook/security/_index.adoc:1269
#, 
msgid ""
"In order for clients to be able to find the Kerberos services, they _must_ "
"have either a fully configured [.filename]#/etc/krb5.conf# or a minimally "
"configured [.filename]#/etc/krb5.conf# _and_ a properly configured DNS "
"server."
msgstr ""
"为了使客户端能够找到 Kerberos 服务，它们必须具有完全配置的 [.filename]#/etc/krb5.conf# 文件或最小配置的 [.filename]#/etc/krb5.conf# "
"文件和正确配置的 DNS 服务器。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1275
#, 
msgid ""
"Next, create the Kerberos database which contains the keys of all principals"
" (users and hosts) encrypted with a master password.  It is not required to "
"remember this password as it will be stored in "
"[.filename]#/var/heimdal/m-key#; it would be reasonable to use a "
"45-character random password for this purpose.  To create the master key, "
"run `kstash` and enter a password:"
msgstr ""
"接下来，创建 Kerberos 数据库，其中包含使用主密码加密的所有主体（用户和主机）的密钥。不需要记住此密码，因为它将存储在 "
"[.filename]#/var/heimdal/m-key# 中；为此目的使用一个 45 个字符的随机密码是合理的。要创建主密钥，请运行 `kstash` 并输入密码："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:1279
#, no-wrap
msgid "# kstash\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:1287
#, no-wrap
msgid ""
"Master key: xxxxxxxxxxxxxxxxxxxxxxx\n"
"Verifying password - Master key: xxxxxxxxxxxxxxxxxxxxxxx\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1293
#, 
msgid ""
"Once the master key has been created, the database should be initialized.  "
"The Kerberos administrative tool man:kadmin[8] can be used on the KDC in a "
"mode that operates directly on the database, without using the "
"man:kadmind[8] network service, as `kadmin -l`.  This resolves the chicken-"
"and-egg problem of trying to connect to the database before it is created.  "
"At the `kadmin` prompt, use `init` to create the realm's initial database:"
msgstr ""
"一旦主密钥被创建，就应该初始化数据库。可以在 KDC 上使用 Kerberos 管理工具 man:kadmin[8] 以 `kadmin -l` "
"的模式直接操作数据库，而不使用 man:kadmind[8] 网络服务。这解决了在创建数据库之前尝试连接数据库的鸡生蛋问题。在 `kadmin` "
"提示符下，使用 `init` 命令创建领域的初始数据库："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:1299
#, no-wrap
msgid ""
"# kadmin -l\n"
"kadmin> init EXAMPLE.ORG\n"
"Realm max ticket life [unlimited]:\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1304
#, 
msgid ""
"Lastly, while still in `kadmin`, create the first principal using `add`.  "
"Stick to the default options for the principal for now, as these can be "
"changed later with `modify`.  Type `?` at the prompt to see the available "
"options."
msgstr ""
"最后，在 `kadmin` 中使用 `add` 命令创建第一个主体。暂时使用默认选项，因为这些选项可以在以后使用 `modify` "
"命令进行更改。在提示符处输入 `?` 以查看可用选项。"

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:1308
#, no-wrap
msgid "kadmin> add tillman\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:1321
#, no-wrap
msgid ""
"Max ticket life [unlimited]:\n"
"Max renewable life [unlimited]:\n"
"Principal expiration time [never]:\n"
"Password expiration time [never]:\n"
"Attributes []:\n"
"Password: xxxxxxxx\n"
"Verifying password - Password: xxxxxxxx\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1324
#, 
msgid "Next, start the KDC services by running:"
msgstr "接下来，通过运行以下命令启动 KDC 服务："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:1329
#, no-wrap
msgid ""
"# service kdc start\n"
"# service kadmind start\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1332
#, 
msgid ""
"While there will not be any kerberized daemons running at this point, it is "
"possible to confirm that the KDC is functioning by obtaining a ticket for "
"the principal that was just created:"
msgstr "在这一点上，不会有任何运行的 Kerberized 守护程序，但可以通过获取刚刚创建的主体的票证来确认 KDC 是否正常运行："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:1336
#, no-wrap
msgid "% kinit tillman\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:1343
#, no-wrap
msgid "tillman@EXAMPLE.ORG's Password:\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1346
#, 
msgid "Confirm that a ticket was successfully obtained using `klist`:"
msgstr "使用 `klist` 确认成功获取了一张票据。"

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:1350
#, no-wrap
msgid "% klist\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:1358
#, no-wrap
msgid ""
"Credentials cache: FILE:/tmp/krb5cc_1001\n"
"\tPrincipal: tillman@EXAMPLE.ORG\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:1361
#, no-wrap
msgid ""
"  Issued                Expires               Principal\n"
"Aug 27 15:37:58 2013  Aug 28 01:37:58 2013  krbtgt/EXAMPLE.ORG@EXAMPLE.ORG\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1364
#, 
msgid "The temporary ticket can be destroyed when the test is finished:"
msgstr "测试完成后，临时票据可以被销毁。"

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:1368
#, no-wrap
msgid "% kdestroy\n"
msgstr ""

#. type: Title ===
#: documentation/content/en/books/handbook/security/_index.adoc:1370
#, no-wrap
msgid "Configuring a Server to Use Kerberos"
msgstr "配置服务器使用 Kerberos"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1374
#, 
msgid ""
"The first step in configuring a server to use Kerberos authentication is to "
"ensure that it has the correct configuration in [.filename]#/etc/krb5.conf#."
"  The version from the KDC can be used as-is, or it can be regenerated on "
"the new system."
msgstr ""
"配置服务器以使用 Kerberos 身份验证的第一步是确保它在 [.filename]#/etc/krb5.conf# 中具有正确的配置。可以直接使用 KDC "
"提供的版本，或者可以在新系统上重新生成该文件。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1383
#, 
msgid ""
"Next, create [.filename]#/etc/krb5.keytab# on the server.  This is the main "
"part of \"Kerberizing\" a service - it corresponds to generating a secret "
"shared between the service and the KDC.  The secret is a cryptographic key, "
"stored in a \"keytab\".  The keytab contains the server's host key, which "
"allows it and the KDC to verify each others' identity.  It must be "
"transmitted to the server in a secure fashion, as the security of the server"
" can be broken if the key is made public.  Typically, the "
"[.filename]#keytab# is generated on an administrator's trusted machine using"
" `kadmin`, then securely transferred to the server, e.g., with man:scp[1]; "
"it can also be created directly on the server if that is consistent with the"
" desired security policy.  It is very important that the keytab is "
"transmitted to the server in a secure fashion: if the key is known by some "
"other party, that party can impersonate any user to the server! Using "
"`kadmin` on the server directly is convenient, because the entry for the "
"host principal in the KDC database is also created using `kadmin`."
msgstr ""
"接下来，在服务器上创建 [.filename]#/etc/krb5.keytab# 文件。这是“Kerberizing”服务的主要部分 - 它对应于在服务和 KDC "
"之间生成一个共享密钥。这个密钥是一个加密密钥，存储在一个“keytab”文件中。 keytab 文件包含了服务器的主机密钥，它允许服务器和 KDC "
"验证彼此的身份。必须以安全的方式将它传输到服务器上，因为如果密钥被公开，服务器的安全性可能会被破坏。通常，[.filename]#keytab# 文件是在管理员信任的机器上使用"
" `kadmin` 生成的，然后通过安全传输方式传输到服务器上，例如使用 man:scp[1] "
"命令；如果符合所需的安全策略，也可以直接在服务器上创建。非常重要的是，必须以安全的方式将 keytab "
"文件传输到服务器上：如果密钥被其他方知晓，该方可以冒充任何用户访问服务器！在服务器上直接使用 `kadmin` 非常方便，因为在 KDC "
"数据库中为主机主体创建条目也是使用 `kadmin` 完成的。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1387
#, 
msgid ""
"Of course, `kadmin` is a kerberized service; a Kerberos ticket is needed to "
"authenticate to the network service, but to ensure that the user running "
"`kadmin` is actually present (and their session has not been hijacked), "
"`kadmin` will prompt for the password to get a fresh ticket.  The principal "
"authenticating to the kadmin service must be permitted to use the `kadmin` "
"interface, as specified in [.filename]#/var/heimdal/kadmind.acl#. See the "
"section titled \"Remote administration\" in `info heimdal` for details on "
"designing access control lists.  Instead of enabling remote `kadmin` access,"
" the administrator could securely connect to the KDC via the local console "
"or man:ssh[1], and perform administration locally using `kadmin -l`."
msgstr ""
"当然，`kadmin` 是一个使用 Kerberos 进行身份验证的服务；需要一个 Kerberos 票证来认证到网络服务，但为了确保运行 "
"`kadmin` 的用户实际上存在（并且他们的会话没有被劫持），`kadmin` 会提示输入密码以获取一个新的票证。认证到 kadmin "
"服务的主体必须被允许使用 `kadmin` 接口，如 [.filename]#/var/heimdal/kadmind.acl# "
"中所指定的。有关设计访问控制列表的详细信息，请参阅 `info heimdal` 中标题为“远程管理（Remote administration）”的部分。管理员可以通过本地控制台或 "
"man:ssh[1] 安全地连接到 KDC，并使用 `kadmin -l` 在本地进行管理，而不是启用远程 `kadmin` 访问。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1391
#, 
msgid ""
"After installing [.filename]#/etc/krb5.conf#, use `add --random-key` in "
"`kadmin`.  This adds the server's host principal to the database, but does "
"not extract a copy of the host principal key to a keytab.  To generate the "
"keytab, use `ext` to extract the server's host principal key to its own "
"keytab:"
msgstr ""
"在安装完 [.filename]#/etc/krb5.conf# 后，在 `kadmin` 中使用 `add --random-key` "
"命令。这将向数据库中添加服务器的主机主体，但不会将主机主体密钥提取到密钥表中。要生成密钥表，请使用 `ext` "
"命令将服务器的主机主体密钥提取到其自己的密钥表中："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:1395
#: documentation/content/en/books/handbook/security/_index.adoc:1417
#, no-wrap
msgid "# kadmin\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:1409
#, no-wrap
msgid ""
"kadmin> add --random-key host/myserver.example.org\n"
"Max ticket life [unlimited]:\n"
"Max renewable life [unlimited]:\n"
"Principal expiration time [never]:\n"
"Password expiration time [never]:\n"
"Attributes []:\n"
"kadmin> ext_keytab host/myserver.example.org\n"
"kadmin> exit\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1413
#, 
msgid ""
"Note that `ext_keytab` stores the extracted key in "
"[.filename]#/etc/krb5.keytab# by default.  This is good when being run on "
"the server being kerberized, but the `--keytab _path/to/file_` argument "
"should be used when the keytab is being extracted elsewhere:"
msgstr ""
"请注意，默认情况下，`ext_keytab` 将提取的密钥存储在 [.filename]#/etc/krb5.keytab# "
"中。当在进行 Kerberos 认证的服务器上运行时，这是很好的选择。但是，当密钥表在其他地方提取时，应使用 `--keytab "
"_path/to/file_` 参数。"

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:1425
#, no-wrap
msgid ""
"kadmin> ext_keytab --keytab=/tmp/example.keytab host/myserver.example.org\n"
"kadmin> exit\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1429
#, 
msgid ""
"The keytab can then be securely copied to the server using man:scp[1] or a "
"removable media.  Be sure to specify a non-default keytab name to avoid "
"inserting unneeded keys into the system's keytab."
msgstr ""
"然后，可以使用 man:scp[1] 或可移动介质将 keytab 安全地复制到服务器。请确保指定一个非默认的 keytab "
"名称，以避免将不必要的密钥插入系统的 keytab 中。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1434
#, 
msgid ""
"At this point, the server can read encrypted messages from the KDC using its"
" shared key, stored in [.filename]#krb5.keytab#.  It is now ready for the "
"Kerberos-using services to be enabled.  One of the most common such services"
" is man:sshd[8], which supports Kerberos via the GSS-API.  In "
"[.filename]#/etc/ssh/sshd_config#, add the line:"
msgstr ""
"此时，服务器可以使用存储在 [.filename]#krb5.keytab# 中的共享密钥从 KDC 读取加密消息。现在可以启用使用 "
"Kerberos 的服务了。其中最常见的服务之一是 man:sshd[8]，它通过 GSS-API 支持 Kerberos。在 "
"[.filename]#/etc/ssh/sshd_config# 中添加以下行："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:1438
#, no-wrap
msgid "GSSAPIAuthentication yes\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1441
#, 
msgid ""
"After making this change, man:sshd[8] must be restarted for the new "
"configuration to take effect: `service sshd restart`."
msgstr "在进行此更改后，必须重新启动 man:sshd[8] 以使新的配置生效：`service sshd restart`。"

#. type: Title ===
#: documentation/content/en/books/handbook/security/_index.adoc:1442
#, no-wrap
msgid "Configuring a Client to Use Kerberos"
msgstr "配置客户端使用 Kerberos"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1446
#, 
msgid ""
"As it was for the server, the client requires configuration in "
"[.filename]#/etc/krb5.conf#.  Copy the file in place (securely) or re-enter "
"it as needed."
msgstr "与服务器一样，客户端需要在 [.filename]#/etc/krb5.conf# 中进行配置。将文件复制到指定位置（安全地）或根据需要重新输入。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1451
#, 
msgid ""
"Test the client by using `kinit`, `klist`, and `kdestroy` from the client to"
" obtain, show, and then delete a ticket for an existing principal.  Kerberos"
" applications should also be able to connect to Kerberos enabled servers.  "
"If that does not work but obtaining a ticket does, the problem is likely "
"with the server and not with the client or the KDC.  In the case of "
"kerberized man:ssh[1], GSS-API is disabled by default, so test using `ssh -o"
" GSSAPIAuthentication=yes _hostname_`."
msgstr ""
"通过在客户端使用 `kinit`、`klist` 和 `kdestroy` 命令来获取、显示和删除现有主体的票证，来测试客户端。 Kerberos "
"应用程序也应该能够连接到启用了 Kerberos 的服务器。如果连接不起作用，但是获取票证可以，那么问题很可能是服务器而不是客户端或 KDC "
"的问题。在使用 kerberized man:ssh[1] 的情况下，默认情况下禁用了 GSS-API，因此请使用 `ssh -o "
"GSSAPIAuthentication = yes _hostname_` 命令进行测试。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1453
#, 
msgid ""
"When testing a Kerberized application, try using a packet sniffer such as "
"`tcpdump` to confirm that no sensitive information is sent in the clear."
msgstr "在测试 Kerberized 应用程序时，尝试使用诸如 `tcpdump` 之类的数据包嗅探器来确认没有明文发送敏感信息。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1456
#, 
msgid ""
"Various Kerberos client applications are available.  With the advent of a "
"bridge so that applications using SASL for authentication can use GSS-API "
"mechanisms as well, large classes of client applications can use Kerberos "
"for authentication, from Jabber clients to IMAP clients."
msgstr ""
"有各种不同的 Kerberos 客户端应用程序可供选择。随着桥接的出现，使用 SASL 进行身份验证的应用程序也可以使用 GSS-API "
"机制，因此大部分客户端应用程序都可以使用 Kerberos 进行身份验证，包括 Jabber 客户端和 IMAP 客户端。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1461
#, 
msgid ""
"Users within a realm typically have their Kerberos principal mapped to a "
"local user account.  Occasionally, one needs to grant access to a local user"
" account to someone who does not have a matching Kerberos principal.  For "
"example, `tillman@EXAMPLE.ORG` may need access to the local user account "
"`webdevelopers`.  Other principals may also need access to that local "
"account."
msgstr ""
"在一个领域中，通常会将用户的 Kerberos 主体映射到本地用户账户。偶尔，需要将本地用户账户的访问权限授予没有匹配的 Kerberos "
"主体的人。例如，`tillman@EXAMPLE.ORG` 可能需要访问本地用户账户 `webdevelopers`"
"。其他主体也可能需要访问该本地账户。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1464
#, 
msgid ""
"The [.filename]#.k5login# and [.filename]#.k5users# files, placed in a "
"user's home directory, can be used to solve this problem.  For example, if "
"the following [.filename]#.k5login# is placed in the home directory of "
"`webdevelopers`, both principals listed will have access to that account "
"without requiring a shared password:"
msgstr ""
"放置在用户的主目录中的 [.filename]#.k5login# 和 [.filename]#.k5users# "
"文件可以用来解决这个问题。例如，如果将以下 [.filename]#.k5login# 文件放置在 `webdevelopers` "
"的主目录中，列出的两个主体都可以访问该帐户，而无需共享密码："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:1469
#, no-wrap
msgid ""
"tillman@example.org\n"
"jdoe@example.org\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1472
#, 
msgid "Refer to man:ksu[1] for more information about [.filename]#.k5users#."
msgstr "请参考 man:ksu[1] 获取有关 [.filename]#.k5users# 的更多信息。"

#. type: Title ===
#: documentation/content/en/books/handbook/security/_index.adoc:1473
#, no-wrap
msgid "MIT Differences"
msgstr "与 MIT 的差异"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1477
#, 
msgid ""
"The major difference between the MIT and Heimdal implementations is that "
"`kadmin` has a different, but equivalent, set of commands and uses a "
"different protocol.  If the KDC is MIT, the Heimdal version of `kadmin` "
"cannot be used to administer the KDC remotely, and vice versa."
msgstr ""
"MIT 和 Heimdal 实现之间的主要区别是 `kadmin` 具有不同但等效的命令集，并且使用不同的协议。如果 KDC 是 MIT "
"版本，则无法使用 Heimdal 版本的 `kadmin` 远程管理 KDC，反之亦然。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1481
#, 
msgid ""
"Client applications may also use slightly different command line options to "
"accomplish the same tasks.  Following the instructions at "
"http://web.mit.edu/Kerberos/www/[http://web.mit.edu/Kerberos/www/] is "
"recommended.  Be careful of path issues: the MIT port installs into "
"[.filename]#/usr/local/# by default, and the FreeBSD system applications run"
" instead of the MIT versions if `PATH` lists the system directories first."
msgstr ""
"客户端应用程序也可以使用稍微不同的命令行选项来完成相同的任务。建议按照 "
"http://web.mit.edu/Kerberos/www/[http://web.mit.edu/Kerberos/www/] "
"上的说明进行操作。请注意路径问题：MIT 端口默认安装在 [.filename]#/usr/local/# 中，如果 `PATH` "
"列表中首先列出系统目录，则 FreeBSD 系统应用程序将代替 MIT 版本运行。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1483
#, 
msgid ""
"When using MIT Kerberos as a KDC on FreeBSD, execute the following commands "
"to add the required configurations to [.filename]#/etc/rc.conf#:"
msgstr "在 FreeBSD 上使用 MIT Kerberos 作为 KDC 时，执行以下命令将所需的配置添加到 [.filename]#/etc/rc.conf# 文件中："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:1491
#, no-wrap
msgid ""
"# sysrc kdc_program=\"/usr/local/sbin/kdc\"\n"
"# sysrc kadmind_program=\"/usr/local/sbin/kadmind\"\n"
"# sysrc kdc_flags=\"\"\n"
"# sysrc kdc_enable=\"YES\"\n"
"# sysrc kadmind_enable=\"YES\"\n"
msgstr ""

#. type: Title ===
#: documentation/content/en/books/handbook/security/_index.adoc:1493
#, no-wrap
msgid "Kerberos Tips, Tricks, and Troubleshooting"
msgstr "Kerberos 提示、技巧和故障排除"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1496
#, 
msgid ""
"When configuring and troubleshooting Kerberos, keep the following points in "
"mind:"
msgstr "在配置和故障排除 Kerberos 时，请记住以下几点："

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1498
#, 
msgid ""
"When using either Heimdal or MITKerberos from ports, ensure that the `PATH` "
"lists the port's versions of the client applications before the system "
"versions."
msgstr ""
"在使用来自 ports 的 Heimdal 或 MITKerberos 时，请确保 `PATH` 中列出的是端口版本的客户端应用程序，而不是系统版本。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1499
#, 
msgid ""
"If all the computers in the realm do not have synchronized time settings, "
"authentication may fail. crossref:network-servers[network-ntp,“Clock "
"Synchronization with NTP”] describes how to synchronize clocks using NTP."
msgstr ""
"如果领域中的所有计算机没有同步的时间设置，认证可能会失败。 crossref:network-servers[network-ntp,“使用 NTP "
"进行时钟同步”] 描述了如何使用 NTP 同步时钟。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1500
#, 
msgid ""
"If the hostname is changed, the `host/` principal must be changed and the "
"keytab updated. This also applies to special keytab entries like the `HTTP/`"
" principal used for Apache's package:www/mod_auth_kerb[]."
msgstr ""
"如果主机名发生变化，则必须更改 `host/` 主体并更新 keytab。这也适用于特殊的 keytab 条目，比如用于 Apache 的 "
"`HTTP/` 主体，例如 package:www/mod_auth_kerb[]。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1501
#, 
msgid ""
"All hosts in the realm must be both forward and reverse resolvable in DNS "
"or, at a minimum, exist in [.filename]#/etc/hosts#. CNAMEs will work, but "
"the A and PTR records must be correct and in place. The error message for "
"unresolvable hosts is not intuitive: `Kerberos5 refuses authentication "
"because Read req failed: Key table entry not found`."
msgstr ""
"领域中的所有主机必须在 DNS 中具有正向和反向解析的能力，或者至少存在于 [.filename]#/etc/hosts# 文件中。CNAME 记录可以使用，但 A 记录和 "
"PTR 记录必须正确并且存在。对于无法解析的主机，错误消息并不直观：`Kerberos5 refuses authenticatio because Read req failed: Key table entry not found`"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1502
#, 
msgid ""
"Some operating systems that act as clients to the KDC do not set the "
"permissions for `ksu` to be setuid `root`. This means that `ksu` does not "
"work. This is a permissions problem, not a KDC error."
msgstr ""
"一些作为 KDC 客户端的操作系统没有设置 `ksu` 的权限为 setuid `root`。这意味着 `ksu` 无法工作。这是一个权限问题，而不是"
" KDC 错误。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1503
#, 
msgid ""
"With MITKerberos, to allow a principal to have a ticket life longer than the"
" default lifetime of ten hours, use `modify_principal` at the man:kadmin[8] "
"prompt to change the `maxlife` of both the principal in question and the "
"`krbtgt` principal. The principal can then use `kinit -l` to request a "
"ticket with a longer lifetime."
msgstr ""
"使用 MITKerberos，如果要允许一个主体拥有比默认的十小时更长的票据生命周期，可以在 man:kadmin[8] 提示符下使用 "
"`modify_principal` 命令来更改相关主体和 `krbtgt` 主体的 `maxlife` 属性。然后，该主体可以使用 `kinit "
"-l` 命令来请求一个具有更长生命周期的票据。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1504
#, 
msgid ""
"When running a packet sniffer on the KDC to aid in troubleshooting while "
"running `kinit` from a workstation, the Ticket Granting Ticket (TGT) is sent"
" immediately, even before the password is typed. This is because the "
"Kerberos server freely transmits a TGT to any unauthorized request. However,"
" every TGT is encrypted in a key derived from the user's password. When a "
"user types their password, it is not sent to the KDC, it is instead used to "
"decrypt the TGT that `kinit` already obtained. If the decryption process "
"results in a valid ticket with a valid time stamp, the user has valid "
"Kerberos credentials. These credentials include a session key for "
"establishing secure communications with the Kerberos server in the future, "
"as well as the actual TGT, which is encrypted with the Kerberos server's own"
" key. This second layer of encryption allows the Kerberos server to verify "
"the authenticity of each TGT."
msgstr ""
"在从工作站运行 `kinit` 时，在 KDC 上运行数据包嗅探器以帮助故障排除时，票据授予票证（TGT）会立即发送，甚至在输入密码之前。这是因为 "
"Kerberos 服务器会自由地向任何未经授权的请求传输 TGT。然而，每个 TGT "
"都是使用用户密码派生的密钥进行加密的。当用户输入密码时，它不会被发送到 KDC，而是用于解密 `kinit` 已经获取的 TGT"
"。如果解密过程产生一个带有有效时间戳的有效票证，用户就拥有有效的 Kerberos 凭证。这些凭证包括用于与 Kerberos "
"服务器建立安全通信的会话密钥，以及使用 Kerberos 服务器自己的密钥加密的实际 TGT。这第二层加密允许 Kerberos 服务器验证每个 "
"TGT 的真实性。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1505
#, 
msgid ""
"Host principals can have a longer ticket lifetime. If the user principal has"
" a lifetime of a week but the host being connected to has a lifetime of nine"
" hours, the user cache will have an expired host principal and the ticket "
"cache will not work as expected."
msgstr ""
"主机主体可以拥有更长的票据生命周期。如果用户主体的生命周期为一周，但连接的主机的生命周期为九小时，用户缓存将会有一个过期的主机主体，票据缓存将无法按预期工作。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1506
#, 
msgid ""
"When setting up [.filename]#krb5.dict# to prevent specific bad passwords "
"from being used as described in man:kadmind[8], remember that it only "
"applies to principals that have a password policy assigned to them. The "
"format used in [.filename]#krb5.dict# is one string per line. Creating a "
"symbolic link to [.filename]#/usr/share/dict/words# might be useful."
msgstr ""
"在设置 [.filename]#krb5.dict# 以防止特定的弱密码被使用，如 man:kadmind[8] "
"中所描述的那样，请记住它仅适用于已分配密码策略的主体。 [.filename]#krb5.dict# 中使用的格式是每行一个字符串。创建一个符号链接到 "
"[.filename]#/usr/share/dict/words# 可能会很有用。"

#. type: Title ===
#: documentation/content/en/books/handbook/security/_index.adoc:1507
#, no-wrap
msgid "Mitigating Kerberos Limitations"
msgstr "缓解 Kerberos 的限制"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1512
#, 
msgid ""
"Since Kerberos is an all or nothing approach, every service enabled on the "
"network must either be modified to work with Kerberos or be otherwise "
"secured against network attacks.  This is to prevent user credentials from "
"being stolen and re-used.  An example is when Kerberos is enabled on all "
"remote shells but the non-Kerberized POP3 mail server sends passwords in "
"plain text."
msgstr ""
"由于 Kerberos 是一种全面的方法，网络上的每个启用的服务都必须要么被修改以与 Kerberos "
"一起工作，要么以其他方式进行网络攻击防护。这是为了防止用户凭据被窃取和重复使用。一个例子是当 Kerberos 在所有远程 shell 上启用时，非 "
"Kerberos 化的 POP3 邮件服务器会以明文发送密码。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1517
#, 
msgid ""
"The KDC is a single point of failure.  By design, the KDC must be as secure "
"as its master password database.  The KDC should have absolutely no other "
"services running on it and should be physically secure.  The danger is high "
"because Kerberos stores all passwords encrypted with the same master key "
"which is stored as a file on the KDC."
msgstr ""
"KDC 是一个单点故障。按设计，KDC 必须与其主密码数据库一样安全。KDC 上不应该运行任何其他服务，并且应该具有物理安全性。危险性很高，因为 "
"Kerberos 将所有密码都使用相同的主密钥进行加密，该密钥存储在 KDC 上的文件中。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1521
#, 
msgid ""
"A compromised master key is not quite as bad as one might fear.  The master "
"key is only used to encrypt the Kerberos database and as a seed for the "
"random number generator.  As long as access to the KDC is secure, an "
"attacker cannot do much with the master key."
msgstr ""
"一个被破坏的主密钥并不像人们可能担心的那样糟糕。主密钥仅用于加密 Kerberos 数据库和作为随机数生成器的种子。只要 KDC "
"的访问是安全的，攻击者无法对主密钥做太多事情。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1524
#, 
msgid ""
"If the KDC is unavailable, network services are unusable as authentication "
"cannot be performed.  This can be alleviated with a single master KDC and "
"one or more slaves, and with careful implementation of secondary or fall-"
"back authentication using PAM."
msgstr ""
"如果 KDC 不可用，网络服务将无法使用，因为无法进行身份验证。可以通过一个主 KDC 和一个或多个从 KDC 以及对 PAM "
"进行细致实施的次要或备用身份验证来缓解这个问题。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1529
#, 
msgid ""
"Kerberos allows users, hosts and services to authenticate between "
"themselves.  It does not have a mechanism to authenticate the KDC to the "
"users, hosts, or services.  This means that a trojaned `kinit` could record "
"all user names and passwords.  File system integrity checking tools like "
"package:security/tripwire[] can alleviate this."
msgstr ""
"Kerberos 允许用户、主机和服务之间进行身份验证。它没有机制来对用户、主机或服务进行身份验证。这意味着一个被木马程序感染的 `kinit` "
"可以记录所有的用户名和密码。文件系统完整性检查工具，如 package:security/tripwire[] 可以缓解这个问题。"

#. type: Title ===
#: documentation/content/en/books/handbook/security/_index.adoc:1530
#, no-wrap
msgid "Resources and Further Information"
msgstr "资源和进一步信息"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1533
#, 
msgid ""
"http://www.faqs.org/faqs/Kerberos-faq/general/preamble.html[The Kerberos "
"FAQ]"
msgstr ""
"http://www.faqs.org/faqs/Kerberos-faq/general/preamble.html[The Kerberos "
"FAQ]"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1534
#, 
msgid ""
"http://web.mit.edu/Kerberos/www/dialogue.html[Designing an Authentication "
"System: a Dialog in Four Scenes]"
msgstr "http://web.mit.edu/Kerberos/www/dialogue.html[设计一个认证系统：四个场景的对话]"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1535
#, 
msgid ""
"https://www.ietf.org/rfc/rfc4120.txt[RFC 4120, The Kerberos Network "
"Authentication Service (V5)]"
msgstr ""
"https://www.ietf.org/rfc/rfc4120.txt[RFC 4120，Kerberos 网络身份验证服务（V5）]"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1536
#, 
msgid "http://web.mit.edu/Kerberos/www/[MIT Kerberos home page]"
msgstr "http://web.mit.edu/Kerberos/www/[MIT Kerberos 主页]"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1537
#, 
msgid ""
"https://github.com/heimdal/heimdal/wiki[Heimdal Kerberos project wiki page]"
msgstr "https://github.com/heimdal/heimdal/wiki[Heimdal Kerberos 项目维基页面]"

#. type: Title ==
#: documentation/content/en/books/handbook/security/_index.adoc:1539
#, no-wrap
msgid "TCP Wrappers"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1544
#, 
msgid ""
"TCP Wrappers is a host-based network access control system.  By intercepting"
" incoming network requests before they reach the actual network service, TCP"
" Wrappers assess whether the source IP address is permitted or denied access"
" based on predefined rules in configuration files."
msgstr ""
"TCP Wrappers 是一种基于主机的网络访问控制系统。通过在实际网络服务之前拦截传入的网络请求，TCP Wrappers "
"根据配置文件中预定义的规则评估源 IP 地址是否被允许或拒绝访问。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1547
#, 
msgid ""
"However, while TCP Wrappers provide basic access control, they should not be"
" considered a substitute for more robust security measures.  For "
"comprehensive protection, it's recommended to use advanced technologies like"
" firewalls, along with proper user authentication practices and intrusion "
"detection systems."
msgstr ""
"然而，尽管 TCP "
"包装器提供了基本的访问控制，但它们不应被视为更强大的安全措施的替代品。为了全面保护，建议使用像防火墙这样的先进技术，以及适当的用户身份验证实践和入侵检测系统。"

#. type: Title ===
#: documentation/content/en/books/handbook/security/_index.adoc:1549
#, no-wrap
msgid "Initial Configuration"
msgstr "初始配置"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1553
#, 
msgid ""
"TCP Wrappers are enabled by default in man:inetd[8].  So the first step will"
" be to enable man:inetd[8] executing the following commands:"
msgstr "TCP 包装器默认在 man:inetd[8] 中启用。因此，第一步是启用 man:inetd[8]，执行以下命令："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:1558
#, no-wrap
msgid ""
"# sysrc inetd_enable=\"YES\"\n"
"# service inetd start\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1561
#, 
msgid "Then, properly configure [.filename]#/etc/hosts.allow#."
msgstr "然后，正确配置 [.filename]#/etc/hosts.allow# 文件。"

#. type: delimited block = 4
#: documentation/content/en/books/handbook/security/_index.adoc:1566
#, 
msgid ""
"Unlike other implementations of TCP Wrappers, the use of "
"[.filename]#hosts.deny# is deprecated in FreeBSD.  All configuration options"
" should be placed in [.filename]#/etc/hosts.allow#."
msgstr ""
"与其他 TCP Wrappers 的实现不同，在 FreeBSD 中使用 [.filename]#hosts.deny# 已被弃用。所有配置选项应放置在"
" [.filename]#/etc/hosts.allow# 中。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1570
#, 
msgid ""
"In the simplest configuration, daemon connection policies are set to either "
"permit or block, depending on the options in [.filename]#/etc/hosts.allow#."
"  The default configuration in FreeBSD is to allow all connections to the "
"daemons started with inetd."
msgstr ""
"在最简单的配置中，守护进程连接策略根据 [.filename]#/etc/hosts.allow# 中的选项设置为允许或阻止。在 FreeBSD "
"中，默认配置是允许所有与 inetd 启动的守护进程的连接。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1574
#, 
msgid ""
"Basic configuration usually takes the form of `daemon : address : action`, "
"where `daemon` is the daemon which inetd started, `address` is a valid "
"hostname, IP address, or an IPv6 address enclosed in brackets ([ ]), and "
"`action` is either `allow` or `deny`.  TCP Wrappers uses a first rule match "
"semantic, meaning that the configuration file is scanned from the beginning "
"for a matching rule.  When a match is found, the rule is applied and the "
"search process stops."
msgstr ""
"基本配置通常采用 `daemon : address : action` 的形式，其中 `daemon` 是由 inetd 启动的守护进程， "
"`address` 是有效的主机名、 IP 地址或用方括号（[ ]）括起来的 IPv6 地址，`action` 可以是 `allow` 或 "
"`deny`。TCP Wrappers "
"使用首次匹配规则的语义，意味着配置文件从头开始扫描以寻找匹配的规则。当找到匹配时，规则被应用并且搜索过程停止。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1576
#, 
msgid ""
"For example, to allow POP3 connections via the package:mail/qpopper[] "
"daemon, the following lines should be appended to "
"[.filename]#/etc/hosts.allow#:"
msgstr ""
"例如，要允许通过 package:mail/qpopper[] 守护程序进行 POP3 连接，应将以下行追加到 "
"[.filename]#/etc/hosts.allow# 文件中："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:1581
#, no-wrap
msgid ""
"# This line is required for POP3 connections:\n"
"qpopper : ALL : allow\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1584
#, 
msgid "Whenever this file is edited, restart inetd:"
msgstr "每当编辑此文件时，重新启动 inetd ："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:1588
#, no-wrap
msgid "# service inetd restart\n"
msgstr ""

#. type: Title ===
#: documentation/content/en/books/handbook/security/_index.adoc:1591
#, no-wrap
msgid "Advanced Configuration"
msgstr "高级配置"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1599
#, 
msgid ""
"TCP Wrappers provides advanced options to allow more control over the way "
"connections are handled.  In some cases, it may be appropriate to return a "
"comment to certain hosts or daemon connections.  In other cases, a log entry"
" should be recorded or an email sent to the administrator.  Other situations"
" may require the use of a service for local connections only.  This is all "
"possible through the use of configuration options known as wildcards, "
"expansion characters, and external command execution.  To learn more about "
"wildcards and their associated functionality, refer to man:hosts_access[5]."
msgstr ""
"TCP Wrappers "
"提供了高级选项，可以更好地控制连接的处理方式。在某些情况下，向特定的主机或守护进程连接返回注释可能是合适的。在其他情况下，应记录日志条目或向管理员发送电子邮件。其他情况可能需要仅用于本地连接的服务。通过使用通配符、扩展字符和外部命令执行的配置选项，所有这些都是可能的。要了解有关通配符及其相关功能的更多信息，请参阅"
" man:hosts_access[5] 。"

#. type: Title ==
#: documentation/content/en/books/handbook/security/_index.adoc:1601
#, no-wrap
msgid "Access Control Lists"
msgstr "访问控制列表"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1606
#, 
msgid ""
"Access Control Lists (ACLs) extend traditional UNIX(R) file permissions by "
"allowing fine-grained access control for users and groups on a per-file or "
"per-directory basis.  Each ACL entry defines a user or group and the "
"associated permissions, such as read, write, and execute.  FreeBSD provides "
"commands like man:getfacl[1] and man:setfacl[1] to manage ACLs."
msgstr ""
"访问控制列表（ACL）通过允许用户和组在每个文件或目录的基础上进行细粒度的访问控制，扩展了传统的 UNIX(R) 文件权限。每个 ACL "
"条目定义了一个用户或组以及相关的权限，如读取、写入和执行。 FreeBSD 提供了像 man:getfacl[1] 和 man:setfacl[1] "
"这样的命令来管理 ACL。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1609
#, 
msgid ""
"ACLs are useful in scenarios requiring more specific access control than "
"standard permissions, commonly used in multi-user environments or shared "
"hosting.  However, complexity may be unavoidable, but careful planning is "
"required to ensure that the desired security properties are being provided"
msgstr ""
"访问控制列表（ACL"
"）在需要比标准权限更具体的访问控制的场景中非常有用，通常在多用户环境或共享托管中使用。然而，复杂性可能是不可避免的，但需要仔细规划，以确保提供所需的安全性质。"

#. type: delimited block = 4
#: documentation/content/en/books/handbook/security/_index.adoc:1614
#, 
msgid ""
"FreeBSD supports the implementation of NFSv4 ACLs in both UFS and OpenZFS.  "
"Please note that some arguments to the man:setfacl[1] command only work with"
" POSIX ACLs and others in NFSv4 ACLs."
msgstr ""
"FreeBSD 支持在 UFS 和 OpenZFS 中实现 NFSv4 ACLs。请注意，man:setfacl[1] 命令的一些参数仅适用于 "
"POSIX ACLs，而其他参数适用于 NFSv4 ACLs。"

#. type: Title ===
#: documentation/content/en/books/handbook/security/_index.adoc:1617
#, no-wrap
msgid "Enabling ACL Support in UFS"
msgstr "在 UFS 中启用 ACL 支持"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1620
#, 
msgid ""
"ACLs are enabled by the mount-time administrative flag, `acls`, which may be"
" added to [.filename]#/etc/fstab#."
msgstr "ACLs 是通过挂载时的管理标志 `acls` 启用的，可以将其添加到 [.filename]#/etc/fstab# 文件中。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1622
#, 
msgid ""
"Therefore it will be necessary to access [.filename]#/etc/fstab# and in the "
"options section add the `acls` flag as follows:"
msgstr "因此，需要访问 [.filename]#/etc/fstab# 并在选项部分添加 `acls` 标志，如下所示："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:1627
#, no-wrap
msgid ""
"# Device        Mountpoint        FStype    Options     Dump      Pass#\n"
"/dev/ada0s1a    /                 ufs       rw,acls     1         1\n"
msgstr ""

#. type: Title ===
#: documentation/content/en/books/handbook/security/_index.adoc:1630
#, no-wrap
msgid "Get ACLs information"
msgstr "获取 ACL 信息"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1633
#, 
msgid ""
"It is possible to check the ACLs of a file or a directory using "
"man:getfacl[1]."
msgstr "可以使用 man:getfacl[1] 命令来检查文件或目录的 ACL 。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1635
#, 
msgid ""
"For example, to view the ACL settings on [.filename]#~/test# file execute "
"the following command:"
msgstr "例如，要查看 [.filename]#~/test# 文件的 ACL 设置，请执行以下命令："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:1639
#, no-wrap
msgid "% getfacl test\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1642
#, 
msgid ""
"The output should be similar to the following in case of using NFSv4 ACLs:"
msgstr "如果使用 NFSv4 ACLs ，输出应该类似于以下内容："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:1651
#, no-wrap
msgid ""
"# file: test\n"
"# owner: freebsduser\n"
"# group: freebsduser\n"
"            owner@:rw-p--aARWcCos:-------:allow\n"
"            group@:r-----a-R-c--s:-------:allow\n"
"         everyone@:r-----a-R-c--s:-------:allow\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1654
#, 
msgid ""
"And the output should be similar to the following in case of using POSIX.1e "
"ACLs:"
msgstr "如果使用 POSIX.1e ACLs，输出应该类似于以下内容："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:1663
#, no-wrap
msgid ""
"# file: test\n"
"# owner: freebsduser\n"
"# group: freebsduser\n"
"user::rw-\n"
"group::r--\n"
"other::r--\n"
msgstr ""

#. type: Title ===
#: documentation/content/en/books/handbook/security/_index.adoc:1666
#, no-wrap
msgid "Working with ACLs"
msgstr "使用 ACLs 进行工作"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1669
#, 
msgid ""
"man:setfacl[1] can be used to add, modify or remove ACLs from a file or "
"directory."
msgstr "man:setfacl[1] 可以用于向文件或目录添加、修改或删除 ACL 。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1672
#, 
msgid ""
"As noted above, some arguments to man:setfacl[1] do not work with NFSv4 "
"ACLs, and vice versa.  This section covers how to execute the commands for "
"POSIX ACLs and for NFSv4 ACLs and shows examples of both."
msgstr ""
"如上所述，man:setfacl[1] 的一些参数与 NFSv4 ACLs 不兼容，反之亦然。本节介绍如何执行 POSIX ACLs 和 NFSv4 "
"ACLs 的命令，并提供了两者的示例。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1674
#, 
msgid ""
"For example, to set the mandatory elements of the POSIX.1e default ACL:"
msgstr "例如，要设置 POSIX.1e 默认 ACL 的强制元素："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:1678
#, no-wrap
msgid "% setfacl -d -m u::rwx,g::rx,o::rx,mask::rwx directory\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1681
#, 
msgid ""
"This other example sets read, write, and execute permissions for the file "
"owner's POSIX.1e ACL entry and read and write permissions for group mail on "
"file:"
msgstr "这个示例设置了文件所有者的 POSIX.1e ACL 条目的读取、写入和执行权限，并为文件上的邮件组设置了读取和写入权限。"

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:1685
#, no-wrap
msgid "% setfacl -m u::rwx,g:mail:rw file\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1688
#, 
msgid "To do the same as in the previous example but in NFSv4 ACL:"
msgstr "为了在 NFSv4 ACL 中执行与前一个示例相同的操作："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:1692
#, no-wrap
msgid "% setfacl -m owner@:rwxp::allow,g:mail:rwp::allow file\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1695
#, 
msgid ""
"To remove all ACL entries except for the three required from file in "
"POSIX.1e ACL:"
msgstr "从 POSIX.1e ACL 文件中删除除了三个必需的 ACL 条目之外的所有 ACL 条目。"

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:1699
#, no-wrap
msgid "% setfacl -bn file\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1702
#, 
msgid "To remove all ACL entries in NFSv4 ACL:"
msgstr "要删除 NFSv4 ACL 中的所有 ACL 条目："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:1706
#, no-wrap
msgid "% setfacl -b file\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1709
#, 
msgid ""
"Refer to man:getfacl[1] and man:setfacl[1] for more information about the "
"options available for these commands."
msgstr "有关这些命令可用选项的更多信息，请参考 man:getfacl[1] 和 man:setfacl[1]。"

#. type: Title ==
#: documentation/content/en/books/handbook/security/_index.adoc:1711
#, no-wrap
msgid "Capsicum"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1716
#, 
msgid ""
"Capsicum is a lightweight OS capability and sandbox framework implementing a"
" hybrid capability system model.  Capabilities are unforgeable tokens of "
"authority that can be delegated and must be presented to perform an action."
"  Capsicum makes file descriptors into capabilities."
msgstr ""
"Capsicum 是一个轻量级的操作系统能力和沙箱框架，实现了混合能力系统模型。能力是不可伪造的授权令牌，可以委派，必须提交才能执行操作。 "
"Capsicum 将文件描述符转换为能力。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1719
#, 
msgid ""
"Capsicum can be used for application and library compartmentalisation, the "
"decomposition of larger bodies of software into isolated (sandboxed) "
"components in order to implement security policies and limit the impact of "
"software vulnerabilities."
msgstr "Capsicum 可以用于应用程序和库的分隔，将较大的软件体分解为隔离（沙盒化）的组件，以实施安全策略并限制软件漏洞的影响。"

#. type: Title ==
#: documentation/content/en/books/handbook/security/_index.adoc:1721
#, no-wrap
msgid "Process Accounting"
msgstr "进程账户"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1724
#, 
msgid ""
"Process accounting is a security method in which an administrator may keep "
"track of system resources used and their allocation among users, provide for"
" system monitoring, and minimally track a user's commands."
msgstr "进程账户是一种安全方法，管理员可以通过该方法跟踪系统资源的使用情况以及它们在用户之间的分配情况，提供系统监控，并最少程度地跟踪用户的命令。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1729
#, 
msgid ""
"Process accounting has both positive and negative points.  One of the "
"positives is that an intrusion may be narrowed down to the point of entry.  "
"A negative is the amount of logs generated by process accounting, and the "
"disk space they may require.  This section walks an administrator through "
"the basics of process accounting."
msgstr ""
"进程账户有积极和消极的一面。其中一个积极的方面是可以将入侵事件追溯到入侵点。消极的一面是进程账户会生成大量的日志，并且可能需要大量的磁盘空间来存储这些日志。本节将向管理员介绍进程账户的基础知识。"

#. type: delimited block = 4
#: documentation/content/en/books/handbook/security/_index.adoc:1733
#, 
msgid ""
"If more fine-grained accounting is needed, refer to "
"crossref:audit[audit,Security Event Auditing]."
msgstr "如果需要更细粒度的会计记录，请参考 crossref:audit[audit,安全事件审计]。"

#. type: Title ===
#: documentation/content/en/books/handbook/security/_index.adoc:1735
#, no-wrap
msgid "Enabling and Utilizing Process Accounting"
msgstr "启用和利用进程账户"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1738
#, 
msgid ""
"Before using process accounting, it must be enabled using the following "
"commands:"
msgstr "在使用进程记账之前，必须使用以下命令启用它："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:1743
#, no-wrap
msgid ""
"# sysrc accounting_enable=yes\n"
"# service accounting start\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1749
#, 
msgid ""
"The accounting information is stored in files located in "
"[.filename]#/var/account#, which is automatically created, if necessary, the"
" first time the accounting service starts.  These files contain sensitive "
"information, including all the commands issued by all users.  Write access "
"to the files is limited to `root`, and read access is limited to `root` and "
"members of the `wheel` group.  To also prevent members of `wheel` from "
"reading the files, change the mode of the [.filename]#/var/account# "
"directory to allow access only by `root`."
msgstr ""
"记帐信息存储在位于 [.filename]#/var/account# "
"的文件中，如果需要，记帐服务首次启动时会自动创建该文件。这些文件包含敏感信息，包括所有用户发出的所有命令。对文件的写访问权限仅限于 `root` "
"，读访问权限仅限于 `root` 和 `wheel` 组的成员。为了防止 `wheel` 组的成员也能读取这些文件，将 "
"[.filename]#/var/account# 目录的模式更改为仅允许 `root` 访问。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1754
#, 
msgid ""
"Once enabled, accounting will begin to track information such as CPU "
"statistics and executed commands.  All accounting logs are in a non-human "
"readable format which can be viewed using man:sa[8].  If issued without any "
"options, man:sa[8] prints information relating to the number of per-user "
"calls, the total elapsed time in minutes, total CPU and user time in "
"minutes, and the average number of I/O operations.  Refer to man:sa[8] for "
"the list of available options which control the output."
msgstr ""
"启用后，会计将开始跟踪诸如 CPU 统计和执行的命令等信息。所有的记账日志都以非人类可读的格式存储，可以使用 man:sa[8] "
"命令查看。如果不带任何选项使用 man:sa[8] 命令，将打印与每个用户调用次数、总经过时间（以分钟为单位）、总 CPU "
"和用户时间（以分钟为单位）以及平均 I/O 操作次数相关的信息。有关控制输出的可用选项列表，请参考 man:sa[8] 命令。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1756
#, 
msgid "To display the commands issued by users, use `lastcomm`."
msgstr "要显示用户发出的命令，请使用 `lastcomm` 命令。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1758
#, 
msgid ""
"For example, this command prints out all usage of `ls` by `trhodes` on the "
"`ttyp1` terminal:"
msgstr "例如，这个命令会打印出在 `ttyp1` 终端上由 `trhodes` 使用的 `ls` 的所有用法："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:1762
#, no-wrap
msgid "# lastcomm ls trhodes ttyp1\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1765
#, 
msgid ""
"Many other useful options exist and are explained in man:lastcomm[1], "
"man:acct[5], and man:sa[8]."
msgstr "还有许多其他有用的选项，可以在 man:lastcomm[1]、man:acct[5] 和 man:sa[8] 中找到解释。"

#. type: Title ==
#: documentation/content/en/books/handbook/security/_index.adoc:1767
#, no-wrap
msgid "Resource Limits"
msgstr "资源限制"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1772
#, 
msgid ""
"In FreeBSD, resource limits refer to the mechanisms that control and manage "
"the allocation of various system resources to processes and users.  These "
"limits are designed to prevent a single process or user from consuming an "
"excessive amount of resources, which could lead to performance degradation "
"or system instability.  Resource limits help ensure fair resource "
"distribution among all active processes and users on the system."
msgstr ""
"在 FreeBSD "
"中，资源限制是指控制和管理将各种系统资源分配给进程和用户的机制。这些限制旨在防止单个进程或用户消耗过多的资源，从而可能导致性能下降或系统不稳定。资源限制有助于确保系统上所有活动进程和用户之间公平分配资源。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1774
#, 
msgid ""
"FreeBSD provides several methods for an administrator to limit the amount of"
" system resources an individual may use."
msgstr "FreeBSD 提供了几种方法，供管理员限制个人使用系统资源的数量。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1778
#, 
msgid ""
"The traditional method defines login classes by editing "
"[.filename]#/etc/login.conf#.  While this method is still supported, any "
"changes require a multi-step process of editing this file, rebuilding the "
"resource database, making necessary changes to "
"[.filename]#/etc/master.passwd#, and rebuilding the password database.  This"
" can become time consuming, depending upon the number of users to configure."
msgstr ""
"传统的方法是通过编辑 [.filename]#/etc/login.conf# 来定义登录类。虽然这种方法仍然受支持，但任何更改都需要多个步骤：编辑该文件、重建资源数据库、对"
" [.filename]#/etc/master.passwd# 进行必要的更改，并重新构建密码数据库。这可能会耗费时间，具体取决于要配置的用户数量。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1781
#, 
msgid ""
"man:rctl[8] can be used to provide a more fine-grained method for "
"controlling resource limits.  This command supports more than user limits as"
" it can also be used to set resource constraints on processes and jails."
msgstr ""
"man:rctl[8] 可以用于提供一种更精细的方法来控制资源限制。该命令不仅支持用户限制，还可以用于在进程和 jails 上设置资源约束。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1783
#, 
msgid ""
"This section demonstrates both methods for controlling resources, beginning "
"with the traditional method."
msgstr "本节展示了控制资源的两种方法，首先是传统方法。"

#. type: Title ===
#: documentation/content/en/books/handbook/security/_index.adoc:1785
#, no-wrap
msgid "Types of Resources"
msgstr "资源的类型"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1788
#, 
msgid "FreeBSD provides limits for various types of resources, including:"
msgstr "FreeBSD 提供了各种类型资源的限制，包括："

#. type: Block title
#: documentation/content/en/books/handbook/security/_index.adoc:1789
#, no-wrap
msgid "Resource types"
msgstr "资源类型"

#. type: Table
#: documentation/content/en/books/handbook/security/_index.adoc:1792
#, no-wrap
msgid "Type"
msgstr "类型"

#. type: Table
#: documentation/content/en/books/handbook/security/_index.adoc:1794
#, no-wrap
msgid "Description"
msgstr "描述"

#. type: Table
#: documentation/content/en/books/handbook/security/_index.adoc:1795
#, no-wrap
msgid "CPU Time"
msgstr "CPU 时间"

#. type: Table
#: documentation/content/en/books/handbook/security/_index.adoc:1797
#, no-wrap
msgid "Limits the amount of CPU time a process can consume"
msgstr "限制进程可以消耗的 CPU 时间量"

#. type: Table
#: documentation/content/en/books/handbook/security/_index.adoc:1798
#, no-wrap
msgid "Memory"
msgstr "内存"

#. type: Table
#: documentation/content/en/books/handbook/security/_index.adoc:1800
#, no-wrap
msgid "Controls the amount of physical memory a process can use"
msgstr "控制进程可使用的物理内存量"

#. type: Table
#: documentation/content/en/books/handbook/security/_index.adoc:1801
#, no-wrap
msgid "Open Files"
msgstr "打开文件"

#. type: Table
#: documentation/content/en/books/handbook/security/_index.adoc:1803
#, no-wrap
msgid "Limits the number of files a process can have open simultaneously"
msgstr "限制进程同时打开的文件数量。"

#. type: Table
#: documentation/content/en/books/handbook/security/_index.adoc:1804
#, no-wrap
msgid "Processes"
msgstr "进程"

#. type: Table
#: documentation/content/en/books/handbook/security/_index.adoc:1806
#, no-wrap
msgid "Controls the number of processes a user or a process can create"
msgstr "控制用户或进程可以创建的进程数量。"

#. type: Table
#: documentation/content/en/books/handbook/security/_index.adoc:1807
#, no-wrap
msgid "File Size"
msgstr "文件大小"

#. type: Table
#: documentation/content/en/books/handbook/security/_index.adoc:1809
#, no-wrap
msgid "Limits the maximum size of files that a process can create"
msgstr "限制进程可以创建的文件的最大大小。"

#. type: Table
#: documentation/content/en/books/handbook/security/_index.adoc:1810
#, no-wrap
msgid "Core Dumps"
msgstr "核心转储"

#. type: Table
#: documentation/content/en/books/handbook/security/_index.adoc:1812
#, no-wrap
msgid "Controls whether processes are allowed to generate core dump files"
msgstr "控制进程是否允许生成核心转储文件。"

#. type: Table
#: documentation/content/en/books/handbook/security/_index.adoc:1813
#, no-wrap
msgid "Network Resources"
msgstr "网络资源"

#. type: Table
#: documentation/content/en/books/handbook/security/_index.adoc:1815
#, no-wrap
msgid ""
"Limits the amount of network resources (e.g., sockets) a process can use"
msgstr "限制进程可以使用的网络资源（例如，套接字）的数量"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1818
#, 
msgid "For a full listing of types see man:login.conf[5] and man:rctl[8]."
msgstr "有关类型的完整列表，请参阅 man:login.conf[5] 和 man:rctl[8]。"

#. type: Title ===
#: documentation/content/en/books/handbook/security/_index.adoc:1820
#, no-wrap
msgid "Configuring Login Classes"
msgstr "配置登录类"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1826
#, 
msgid ""
"In the traditional method, login classes and the resource limits to apply to"
" a login class are defined in [.filename]#/etc/login.conf#.  Each user "
"account can be assigned to a login class, where `default` is the default "
"login class.  Each login class has a set of login capabilities associated "
"with it.  A login capability is a `_name_=_value_` pair, where _name_ is a "
"well-known identifier and _value_ is an arbitrary string which is processed "
"accordingly depending on the _name_."
msgstr ""
"在传统的方法中，登录类和适用于登录类的资源限制在 [.filename]#/etc/login.conf# 文件中定义。每个用户账户可以分配给一个登录类，其中 "
"`default` 是默认的登录类。每个登录类都有一组与之关联的登录能力。登录能力是一个 `_name_=_value_` "
"对，其中 _name_ 是一个众所周知的标识符，_value_ 是一个任意字符串，根据 _name_ 的不同进行相应的处理。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1828
#, 
msgid ""
"The first step to configure a resource limit will be to open "
"[.filename]#/etc/login.conf# by executing the following command:"
msgstr "配置资源限制的第一步是通过执行以下命令打开 [.filename]#/etc/login.conf# 文件："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:1832
#, no-wrap
msgid "# ee /etc/login.conf\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1836
#, 
msgid ""
"Then locate the section for the user class to be modified.  In this example,"
" let's assume the user class is named `limited`, create it in case it not "
"exists."
msgstr "然后找到要修改的用户类的部分。在这个例子中，假设用户类的名称是 `limited`，如果不存在，则创建它。"

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:1842
#, no-wrap
msgid ""
"limited:\\ <.>\n"
"        :maxproc=50:\\ <.>\n"
"        :tc=default: <.>\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1847
#, 
msgid ""
"<.> Name of the user class.  <.> Sets the maximum number of processes "
"(maxproc) to 50 for users in the `limited` class.  <.> Indicates that this "
"user class inherits the default settings from the \"default\" class."
msgstr ""
"<.> 用户类的名称。 <.> 将 `limited` 类中的用户的最大进程数（maxproc）设置为 50。 <.> 表示该用户类继承了“"
"default”类的默认设置。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1849
#, 
msgid ""
"After modifying the [.filename]#/etc/login.conf# file, run man:cap_mkdb[1] "
"to generate the database that FreeBSD uses to apply these settings:"
msgstr ""
"在修改 [.filename]#/etc/login.conf# 文件后，运行 man:cap_mkdb[1] 命令生成 FreeBSD "
"使用的数据库，以应用这些设置："

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1856
#, 
msgid ""
"man:chpass[1] can be used to change the class to the desired user executint "
"the following command:"
msgstr "man:chpass[1] 可以用于更改用户的类别，执行以下命令："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:1860
#, no-wrap
msgid "# chpass username\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1863
#, 
msgid ""
"This will open a text editor, add the new `limited` class there as follows:"
msgstr "这将打开一个文本编辑器，在其中添加新的 `limited` 类，如下所示："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:1882
#, no-wrap
msgid ""
"#Changing user information for username.\n"
"Login: username\n"
"Password: $6$2H.419USdGaiJeqK$6kgcTnDadasdasd3YnlNZsOni5AMymibkAfRCPirc7ZFjjv\n"
"DVsKyXx26daabdfqSdasdsmL/ZMUpdHiO0\n"
"Uid [#]: 1001\n"
"Gid [# or name]: 1001\n"
"Change [month day year]:\n"
"Expire [month day year]:\n"
"Class: limited\n"
"Home directory: /home/username\n"
"Shell: /bin/sh\n"
"Full Name: User &\n"
"Office Location:\n"
"Office Phone:\n"
"Home Phone:\n"
"Other information:\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1886
#, 
msgid ""
"Now, the user assigned to the `limited` class will have a maximum process "
"limit of 50.  Remember that this is just one example of setting a resource "
"limit using the [.filename]#/etc/login.conf# file."
msgstr ""
"现在，分配给 `limited` 类的用户将具有最大进程限制为 50。请记住，这只是使用 [.filename]#/etc/login.conf# "
"文件设置资源限制的一个示例。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1889
#, 
msgid ""
"Keep in mind that after making changes to the [.filename]#/etc/login.conf# "
"file, the user needs to log out and log back in for the changes to take "
"effect.  Additionally, always exercise caution when editing system "
"configuration files, especially when using privileged access."
msgstr ""
"请记住，在对 [.filename]#/etc/login.conf# "
"文件进行更改后，用户需要注销并重新登录以使更改生效。此外，在编辑系统配置文件时，特别是在使用特权访问时，始终要谨慎行事。"

#. type: Title ===
#: documentation/content/en/books/handbook/security/_index.adoc:1891
#, no-wrap
msgid "Enabling and Configuring Resource Limits"
msgstr "启用和配置资源限制"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1895
#, 
msgid ""
"The man:rctl[8] system provides a more fine-grained way to set and manage "
"resource limits for individual processes and users.  It allows you to "
"dynamically assign resource limits to specific processes or users, "
"regardless of their user class."
msgstr ""
"man:rctl[8] "
"系统提供了一种更精细的方式来设置和管理单个进程和用户的资源限制。它允许您动态地为特定的进程或用户分配资源限制，而不考虑他们的用户类别。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1897
#, 
msgid ""
"The first step to use man:rctl[8] will be to enable it adding the following "
"line to [.filename]#/boot/loader.conf# and reboot the system:"
msgstr "使用 man:rctl[8] 的第一步是将以下行添加到 [.filename]#/boot/loader.conf# 并重新启动系统，以启用它："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:1901
#, no-wrap
msgid "kern.racct.enable=1\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1904
#, 
msgid ""
"Then active the man:rctl[8] service and enable it executing by the following"
" commands:"
msgstr "然后激活 man:rctl[8] 服务并通过以下命令启用它执行："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:1909
#, no-wrap
msgid ""
"# sysrc rctl_enable=\"YES\"\n"
"# service rctl start\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1912
#, 
msgid "Then man:rctl[8] may be used to set rules for the system."
msgstr "然后可以使用 man:rctl[8] 来为系统设置规则。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1914
#, 
msgid ""
"Rule syntax (man:rctl.conf[5]) is controlled through the use of a subject, "
"subject-id, resource, and action, as seen in this example rule:"
msgstr "规则语法（man:rctl.conf[5]）通过使用主题、主题 ID 、资源和操作来进行控制，如下面的示例规则所示："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:1918
#, no-wrap
msgid "subject:subject-id:resource:action=amount/per\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1921
#, 
msgid ""
"For example to constrained the user to add no more than 10 processes execute"
" the following command:"
msgstr "例如，要限制用户添加的进程数量不超过 10 个，请执行以下命令："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:1925
#, no-wrap
msgid "# rctl -a user:username:maxproc:deny=10/user\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1928
#, 
msgid ""
"To check the applied resource limits the man:rctl[8] command can be "
"executed:"
msgstr "要检查应用的资源限制，可以执行 man:rctl[8] 命令。"

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:1932
#, no-wrap
msgid "# rctl\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:1939
#: documentation/content/en/books/handbook/security/_index.adoc:1947
#, no-wrap
msgid "user:username:maxproc:deny=10\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1943
#, 
msgid ""
"Rules will persist across reboots if they have been added to "
"[.filename]#/etc/rctl.conf#.  The format is a rule, without the preceding "
"command. For example, the previous rule could be added as:"
msgstr ""
"如果将规则添加到 [.filename]#/etc/rctl.conf# 文件中，规则将在重新启动后保持不变。格式是一个规则，没有前导命令。例如，可以将上述规则添加为："

#. type: Title ==
#: documentation/content/en/books/handbook/security/_index.adoc:1950
#, no-wrap
msgid "Monitoring Third Party Security Issues"
msgstr "监控第三方安全问题"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1954
#, 
msgid ""
"In recent years, the security world has made many improvements to how "
"vulnerability assessment is handled.  The threat of system intrusion "
"increases as third party utilities are installed and configured for "
"virtually any operating system available today."
msgstr "近年来，安全领域在漏洞评估的处理方面取得了许多改进。随着第三方工具在几乎所有现有操作系统上的安装和配置，系统入侵的威胁也在增加。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1959
#, 
msgid ""
"Vulnerability assessment is a key factor in security.  While FreeBSD "
"releases advisories for the base system, doing so for every third party "
"utility is beyond the FreeBSD Project's capability.  There is a way to "
"mitigate third party vulnerabilities and warn administrators of known "
"security issues.  A FreeBSD add on utility known as pkg includes options "
"explicitly for this purpose."
msgstr ""
"漏洞评估是安全性的关键因素。虽然 FreeBSD 为基本系统发布了安全公告，但对于每个第三方实用程序都这样做超出了 FreeBSD "
"项目的能力范围。有一种方法可以减轻第三方漏洞并警告管理员已知的安全问题。一个名为 pkg 的 FreeBSD 附加实用程序专门包含了这个目的的选项。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1962
#, 
msgid ""
"pkg polls a database for security issues.  The database is updated and "
"maintained by the FreeBSD Security Team and ports developers."
msgstr "pkg 轮询数据库以查找安全问题。该数据库由 FreeBSD 安全团队和端口开发人员更新和维护。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1964
#, 
msgid ""
"Installation provides man:periodic[8] configuration files for maintaining "
"the pkg audit database, and provides a programmatic method of keeping it "
"updated."
msgstr "安装提供了用于维护 pkg audit 数据库的 man:periodic[8] 配置文件，并提供了一种程序化的方法来保持其更新。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1966
#, 
msgid ""
"After installation, and to audit third party utilities as part of the Ports "
"Collection at any time, an administrator may choose to update the database "
"and view known vulnerabilities of installed packages by invoking:"
msgstr "安装完成后，管理员可以选择更新数据库并查看已安装软件包的已知漏洞，以便随时审核第三方工具作为 Ports Collection 的一部分。"

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:1970
#, no-wrap
msgid "% pkg audit -F\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:1985
#, no-wrap
msgid ""
"vulnxml file up-to-date\n"
"chromium-116.0.5845.96_1 is vulnerable:\n"
"  chromium -- multiple vulnerabilities\n"
"  CVE: CVE-2023-4431\n"
"  CVE: CVE-2023-4427\n"
"  CVE: CVE-2023-4428\n"
"  CVE: CVE-2023-4429\n"
"  CVE: CVE-2023-4430\n"
"  WWW: https://vuxml.FreeBSD.org/freebsd/5fa332b9-4269-11ee-8290-a8a1599412c6.html\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:1994
#, no-wrap
msgid ""
"samba413-4.13.17_5 is vulnerable:\n"
"  samba -- multiple vulnerabilities\n"
"  CVE: CVE-2023-3347\n"
"  CVE: CVE-2023-34966\n"
"  CVE: CVE-2023-34968\n"
"  CVE: CVE-2022-2127\n"
"  CVE: CVE-2023-34967\n"
"  WWW: https://vuxml.FreeBSD.org/freebsd/441e1e1a-27a5-11ee-a156-080027f5fec9.html\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:1996
#, no-wrap
msgid "2 problem(s) in 2 installed package(s) found.\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:1999
#, 
msgid ""
"By pointing a web browser to the displayed URL, an administrator may obtain "
"more information about the vulnerability."
msgstr "通过将 Web 浏览器指向显示的 URL，管理员可以获取有关漏洞的更多信息。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:2001
#, 
msgid ""
"This will include the versions affected, by FreeBSD port version, along with"
" other web sites which may contain security advisories."
msgstr "这将包括受影响的版本，按照 FreeBSD port 版本列出，以及可能包含安全公告的其他网站。"

#. type: Title ==
#: documentation/content/en/books/handbook/security/_index.adoc:2003
#, no-wrap
msgid "FreeBSD Security Advisories"
msgstr "FreeBSD 安全公告"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:2007
#, 
msgid ""
"Like many producers of quality operating systems, the FreeBSD Project has a "
"security team which is responsible for determining the End-of-Life (EoL) "
"date for each FreeBSD release and to provide security updates for supported "
"releases which have not yet reached their EoL.  More information about the "
"FreeBSD security team and the supported releases is available on the "
"link:https://www.FreeBSD.org/security[FreeBSD security page]."
msgstr ""
"像许多优质操作系统的生产者一样，FreeBSD 项目有一个安全团队，负责确定每个 FreeBSD 发布版本的生命周期结束（EoL"
"）日期，并为尚未达到其 EoL 的受支持版本提供安全更新。有关 FreeBSD 安全团队和受支持版本的更多信息，请访问 link:"
"https://www.FreeBSD.org/security[FreeBSD 安全页面]。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:2012
#, 
msgid ""
"One task of the security team is to respond to reported security "
"vulnerabilities in the FreeBSD operating system.  Once a vulnerability is "
"confirmed, the security team verifies the steps necessary to fix the "
"vulnerability and updates the source code with the fix.  It then publishes "
"the details as a \"Security Advisory\".  Security advisories are published "
"on the link:https://www.FreeBSD.org/security/advisories/[FreeBSD website] "
"and mailed to the {freebsd-security-notifications}, {freebsd-security}, and "
"{freebsd-announce}."
msgstr ""
"安全团队的一个任务是响应 FreeBSD "
"操作系统中报告的安全漏洞。一旦确认了漏洞，安全团队会验证修复漏洞所需的步骤，并更新源代码进行修复。然后，它将详细信息发布为“安全公告”。安全公告会发布在"
" link:https://www.FreeBSD.org/security/advisories/[FreeBSD 网站] 上，并发送给 {freebsd-"
"security-notifications}、{freebsd-security} 和 {freebsd-announce}。"

#. type: Title ===
#: documentation/content/en/books/handbook/security/_index.adoc:2013
#, no-wrap
msgid "Format of a Security Advisory"
msgstr "安全公告的格式"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:2016
#, 
msgid "Here is an example of a FreeBSD security advisory:"
msgstr "这是一个 FreeBSD 安全公告的示例："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:2021
#, no-wrap
msgid ""
"-----BEGIN PGP SIGNED MESSAGE-----\n"
"Hash: SHA512\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:2025
#, no-wrap
msgid ""
"=============================================================================\n"
"FreeBSD-SA-23:07.bhyve                                      Security Advisory\n"
"                                                          The FreeBSD Project\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:2027
#, no-wrap
msgid "Topic:          bhyve privileged guest escape via fwctl\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:2037
#, no-wrap
msgid ""
"Category:       core\n"
"Module:         bhyve\n"
"Announced:      2023-08-01\n"
"Credits:        Omri Ben Bassat and Vladimir Eli Tokarev from Microsoft\n"
"Affects:        FreeBSD 13.1 and 13.2\n"
"Corrected:      2023-08-01 19:48:53 UTC (stable/13, 13.2-STABLE)\n"
"                2023-08-01 19:50:47 UTC (releng/13.2, 13.2-RELEASE-p2)\n"
"                2023-08-01 19:48:26 UTC (releng/13.1, 13.1-RELEASE-p9)\n"
"CVE Name:       CVE-2023-3494\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:2041
#, no-wrap
msgid ""
"For general information regarding FreeBSD Security Advisories,\n"
"including descriptions of the fields above, security branches, and the\n"
"following sections, please visit <URL:https://security.FreeBSD.org/>.\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:2043
#, no-wrap
msgid "I.   Background\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:2049
#, no-wrap
msgid ""
"bhyve(8)'s fwctl interface provides a mechanism through which guest\n"
"firmware can query the hypervisor for information about the virtual\n"
"machine.  The fwctl interface is available to guests when bhyve is run\n"
"with the \"-l bootrom\" option, used for example when booting guests in\n"
"UEFI mode.\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:2051
#, no-wrap
msgid "bhyve is currently only supported on the amd64 platform.\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:2053
#, no-wrap
msgid "II.  Problem Description\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:2059
#, no-wrap
msgid ""
"The fwctl driver implements a state machine which is executed when the\n"
"guest accesses certain x86 I/O ports.  The interface lets the guest copy\n"
"a string into a buffer resident in the bhyve process' memory.  A bug in\n"
"the state machine implementation can result in a buffer overflowing when\n"
"copying this string.\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:2061
#, no-wrap
msgid "III. Impact\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:2067
#, no-wrap
msgid ""
"A malicious, privileged software running in a guest VM can exploit the\n"
"buffer overflow to achieve code execution on the host in the bhyve\n"
"userspace process, which typically runs as root.  Note that bhyve runs\n"
"in a Capsicum sandbox, so malicious code is constrained by the\n"
"capabilities available to the bhyve process.\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:2069
#, no-wrap
msgid "IV.  Workaround\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:2072
#, no-wrap
msgid ""
"No workaround is available.  bhyve guests that are executed without the\n"
"\"-l bootrom\" option are unaffected.\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:2074
#, no-wrap
msgid "V.   Solution\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:2077
#, no-wrap
msgid ""
"Upgrade your vulnerable system to a supported FreeBSD stable or\n"
"release / security branch (releng) dated after the correction date.\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:2079
#, no-wrap
msgid "Perform one of the following:\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:2081
#, no-wrap
msgid "1) To update your vulnerable system via a binary patch:\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:2085
#, no-wrap
msgid ""
"Systems running a RELEASE version of FreeBSD on the amd64, i386, or\n"
"(on FreeBSD 13 and later) arm64 platforms can be updated via the\n"
"freebsd-update(8) utility:\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:2088
#, no-wrap
msgid ""
"# freebsd-update fetch\n"
"# freebsd-update install\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:2090
#: documentation/content/en/books/handbook/security/_index.adoc:2118
#, no-wrap
msgid "Restart all affected virtual machines.\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:2092
#, no-wrap
msgid "2) To update your vulnerable system via a source code patch:\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:2095
#, no-wrap
msgid ""
"The following patches have been verified to apply to the applicable\n"
"FreeBSD release branches.\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:2098
#, no-wrap
msgid ""
"a) Download the relevant patch from the location below, and verify the\n"
"detached PGP signature using your PGP utility.\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:2103
#, no-wrap
msgid ""
"[FreeBSD 13.2]\n"
"# fetch https://security.FreeBSD.org/patches/SA-23:07/bhyve.13.2.patch\n"
"# fetch https://security.FreeBSD.org/patches/SA-23:07/bhyve.13.2.patch.asc\n"
"# gpg --verify bhyve.13.2.patch.asc\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:2108
#, no-wrap
msgid ""
"[FreeBSD 13.1]\n"
"# fetch https://security.FreeBSD.org/patches/SA-23:07/bhyve.13.1.patch\n"
"# fetch https://security.FreeBSD.org/patches/SA-23:07/bhyve.13.1.patch.asc\n"
"# gpg --verify bhyve.13.1.patch.asc\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:2110
#, no-wrap
msgid "b) Apply the patch.  Execute the following commands as root:\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:2113
#, no-wrap
msgid ""
"# cd /usr/src\n"
"# patch < /path/to/patch\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:2116
#, no-wrap
msgid ""
"c) Recompile the operating system using buildworld and installworld as\n"
"described in <URL:https://www.FreeBSD.org/handbook/makeworld.html>.\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:2120
#, no-wrap
msgid "VI.  Correction details\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:2123
#, no-wrap
msgid ""
"This issue is corrected by the corresponding Git commit hash or Subversion\n"
"revision number in the following stable and release branches:\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:2130
#, no-wrap
msgid ""
"Branch/path                             Hash                     Revision\n"
"- -------------------------------------------------------------------------\n"
"stable/13/                              9fe302d78109    stable/13-n255918\n"
"releng/13.2/                            2bae613e0da3  releng/13.2-n254625\n"
"releng/13.1/                            87702e38a4b4  releng/13.1-n250190\n"
"- -------------------------------------------------------------------------\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:2133
#, no-wrap
msgid ""
"Run the following command to see which files were modified by a\n"
"particular commit:\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:2135
#, no-wrap
msgid "# git show --stat <commit hash>\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:2137
#, no-wrap
msgid "Or visit the following URL, replacing NNNNNN with the hash:\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:2139
#, no-wrap
msgid "<URL:https://cgit.freebsd.org/src/commit/?id=NNNNNN>\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:2142
#, no-wrap
msgid ""
"To determine the commit count in a working tree (for comparison against\n"
"nNNNNNN in the table above), run:\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:2144
#, no-wrap
msgid "# git rev-list --count --first-parent HEAD\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:2146
#, no-wrap
msgid "VII. References\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:2148
#, no-wrap
msgid "<URL:https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2023-3494>\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:2152
#, no-wrap
msgid ""
"The latest revision of this advisory is available at\n"
"<URL:https://security.FreeBSD.org/advisories/FreeBSD-SA-23:07.bhyve.asc>\n"
"-----BEGIN PGP SIGNATURE-----\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/security/_index.adoc:2167
#, no-wrap
msgid ""
"iQIzBAEBCgAdFiEEthUnfoEIffdcgYM7bljekB8AGu8FAmTJdsIACgkQbljekB8A\n"
"Gu8Q1Q/7BFw5Aa0cFxBzbdz+O5NAImj58MvKS6xw61bXcYr12jchyT6ENC7yiR+K\n"
"qCqbe5TssRbtZ1gg/94gSGEXccz5OcJGxW+qozhcdPUh2L2nzBPkMCrclrYJfTtM\n"
"cnmQKjg/wFZLUVr71GEM95ZFaktlZdXyXx9Z8eBzow5rXexpl1TTHQQ2kZZ41K4K\n"
"KFhup91dzGCIj02cqbl+1h5BrXJe3s/oNJt5JKIh/GBh5THQu9n6AywQYl18HtjV\n"
"fMb1qRTAS9WbiEP5QV2eEuOG86ucuhytqnEN5MnXJ2rLSjfb9izs9HzLo3ggy7yb\n"
"hN3tlbfIPjMEwYexieuoyP3rzKkLeYfLXqJU4zKCRnIbBIkMRy4mcFkfcYmI+MhF\n"
"NPh2R9kccemppKXeDhKJurH0vsetr8ti+AwOZ3pgO21+9w+mjE+EfaedIi+JWhip\n"
"hwqeFv03bAQHJdacNYGV47NsJ91CY4ZgWC3ZOzBZ2Y5SDtKFjyc0bf83WTfU9A/0\n"
"drC0z3xaJribah9e6k5d7lmZ7L6aHCbQ70+aayuAEZQLr/N1doB0smNi0IHdrtY0\n"
"JdIqmVX+d1ihVhJ05prC460AS/Kolqiaysun1igxR+ZnctE9Xdo1BlLEbYu2KjT4\n"
"LpWvSuhRMSQaYkJU72SodQc0FM5mqqNN42Vx+X4EutOfvQuRGlI=\n"
"=MlAY\n"
"-----END PGP SIGNATURE-----\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:2170
#, 
msgid "Every security advisory uses the following format:"
msgstr "每个安全公告都使用以下格式："

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:2172
#, 
msgid ""
"Each security advisory is signed by the PGP key of the Security Officer. The"
" public key for the Security Officer can be verified at "
"crossref:pgpkeys[pgpkeys,OpenPGP Keys]."
msgstr ""
"每个安全公告都由安全官员的 PGP 密钥签名。可以在 crossref:pgpkeys[pgpkeys,OpenPGP Keys] "
"上验证安全官员的公钥。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:2173
#, 
msgid ""
"The name of the security advisory always begins with `FreeBSD-SA-` (for "
"FreeBSD Security Advisory), followed by the year in two digit format "
"(`23:`), followed by the advisory number for that year (`07.`), followed by "
"the name of the affected application or subsystem (`bhyve`)."
msgstr ""
"安全公告的名称始终以 `FreeBSD-SA-`（FreeBSD 安全公告）开头，后跟两位数格式的年份（`23:`），后跟该年份的公告编号（"
"`07.`），后跟受影响的应用程序或子系统的名称（`bhyve`）。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:2174
#, 
msgid "The `Topic` field summarizes the vulnerability."
msgstr "`Topic` 字段总结了漏洞的内容。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:2175
#, 
msgid ""
"The `Category` refers to the affected part of the system which may be one of"
" `core`, `contrib`, or `ports`. The `core` category means that the "
"vulnerability affects a core component of the FreeBSD operating system. The "
"`contrib` category means that the vulnerability affects software included "
"with FreeBSD, such as BIND. The `ports` category indicates that the "
"vulnerability affects software available through the Ports Collection."
msgstr ""
"`Category` 指的是系统中受影响的部分，可以是 `core`、`contrib` 或 `ports` 之一。`core` 类别表示漏洞影响"
" FreeBSD 操作系统的核心组件。`contrib` 类别表示漏洞影响 FreeBSD 中包含的软件，如 BIND。`ports` "
"类别表示漏洞影响通过 Ports Collection 提供的软件。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:2176
#, 
msgid ""
"The `Module` field refers to the component location. In this example, the "
"`bhyve` module is affected; therefore, this vulnerability affects an "
"application installed with the operating system."
msgstr "`Module` 字段指的是组件的位置。在这个例子中，`bhyve` 模块受到影响；因此，这个漏洞会影响安装有操作系统的应用程序。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:2177
#, 
msgid ""
"The `Announced` field reflects the date the security advisory was published."
" This means that the security team has verified that the problem exists and "
"that a patch has been committed to the FreeBSD source code repository."
msgstr ""
"`Announced` 字段反映了安全公告发布的日期。这意味着安全团队已经验证了问题的存在，并且已经提交了一个补丁到 FreeBSD 源代码仓库中。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:2178
#, 
msgid ""
"The `Credits` field gives credit to the individual or organization who "
"noticed the vulnerability and reported it."
msgstr "`Credits` 字段用于给发现并报告漏洞的个人或组织提供鸣谢。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:2179
#, 
msgid ""
"The `Affects` field explains which releases of FreeBSD are affected by this "
"vulnerability."
msgstr "`Affects` 字段说明了哪些版本的 FreeBSD 受到此漏洞的影响。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:2180
#, 
msgid ""
"The `Corrected` field indicates the date, time, time offset, and releases "
"that were corrected. The section in parentheses shows each branch for which "
"the fix has been merged, and the version number of the corresponding release"
" from that branch. The release identifier itself includes the version number"
" and, if appropriate, the patch level. The patch level is the letter `p` "
"followed by a number, indicating the sequence number of the patch, allowing "
"users to track which patches have already been applied to the system."
msgstr ""
"`Corrected` "
"字段表示修正的日期、时间、时间偏移和修正的发布版本。括号中的部分显示了已合并修复的每个分支，以及该分支对应发布的版本号。发布标识符本身包括版本号和（如果适用）补丁级别。补丁级别是字母"
" `p` 后跟一个数字，表示补丁的序列号，允许用户跟踪已应用到系统的补丁。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:2181
#, 
msgid ""
"The `CVE Name` field lists the advisory number, if one exists, in the public"
" http://cve.mitre.org[cve.mitre.org] security vulnerabilities database."
msgstr ""
"`CVE Name` 字段列出了公共 http://cve.mitre.org[cve.mitre.org] 安全漏洞数据库中的咨询编号（如果存在）。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:2182
#, 
msgid "The `Background` field provides a description of the affected module."
msgstr "`Background` 字段提供了受影响模块的描述。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:2183
#, 
msgid ""
"The `Problem Description` field explains the vulnerability. This can include"
" information about the flawed code and how the utility could be maliciously "
"used."
msgstr "`Problem Description` 字段解释了漏洞的情况。这可能包括有关有缺陷的代码以及如何恶意使用该实用程序的信息。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:2184
#, 
msgid ""
"The `Impact` field describes what type of impact the problem could have on a"
" system."
msgstr "`Impact` 字段描述了问题对系统可能产生的影响类型。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:2185
#, 
msgid ""
"The `Workaround` field indicates if a workaround is available to system "
"administrators who cannot immediately patch the system."
msgstr "`Workaround` 字段指示系统管理员是否可以立即修补系统，以及是否有可用的解决方法。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:2186
#, 
msgid ""
"The `Solution` field provides the instructions for patching the affected "
"system. This is a step by step tested and verified method for getting a "
"system patched and working securely."
msgstr "`Solution` 字段提供了修补受影响系统的指令。这是一个经过逐步测试和验证的方法，用于修补系统并确保其安全运行。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:2187
#, 
msgid ""
"The `Correction Details` field displays each affected Subversion or Git "
"branch with the revision number that contains the corrected code."
msgstr "`Correction Details` 字段显示了每个受影响的 Subversion 或 Git 分支以及包含修正代码的修订版本号。"

#. type: Plain text
#: documentation/content/en/books/handbook/security/_index.adoc:2187
#, 
msgid ""
"The `References` field offers sources of additional information regarding "
"the vulnerability."
msgstr "`References` 字段提供了有关漏洞的额外信息的来源。"
